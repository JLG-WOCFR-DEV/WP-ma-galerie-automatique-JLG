(()=>{var Ve=(e,i)=>()=>(e&&(i=e(e=0)),i);var Wt=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var Gt,Qt,dt,pt,gt,mt=Ve(()=>{Gt=/%(\d+\$)?[sd]/g,Qt=()=>(e,...i)=>{let t=0;return String(e).replace(Gt,(p,s)=>{let w,G=p.charAt(p.length-1);if(s){let te=parseInt(s.slice(0,-1),10);if(Number.isNaN(te)||te<=0)return"";w=te-1}else w=t,t+=1;let L=w>=0&&w<i.length?i[w]:void 0;if(G==="d"){let te=parseInt(L,10);return Number.isNaN(te)?"":String(te)}return typeof L=="undefined"?"":String(L)})},dt=e=>e&&typeof e.sprintf=="function"?e.sprintf:Qt(),pt=e=>e&&typeof e.__=="function"?e.__:i=>i,gt=e=>!e||typeof e!="object"?null:e.wp&&e.wp.i18n?e.wp.i18n:null});var tt,rt,Yt,ht,Xt,yt,vt=Ve(()=>{tt={facebook:{viewBox:"0 0 24 24",paths:[{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.99 3.66 9.12 8.44 9.88v-6.99H8.08V12h2.36V9.88c0-2.33 1.38-3.62 3.5-3.62 0.72 0 1.48 0.13 1.48 0.13v1.63h-0.83c-0.82 0-1.08 0.51-1.08 1.04V12h1.84l-0.29 1.89h-1.55v6.99C18.34 21.12 22 16.99 22 12z"}]},twitter:{viewBox:"0 0 24 24",paths:[{d:"M22.46 6c-0.77 0.35-1.6 0.59-2.46 0.69a4.29 4.29 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04 4.28 4.28 0 0 0-7.3 3.9 12.13 12.13 0 0 1-8.82-4.47 4.28 4.28 0 0 0 1.33 5.72 4.25 4.25 0 0 1-1.94-0.54v0.05a4.28 4.28 0 0 0 3.43 4.2 4.3 4.3 0 0 1-1.93 0.07 4.28 4.28 0 0 0 4 2.97 8.58 8.58 0 0 1-5.3 1.83 12.1 12.1 0 0 0 6.56 1.92c7.88 0 12.2-6.53 12.2-12.2 0-0.19-0.01-0.39-0.01-0.58A8.7 8.7 0 0 0 22.46 6z"}]},linkedin:{viewBox:"0 0 24 24",paths:[{d:"M20.45 3H3.55A1.55 1.55 0 0 0 2 4.55v14.9C2 20.3 2.7 21 3.55 21h16.9c0.85 0 1.55-0.7 1.55-1.55V4.55C22 3.7 21.3 3 20.45 3zM8.34 18H5.67V9.67h2.67V18zM7 8.5a1.55 1.55 0 1 1 0-3.1 1.55 1.55 0 0 1 0 3.1zM18.33 18h-2.67v-4.1c0-0.98-0.02-2.24-1.36-2.24-1.36 0-1.56 1.06-1.56 2.16V18h-2.67V9.67h2.56v1.14h0.04c0.36-0.68 1.24-1.4 2.56-1.4 2.74 0 3.25 1.8 3.25 4.13V18z"}]},pinterest:{viewBox:"0 0 24 24",paths:[{d:"M12 2C6.48 2 2 6.31 2 11.42c0 3.89 2.68 7.23 6.44 8.41-0.09-0.71-0.17-1.8 0.03-2.58 0.18-0.77 1.15-4.9 1.15-4.9s-0.29-0.58-0.29-1.45c0-1.36 0.79-2.37 1.78-2.37 0.84 0 1.24 0.63 1.24 1.38 0 0.84-0.53 2.09-0.8 3.25-0.23 1 0.5 1.81 1.48 1.81 1.78 0 3.14-1.87 3.14-4.57 0-2.39-1.72-4.07-4.18-4.07-2.85 0-4.52 2.14-4.52 4.35 0 0.86 0.33 1.79 0.74 2.29 0.08 0.1 0.09 0.19 0.07 0.29-0.07 0.31-0.23 1-0.26 1.13-0.04 0.18-0.14 0.22-0.32 0.13-1.2-0.56-1.95-2.29-1.95-3.68 0-3 2.18-5.76 6.29-5.76 3.3 0 5.87 2.35 5.87 5.5 0 3.28-2.06 5.93-4.92 5.93-0.96 0-1.86-0.5-2.17-1.08l-0.59 2.24c-0.21 0.83-0.78 1.87-1.16 2.5 0.87 0.27 1.78 0.42 2.72 0.42 5.52 0 10-4.31 10-9.42C22 6.31 17.52 2 12 2z"}]},whatsapp:{viewBox:"0 0 24 24",paths:[{d:"M20.52 3.48A10.5 10.5 0 0 0 2.47 13.3l-1.45 5.28 5.4-1.41A10.5 10.5 0 1 0 20.52 3.48zm-8.5 17.54a8.75 8.75 0 0 1-4.46-1.22l-0.32-0.19-3.21 0.84 0.86-3.13-0.2-0.32a8.75 8.75 0 1 1 7.33 3.99zm4.78-6.53c-0.26-0.13-1.53-0.76-1.77-0.84-0.24-0.09-0.41-0.13-0.58 0.13-0.17 0.26-0.66 0.84-0.8 1.02-0.15 0.17-0.29 0.2-0.55 0.07-0.26-0.13-1.09-0.4-2.07-1.3-0.76-0.68-1.27-1.52-1.42-1.78-0.15-0.26-0.02-0.4 0.11-0.53 0.11-0.11 0.26-0.29 0.39-0.43 0.13-0.15 0.17-0.26 0.26-0.43 0.09-0.17 0.04-0.32-0.02-0.45-0.07-0.13-0.58-1.39-0.8-1.91-0.21-0.5-0.43-0.43-0.58-0.43-0.15 0-0.32-0.02-0.49-0.02-0.17 0-0.43 0.06-0.66 0.32-0.24 0.26-0.89 0.87-0.89 2.13s0.91 2.47 1.03 2.64c0.13 0.17 1.79 2.73 4.34 3.83 0.61 0.26 1.08 0.41 1.45 0.53 0.61 0.19 1.16 0.16 1.6 0.1 0.49-0.07 1.53-0.62 1.75-1.22 0.21-0.6 0.21-1.11 0.15-1.22-0.06-0.1-0.24-0.16-0.5-0.29z"}]},telegram:{viewBox:"0 0 24 24",paths:[{d:"M21.5 2.5l-19 7.5c-1.3 0.52-1.29 2.35 0.02 2.85l4.8 1.9 1.9 4.8c0.5 1.31 2.34 1.32 2.85 0.02l7.5-19c0.42-1.06-0.64-2.12-1.67-1.67zM10 14l-1 4-1.5-3.8 8.3-6.2-5.8 6z"}]},email:{viewBox:"0 0 24 24",paths:[{d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}]},link:{viewBox:"0 0 24 24",paths:[{d:"M10.59 13.41a1 1 0 0 1 0-1.41l2-2a1 1 0 1 1 1.41 1.41l-2 2a1 1 0 0 1-1.41 0zm-2.83 2.83a3 3 0 0 1 0-4.24l2-2a3 3 0 0 1 4.24 0 1 1 0 0 1-1.41 1.41 1 1 0 0 0-1.41 0l-2 2a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l1-1a1 1 0 1 1 1.41 1.41l-1 1a3 3 0 0 1-4.24 0zm8.48-8.48a3 3 0 0 0-4.24 0l-1 1a1 1 0 0 1-1.41-1.41l1-1a5 5 0 1 1 7.07 7.07l-2 2a5 5 0 0 1-7.07 0 1 1 0 0 1 1.41-1.41 3 3 0 0 0 4.24 0l2-2a3 3 0 0 0 0-4.24z"}]},generic:{viewBox:"0 0 24 24",paths:[{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"},{d:"M13 17h-2v-2h2zm0-4h-2V7h2z"}]},copy:{viewBox:"0 0 24 24",paths:[{d:"M16 1H4a2 2 0 0 0-2 2v12h2V3h12V1zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16H8V7h11v14z"}]},download:{viewBox:"0 0 24 24",paths:[{d:"M5 20h14v-2H5v2zm7-16v9l3.5-3.5 1.42 1.42L12 17l-4.92-4.92L8.5 10.66 12 14.17V4z"}]},native:{viewBox:"0 0 24 24",paths:[{d:"M18 16.08c-0.76 0-1.44 0.3-1.96 0.77L8.91 12.7c0.05-0.23 0.09-0.46 0.09-0.7s-0.04-0.47-0.09-0.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 0.24 0.03 0.47 0.09 0.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c0.79 0 1.5-0.31 2.03-0.82l7.05 4.12c-0.06 0.23-0.08 0.46-0.08 0.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"}]}},rt=e=>typeof e!="string"?"":e.trim().toLowerCase().replace(/[^a-z0-9_-]/g,""),Yt=e=>{let i=rt(e);return i&&tt[i]?tt[i]:tt.generic},ht=(e,i,t={})=>{if(!e||typeof e.createElementNS!="function")return null;let p=e.createElementNS("http://www.w3.org/2000/svg",i);return Object.keys(t).forEach(s=>{p.setAttribute(s,t[s])}),p},Xt=(e,i)=>{let t=Yt(i),p=ht(e,"svg",{viewBox:t.viewBox,fill:"currentColor","aria-hidden":"true",focusable:"false"});return p?(Array.isArray(t.paths)&&t.paths.forEach(s=>{let w=ht(e,"path",s);w&&p.appendChild(w)}),p):null},yt=(e,i,{wrapperTag:t="span",wrapperClass:p=""}={})=>{if(!e||typeof e.createElement!="function")return null;let s=e.createElement(t);p&&(s.className=p);let w=Xt(e,i);return w?(s.appendChild(w),s):null}});var Te,Le,ve,bt,wt=Ve(()=>{Te=null,Le=()=>{if(Te!==null)return Te;Te=!1;let e=typeof window!="undefined"?window.document:null;if(!e||typeof e.createElement!="function"||typeof window.HTMLElement=="undefined"||!window.HTMLElement.prototype||typeof window.HTMLElement.prototype.focus!="function")return Te;let i=e.createElement("button"),t=e.body||e.documentElement;try{i.type="button",t&&typeof t.appendChild=="function"&&t.appendChild(i),window.HTMLElement.prototype.focus.call(i,{get preventScroll(){return Te=!0,!0}})}catch(p){Te=!1}finally{i.parentNode&&typeof i.parentNode.removeChild=="function"&&i.parentNode.removeChild(i)}return Te},ve=(e,i={preventScroll:!0})=>{if(!e||typeof e.focus!="function")return;if(i&&Le())try{e.focus(i);return}catch(p){}e.focus()},bt=()=>{typeof window!="undefined"&&((!window.mgaFocusUtils||typeof window.mgaFocusUtils!="object")&&(window.mgaFocusUtils={}),window.mgaFocusUtils.detectFocusOptionsSupport=Le,window.mgaFocusUtils.safeFocus=ve)}});var Jt,St,Zt,F,er,tr,rr,nr,sr,ar,ir,xt,_t=Ve(()=>{Jt=e=>e&&e.performance&&typeof e.performance.now=="function"?e.performance.now():Date.now(),St=e=>e&&e.document||null,Zt=e=>e?((!e.mgaSwiperMetrics||typeof e.mgaSwiperMetrics!="object")&&(e.mgaSwiperMetrics={events:[]}),Array.isArray(e.mgaSwiperMetrics.events)||(e.mgaSwiperMetrics.events=[]),e.mgaSwiperMetrics):null,F=(e,i,t,p)=>{let s=Zt(e);if(s&&(s.events.push({namespace:i||"default",event:t,detail:p||{},timestamp:Jt(e)}),typeof e.dispatchEvent=="function"))try{let w=new e.CustomEvent("mga:swiper-metric",{detail:{namespace:i||"default",event:t,payload:p||{}}});e.dispatchEvent(w)}catch(w){}},er=e=>!e||typeof e!="object"?[]:(Array.isArray(e.attempts)?e.attempts:[]).map(t=>{if(!t||typeof t!="object"||t.enabled===!1)return null;let p=typeof t.key=="string"&&t.key?t.key:"fallback",s=t.js&&typeof t.js=="object"?t.js:{},w=t.css&&typeof t.css=="object"?t.css:null,G=t.inject!==!1,L=typeof s.src=="string"&&s.src?s.src:"";return L?{key:p,label:typeof t.label=="string"&&t.label?t.label:p,js:{src:L,integrity:typeof s.integrity=="string"&&s.integrity?s.integrity:null,crossOrigin:typeof s.crossOrigin=="string"&&s.crossOrigin?s.crossOrigin:null,referrerPolicy:typeof s.referrerPolicy=="string"&&s.referrerPolicy?s.referrerPolicy:null},css:w&&typeof w.href=="string"&&w.href?{href:w.href,integrity:typeof w.integrity=="string"&&w.integrity?w.integrity:null,crossOrigin:typeof w.crossOrigin=="string"&&w.crossOrigin?w.crossOrigin:null,referrerPolicy:typeof w.referrerPolicy=="string"&&w.referrerPolicy?w.referrerPolicy:null}:null,timeout:typeof t.timeout=="number"&&t.timeout>0?t.timeout:12e3,inject:G}:null}).filter(Boolean),tr=(e,i,t)=>{if(!i||!i.css)return Promise.resolve();let p=St(e);if(!p)return Promise.resolve();let s=Array.from(p.querySelectorAll('link[rel="stylesheet"]')).find(w=>w.href===i.css.href);return s?Promise.resolve(s):new Promise((w,G)=>{let L=p.createElement("link");L.rel="stylesheet",L.href=i.css.href,L.dataset.mgaSwiperSource=i.key,i.css.integrity&&(L.integrity=i.css.integrity),i.css.crossOrigin?L.crossOrigin=i.css.crossOrigin:i.css.integrity&&(L.crossOrigin="anonymous"),i.css.referrerPolicy&&(L.referrerPolicy=i.css.referrerPolicy),L.onload=()=>{F(e,t,"css_load_success",{source:i.key}),w(L)},L.onerror=()=>{F(e,t,"css_load_error",{source:i.key}),G(new Error("Stylesheet load error"))},p.head.appendChild(L),F(e,t,"css_load_start",{source:i.key,href:i.css.href})})},rr=(e,i,t)=>{if(!i||!i.js||!i.js.src)return Promise.reject(new Error("Invalid attempt configuration"));let p=St(e);if(!p)return Promise.reject(new Error("Document unavailable"));let s=Array.from(p.querySelectorAll("script")).find(w=>w.src===i.js.src&&!w.hasAttribute("data-mga-swiper-failed"));return s?new Promise((w,G)=>{if(typeof e.Swiper=="function"){s.setAttribute("data-mga-swiper-loaded","true"),F(e,t,"js_already_available",{source:i.key}),w(s);return}if(typeof s.hasAttribute=="function"&&s.hasAttribute("data-mga-swiper-loaded")){w(s);return}s.addEventListener("load",()=>{s.setAttribute("data-mga-swiper-loaded","true"),w(s)}),s.addEventListener("error",()=>{s.setAttribute("data-mga-swiper-failed","true"),G(new Error("Existing script failed"))}),F(e,t,"js_existing_observed",{source:i.key})}):new Promise((w,G)=>{let L=p.createElement("script");L.src=i.js.src,L.async=!1,L.dataset.mgaSwiperSource=i.key,i.js.integrity&&(L.integrity=i.js.integrity),i.js.crossOrigin?L.crossOrigin=i.js.crossOrigin:i.js.integrity&&(L.crossOrigin="anonymous"),i.js.referrerPolicy&&(L.referrerPolicy=i.js.referrerPolicy);let te=null,be=()=>{te&&(e.clearTimeout(te),te=null)};L.onload=()=>{be(),L.setAttribute("data-mga-swiper-loaded","true"),F(e,t,"js_load_success",{source:i.key}),w(L)},L.onerror=()=>{be(),L.setAttribute("data-mga-swiper-failed","true"),F(e,t,"js_load_error",{source:i.key}),G(new Error("Script load error"))},te=e.setTimeout(()=>{be(),L.setAttribute("data-mga-swiper-failed","true"),F(e,t,"js_load_timeout",{source:i.key,timeout:i.timeout}),G(new Error("Script load timeout"))},i.timeout||12e3),p.head.appendChild(L),F(e,t,"js_load_start",{source:i.key,src:i.js.src})})},nr=e=>e?((!e.mgaSwiperLoaderState||typeof e.mgaSwiperLoaderState!="object")&&(e.mgaSwiperLoaderState={promise:null}),e.mgaSwiperLoaderState):{promise:null},sr=(e,i,t)=>!i||!i.inject?Promise.resolve():typeof e.Swiper=="function"?Promise.resolve(e.Swiper):(F(e,t,"attempt_start",{source:i.key}),tr(e,i,t).catch(()=>null).then(()=>rr(e,i,t)).then(()=>{if(typeof e.Swiper=="function")return F(e,t,"attempt_success",{source:i.key}),e.Swiper;throw F(e,t,"attempt_no_global",{source:i.key}),new Error("Swiper global missing after load")}).catch(p=>{throw F(e,t,"attempt_error",{source:i.key,message:p&&p.message?p.message:String(p)}),p})),ar=(e,i,t)=>i.reduce((p,s)=>p.catch(()=>sr(e,s,t)),Promise.reject(new Error("initial"))),ir=(e,i)=>i&&typeof i=="object"?i:e&&e.mgaSwiperLoaderConfig&&typeof e.mgaSwiperLoaderConfig=="object"?e.mgaSwiperLoaderConfig:e&&e.mgaAdminConfig&&typeof e.mgaAdminConfig=="object"&&e.mgaAdminConfig.swiper?e.mgaAdminConfig.swiper:null,xt=(e=window,i={})=>{let t=typeof i.namespace=="string"&&i.namespace?i.namespace:"default";if(!e)return Promise.reject(new Error("Global scope unavailable"));if(typeof e.Swiper=="function")return F(e,t,"already_available",{}),Promise.resolve(e.Swiper);let p=ir(e,i.config),s=er(p);if(!s.length)return F(e,t,"no_attempts_configured",{}),Promise.reject(new Error("No Swiper attempts configured"));let w=nr(e);return w.promise||(F(e,t,"bootstrap",{version:p&&p.version?p.version:null,attempts:s.map(G=>G.key)}),w.promise=ar(e,s,t).catch(()=>{if(typeof e.Swiper=="function")return e.Swiper;throw F(e,t,"fatal",{}),new Error("Swiper could not be loaded")}).then(()=>{if(typeof e.Swiper=="function")return F(e,t,"ready",{}),e.Swiper;throw F(e,t,"fatal",{}),new Error("Swiper global unavailable")}).finally(()=>{w.promise=null})),w.promise}});var At=Ve(()=>{mt();vt();wt();_t()});var or=Wt((_r,Ke)=>{At();(function(e){bt();let i=gt(e),t=pt(i),p=dt(i);typeof Ke!="undefined"&&Ke.exports&&(Ke.exports={detectFocusOptionsSupport:Le,safeFocus:ve});let s=e.document,w=je=>{let ae=yt(s,rt(je));return ae?ae.querySelector("svg")||ae:null},G={url:"https://exemple.com/galerie/photo-01",text:"Une photo remarquable",title:"Collection studio"},L={"%url%":G.url,"%text%":G.text,"%title%":G.title},te=["http","https","mailto","tel","sms"],be=je=>typeof je!="string"?!1:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(je.trim());!s||typeof s.addEventListener!="function"||s.addEventListener("DOMContentLoaded",function(){var ct;let je=s.querySelector("[data-mga-settings-form]")||s.querySelector(".mga-admin-wrap form"),ae=s.querySelector(".mga-admin-wrap"),re=()=>{},We="mgaAdminThemePreference",Et=["light","dark","system"],Pe=ae?ae.querySelector("[data-mga-theme-select]"):null,we=typeof e.matchMedia=="function"?e.matchMedia("(prefers-color-scheme: dark)"):null,jt=()=>{try{return e.localStorage?e.localStorage.getItem(We):null}catch(r){return null}},kt=r=>{try{if(!e.localStorage)return;if(!r){e.localStorage.removeItem(We);return}e.localStorage.setItem(We,r)}catch(a){}},Ge=r=>{if(typeof r!="string")return"system";let a=r.trim().toLowerCase();return Et.includes(a)?a:"system"},Be=Ge(jt()),Ct=r=>r==="dark"?"dark":r==="light"?"light":(we&&typeof we.matches=="boolean"?we.matches:!1)?"dark":"light",Qe=(r,a={})=>{if(!ae)return;let c=Ge(r),_=Ct(c);ae.setAttribute("data-mga-theme-preference",c),ae.setAttribute("data-mga-theme",_),ae.classList.toggle("is-theme-dark",_==="dark"),ae.classList.toggle("is-theme-light",_!=="dark"),Pe&&Pe.value!==c&&(Pe.value=c),a.skipStorage||kt(c==="system"?"":c),Be=c};ae&&Qe(Be,{skipStorage:!0}),Pe&&(Pe.value=Be,Pe.addEventListener("change",r=>{let a=Ge(r.target?r.target.value:null);Qe(a)}));let nt=()=>{Be==="system"&&Qe("system",{skipStorage:!0})};we&&(typeof we.addEventListener=="function"?we.addEventListener("change",nt):typeof we.addListener=="function"&&we.addListener(nt));let De=(r=>{let a=s.querySelector("[data-mga-wizard]");if(!a)return null;let c=Array.from(a.querySelectorAll("[data-mga-step-panel]")),_=Array.from(a.querySelectorAll("[data-mga-step-indicator]")),E=a.querySelector("[data-mga-step-prev]"),k=a.querySelector("[data-mga-step-next]"),D=a.querySelector("[data-mga-step-submit]"),R=a.querySelector("[data-mga-save-status]"),M=c.length-1,j=c.findIndex(l=>l.classList.contains("is-active"));j<0&&(j=0);let z=()=>e.mgaAdminConfig&&e.mgaAdminConfig.messages||{},V=(l,v)=>{if(!R)return;let T=v||z()[l]||"";R.textContent=T,R.setAttribute("data-mga-status-state",l)},N=()=>{E&&(E.disabled=j===0),k&&(k.hidden=j>=M),D&&(D.hidden=j<M)},$=l=>{if(!l)return;let v=l.querySelector("[data-mga-step-title]")||l,T=Le()?{preventScroll:!0}:void 0;e.requestAnimationFrame(()=>{ve(v,T)})},ie=l=>{l.classList.remove("is-active"),l.setAttribute("hidden","hidden"),l.setAttribute("aria-hidden","true")},Y=l=>{l.classList.add("is-active"),l.removeAttribute("hidden"),l.setAttribute("aria-hidden","false")},se=()=>{_.forEach((l,v)=>{l.classList.toggle("is-active",v===j),l.classList.toggle("is-completed",v<j),l.setAttribute("aria-current",v===j?"step":"false")})},A=(()=>{let l=null,v=a.querySelector("[data-mga-summary-preset]"),T=a.querySelector("[data-mga-summary-timing]"),q=a.querySelector("[data-mga-summary-toolbar]"),n=a.querySelector("[data-mga-summary-share]"),m=a.querySelector("[data-mga-summary-validations]"),u=a.querySelector("[data-mga-summary-diff]"),b=u?u.querySelector("[data-mga-summary-diff-list]"):null,S=u?u.querySelector("[data-mga-summary-diff-baseline]"):null,I=u?u.querySelector("[data-mga-summary-diff-empty]"):null,U=a.querySelector("[data-mga-summary-scoreboard]"),oe=(()=>{let h=new Map;return U&&U.querySelectorAll("[data-mga-scorecard]").forEach(f=>{let y=f.getAttribute("data-mga-score-key");y&&h.set(y,f)}),h})(),le=(h,f)=>{let y=oe.get(h);if(!y||!f)return;let P=f.level||"info";y.setAttribute("data-score-level",P);let B=y.querySelector("[data-mga-scorecard-status]");B&&(B.textContent=f.message||"");let K=y.querySelector("[data-mga-scorecard-points]");K&&Array.isArray(f.points)&&f.points.forEach(W=>{if(!W||!W.key)return;let Ae=K.querySelector(`[data-point="${W.key}"]`);if(!Ae)return;let O=W.state||"info";Ae.setAttribute("data-point-state",O),typeof W.text=="string"&&(Ae.textContent=W.text)})},ge=h=>{!h||!oe.size||Object.keys(h).forEach(f=>{le(f,h[f])})},ut={positive:0,info:1,warning:2,alert:3},Ue=h=>{if(!Array.isArray(h)||h.length===0)return"info";let f="positive";return h.forEach(y=>{let P=y&&y.state?y.state:"info";ut[P]>ut[f]&&(f=P)}),f},$e=(h,f)=>{let P={ux:{positive:t("Parcours fluide et align\xE9 sur les extensions premium.","lightbox-jlg"),info:t("Quelques optimisations UX restent possibles.","lightbox-jlg"),warning:t("Ajustez le rythme ou la navigation pour \xE9galer les standards pro.","lightbox-jlg"),alert:t("Corrigez les r\xE9glages UX critiques avant publication.","lightbox-jlg")},accessibility:{positive:t("Accessible par d\xE9faut\xA0: pr\xEAt pour un audit WCAG.","lightbox-jlg"),info:t("Affinez deux ou trois points pour une accessibilit\xE9 parfaite.","lightbox-jlg"),warning:t("Renforcez l\u2019accessibilit\xE9 pour rester au niveau des lightbox professionnelles.","lightbox-jlg"),alert:t("Corrigez les probl\xE8mes d\u2019accessibilit\xE9 avant publication.","lightbox-jlg")},reliability:{positive:t("Stack pr\xEAte pour une mise en production sans surprise.","lightbox-jlg"),info:t("V\xE9rifiez vos fallbacks pour \xE9galer la robustesse des offres pro.","lightbox-jlg"),warning:t("S\xE9curisez la configuration avant de la confier \xE0 vos clients.","lightbox-jlg"),alert:t("Corrigez les risques critiques pour garantir la fiabilit\xE9.","lightbox-jlg")},visual:{positive:t("Palette pr\xEAte \xE0 impressionner vos visiteurs.","lightbox-jlg"),info:t("Peaufinez les presets pour un rendu au niveau premium.","lightbox-jlg"),warning:t("Ajustez les \xE9l\xE9ments visuels pour conserver une identit\xE9 coh\xE9rente.","lightbox-jlg"),alert:t("Corrigez la couleur ou le style avant publication.","lightbox-jlg")}}[h]||{};return P[f]||P.info||""},zt=h=>{let f=s.getElementById(h);if(!f)return Number.NaN;let y=parseFloat(f.value);return Number.isNaN(y)?Number.NaN:y},Ze=h=>{let f=s.getElementById(h);return!f||typeof f.value!="string"?"":f.value},ft=(h,f)=>{let y=s.getElementById(h);if(!y)return f||"";let P=Array.from(y.options).find(B=>B.selected);return P&&P.textContent?P.textContent:f||""},_e=h=>{let f=s.getElementById(h);return f?!!f.checked:!1},Mt=h=>{if(!Number.isFinite(h))return"\u2014";let f=Math.round(h*10)/10;return Math.abs(f-Math.round(f))<.01?String(Math.round(f)):f.toFixed(1)},Ot=(h,f,y)=>{if(!oe.size)return null;let P=Array.isArray(h)?h.find(O=>O&&O.severity==="error")||h.find(O=>O&&O.severity==="warning"):null,B=()=>{let O=zt("mga_delay"),X=Ze("mga_effect"),J=ft("mga_effect",X),ue=_e("mga_autoplay_start"),Z=_e("mga_show_thumbs_mobile"),me=Ze("mga_thumbs_layout"),ce=[],ee=Mt(O),Q="positive",fe=p(t("Tempo confortable : %1$s\xA0s par diapositive.","lightbox-jlg"),ee);Number.isFinite(O)?O<2.5?(Q="alert",fe=p(t("Tempo tr\xE8s rapide (%1$s\xA0s) : ralentissez pour laisser le temps de lecture.","lightbox-jlg"),ee)):(O<3||O>6)&&(Q="warning",fe=p(t("Tempo \xE0 %1$s\xA0s : ciblez entre 3 et 6\xA0s pour un rythme premium.","lightbox-jlg"),ee)):(Q="info",fe=t("Renseignez le tempo du diaporama pour caler la cadence.","lightbox-jlg")),ce.push({key:"delay",state:Q,text:fe});let he="positive",de=t("Miniatures ou navigation mobile affich\xE9es : rep\xE8res clairs.","lightbox-jlg");me==="hidden"&&!Z?(he="warning",de=t("Activez les miniatures ou la navigation mobile pour guider vos visiteurs.","lightbox-jlg")):me==="hidden"&&(he="info",de=t("Miniatures masqu\xE9es sur desktop : v\xE9rifiez que les fl\xE8ches restent visibles.","lightbox-jlg")),ce.push({key:"navigation",state:he,text:de});let Ee=new Set(["cube","coverflow","flip"]),Fe=typeof X=="string"?X.toLowerCase():"",ke=J||X||"slide",ye="positive",Ce=p(t("Transition \xAB\xA0%1$s\xA0\xBB adapt\xE9e au parcours.","lightbox-jlg"),ke);Ee.has(Fe)&&ue?(ye="warning",Ce=p(t("Effet 3D \xAB\xA0%1$s\xA0\xBB avec autoplay : envisagez un d\xE9marrage manuel pour le confort utilisateur.","lightbox-jlg"),ke)):Ee.has(Fe)?(ye="info",Ce=p(t("Effet 3D \xAB\xA0%1$s\xA0\xBB activ\xE9 : testez la performance sur mobile.","lightbox-jlg"),ke)):X||(ye="info",Ce=t("Choisissez un effet pour personnaliser le ressenti.","lightbox-jlg")),ce.push({key:"animation",state:ye,text:Ce});let Oe=Ue(ce),He=$e("ux",Oe);return{level:Oe,message:He,points:ce}},K=()=>{let O=_e("mga_autoplay_start"),X=_e("mga_start_on_clicked_image"),J=[],ue="positive",Z=t("Contraste valid\xE9 : aucun blocage d\xE9tect\xE9.","lightbox-jlg");P&&(ue=P.severity==="error"?"alert":"warning",Z=P.message),J.push({key:"contrast",state:ue,text:Z});let me="positive",ce=t("Lecture d\xE9clench\xE9e par l\u2019utilisateur : confort respect\xE9.","lightbox-jlg");O&&(me="warning",ce=t("D\xE9sactivez le d\xE9marrage automatique pour laisser le contr\xF4le aux visiteurs.","lightbox-jlg")),J.push({key:"autoplay",state:me,text:ce});let ee="positive",Q=t("La visionneuse s\u2019ouvre sur l\u2019image cliqu\xE9e : orientation conserv\xE9e.","lightbox-jlg");X||(ee="info",Q=t("Activez \xAB\xA0D\xE9marrer sur l\u2019image cliqu\xE9e\xA0\xBB pour \xE9viter les sauts de focus.","lightbox-jlg")),J.push({key:"context",state:ee,text:Q});let fe=Ue(J),he=$e("accessibility",fe);return{level:fe,message:he,points:J}},W=()=>{let O=_e("mga_include_svg"),X=_e("mga_allow_body_fallback"),J=_e("mga_debug_mode"),ue=_e("mga_load_on_archives"),Z=[],me=O?"positive":"alert",ce=t(O?"Ic\xF4nes SVG locales actives : vos contr\xF4les restent visibles hors connexion.":"R\xE9activez les ic\xF4nes SVG locales pour \xE9viter les boutons invisibles si le CDN est indisponible.","lightbox-jlg");Z.push({key:"assets",state:me,text:ce});let ee=X?"positive":"info",Q=t(X?"Fallback \xAB\xA0body\xA0\xBB actif : compatibilit\xE9 renforc\xE9e avec les constructeurs de pages.":"Activez le fallback \xAB\xA0body\xA0\xBB si vos galeries sont inject\xE9es dynamiquement.","lightbox-jlg");ue&&(ee="positive",Q=t("Chargement sur les pages d\u2019archives activ\xE9 : visionneuse pr\xEAte dans les listes.","lightbox-jlg")),Z.push({key:"fallback",state:ee,text:Q});let fe=J?"warning":"positive",he=t(J?"D\xE9sactivez le mode debug pour \xE9viter les logs verbeux en production.":"Mode debug d\xE9sactiv\xE9 : stabilit\xE9 optimale.","lightbox-jlg");Z.push({key:"debug",state:fe,text:he});let de=Ue(Z),Ee=$e("reliability",de);return{level:de,message:Ee,points:Z}},Ae=()=>{let O=s.getElementById("mga_style_preset"),X=O&&typeof O.value=="string"?O.value:"",J=s.getElementById("mga_accent_color"),ue=J&&typeof J.value=="string"?J.value.trim():"",Z=Ze("mga_background_style"),me=ft("mga_background_style",Z),ce=Array.isArray(f)&&f.length>0,ee=y&&y.label?y.label:"",Q=[],he=(()=>{if(O){let et=Array.from(O.options).find(Kt=>Kt.value===X);if(et&&et.textContent)return et.textContent.trim()}return ee||""})(),de="info",Ee=t("Aucun preset s\xE9lectionn\xE9 : testez les styles propos\xE9s pour un rendu premium.","lightbox-jlg");X?(de="positive",Ee=p(t("Preset professionnel \xAB\xA0%1$s\xA0\xBB appliqu\xE9.","lightbox-jlg"),he||X)):ce&&(de="positive",Ee=ee?p(t("Palette personnalis\xE9e bas\xE9e sur \xAB\xA0%1$s\xA0\xBB.","lightbox-jlg"),ee):t("Palette personnalis\xE9e active.","lightbox-jlg")),Q.push({key:"preset",state:de,text:Ee});let Fe=ue.toLowerCase(),ke="positive",ye=t("Couleur d\u2019accent personnalis\xE9e pr\xEAte \xE0 \xEAtre d\xE9clin\xE9e.","lightbox-jlg");be(ue)?Fe==="#ffffff"?(ke="info",ye=t("Personnalisez la couleur d\u2019accent pour refl\xE9ter votre marque.","lightbox-jlg")):ye=p(t("Accent d\xE9fini sur %1$s : pensez \xE0 l\u2019harmoniser avec vos CTA.","lightbox-jlg"),ue.toUpperCase()):(ke="alert",ye=t("Couleur d\u2019accent invalide : utilisez un code hexad\xE9cimal (#123ABC).","lightbox-jlg")),Q.push({key:"accent",state:ke,text:ye});let Ce="info",Oe=t("Choisissez un style de fond (\xE9cho, blur, texture) pour enrichir la sc\xE9nographie.","lightbox-jlg");Z&&(Ce="positive",Oe=p(t("Arri\xE8re-plan \xAB\xA0%1$s\xA0\xBB activ\xE9 pour cr\xE9er de la profondeur.","lightbox-jlg"),me||Z)),Q.push({key:"background",state:Ce,text:Oe});let He=Ue(Q),Ht=$e("visual",He);return{level:He,message:Ht,points:Q}};return{ux:B(),accessibility:K(),reliability:W(),visual:Ae()}},Vt=()=>{if(!q)return;let f=[{id:"mga_show_zoom",label:t("Zoom","lightbox-jlg")},{id:"mga_show_download",label:t("T\xE9l\xE9chargement","lightbox-jlg")},{id:"mga_show_share",label:t("Partage","lightbox-jlg")},{id:"mga_show_cta",label:t("Appel \xE0 l\u2019action","lightbox-jlg")},{id:"mga_show_fullscreen",label:t("Plein \xE9cran","lightbox-jlg")}].filter(y=>{let P=s.getElementById(y.id);return P?P.checked:!1});q.textContent=f.length>0?f.map(y=>y.label).join(", "):t("Aucun bouton affich\xE9","lightbox-jlg")},Bt=(h,f)=>{if(!v)return;let y=s.getElementById("mga_style_preset"),P=y?y.value:"",B="";if(y&&P){let K=Array.from(y.options).find(W=>W.value===P);K&&(B=K.textContent||"")}B||(h.length>0&&f&&f.label?B=p(t("Personnalis\xE9 \xE0 partir de %1$s","lightbox-jlg"),f.label):h.length>0?B=t("R\xE9glages personnalis\xE9s","lightbox-jlg"):f&&f.label?B=f.label:e.mgaStylePresets&&typeof e.mgaStylePresets.customDescription=="string"?B=e.mgaStylePresets.customDescription:B=t("R\xE9glages personnalis\xE9s","lightbox-jlg")),v.textContent=B},Dt=()=>{if(!T)return;let h=s.getElementById("mga_delay"),f=s.getElementById("mga_effect"),y=h&&h.value?h.value:"\u2014",P=t("Transition personnalis\xE9e","lightbox-jlg");if(f){let B=Array.from(f.options).find(K=>K.selected);P=B?B.textContent:P}T.textContent=p(t("Diaporama : %1$s\xA0s \xB7 Effet : %2$s","lightbox-jlg"),y,P)},Nt=()=>{if(!n)return;let f=Array.from(s.querySelectorAll("[data-share-repeater-item]")).filter(y=>{let P=y.querySelector('[data-share-field="enabled"]');return P?P.checked:!1}).map(y=>{let P=y.querySelector('[data-share-field="label"]'),B=y.querySelector('[data-share-field="key"]'),K=P&&P.value?P.value.trim():"",W=B&&B.value?B.value.trim():"";return K||(W?W.toUpperCase():t("Canal sans titre","lightbox-jlg"))});f.length>0?n.textContent=p(t("%1$d canaux actifs : %2$s","lightbox-jlg"),f.length,f.join(", ")):n.textContent=t("Aucun canal actif","lightbox-jlg")},Rt=()=>{if(!contrastInspector||typeof contrastInspector.readAudit!="function")return[];let h=contrastInspector.readAudit();return!h||!Array.isArray(h.entries)?[]:h.entries.filter(f=>f&&(f.severity==="warning"||f.severity==="error")).map(f=>{let y=f.severity==="error"?p(t("Contraste %1$s insuffisant\xA0: %2$s. Ajustez la couleur ou le fond pour atteindre au moins 3,0 (AA\xA0\u2265\xA04,5).","lightbox-jlg"),f.label,f.ratioText):p(t("Contraste %1$s limit\xE9\xA0: %2$s. Augmentez l\xE9g\xE8rement pour viser AA (\u2265\xA04,5).","lightbox-jlg"),f.label,f.ratioText);return{severity:f.severity,message:y}})},Ut=h=>{if(m){if(m.innerHTML="",!h||h.length===0){m.setAttribute("hidden","hidden");return}m.removeAttribute("hidden"),h.forEach(f=>{let y=s.createElement("div");y.className="mga-summary__alert",y.setAttribute("data-mga-severity",f.severity),y.textContent=f.message,m.appendChild(y)})}},$t=(h,f)=>{if(!(!u||!b)){if(b.innerHTML="",!h||h.length===0){u.setAttribute("hidden","hidden"),S&&(S.textContent=""),I&&I.setAttribute("hidden","hidden");return}u.removeAttribute("hidden"),S&&(S.textContent=f&&f.label?p(t("Base\xA0: %1$s","lightbox-jlg"),f.label):""),I&&I.setAttribute("hidden","hidden"),h.forEach(y=>{let P=s.createElement("li");P.className="mga-summary__diff-item";let B=s.createElement("span");B.className="mga-summary__diff-label",B.textContent=y.label,P.appendChild(B);let K=s.createElement("span");K.className="mga-summary__diff-values";let W=s.createElement("span");W.className="mga-summary__diff-before",W.textContent=y.baselineLabel,K.appendChild(W);let Ae=s.createElement("span");Ae.textContent="\u2192",K.appendChild(Ae);let O=s.createElement("span");O.className="mga-summary__diff-after",O.textContent=y.currentLabel,K.appendChild(O),P.appendChild(K),b.appendChild(P)})}},Ft=()=>{let h=presetDiffTracker?presetDiffTracker.refresh():[],f=presetDiffTracker?presetDiffTracker.getBaselineInfo():{label:"",key:""},y=Rt();Bt(h,f),Dt(),Vt(),Nt(),$t(h,f),Ut(y),ge(Ot(y,h,f))};return()=>{l&&e.clearTimeout(l),l=e.setTimeout(()=>{l=null,Ft()},120)}})(),x=l=>{let v=Math.max(0,Math.min(c.length-1,l));if(v===j)return;let T=c[j],q=c[v];T&&ie(T),q&&(Y(q),$(q)),j=v,se(),N(),j===M&&A()},C=()=>{r&&typeof r.reportValidity=="function"&&!r.reportValidity()||x(j+1)},o=()=>{x(j-1)},g=()=>{_.forEach((l,v)=>{l.addEventListener("click",T=>{if(T.preventDefault(),v<j&&v>=0)x(v);else if(v>j&&v<=M){if(r&&typeof r.reportValidity=="function"&&!r.reportValidity())return;x(v)}})})};E&&E.addEventListener("click",l=>{l.preventDefault(),o()}),k&&k.addEventListener("click",l=>{l.preventDefault(),C()}),g(),se(),N(),j===M&&A();let d=()=>{A()};return r&&(r.addEventListener("change",d),r.addEventListener("input",d)),{scheduleSummaryUpdate:A,setStatusMessage:V,goToSummary:()=>x(M)}})(je);De&&typeof De.scheduleSummaryUpdate=="function"&&(re=De.scheduleSummaryUpdate),((r,a)=>{if(!r)return;let c=e.mgaAdminConfig||{},_=typeof c.ajaxUrl=="string"&&c.ajaxUrl?c.ajaxUrl:e.ajaxurl,E=typeof c.nonce=="string"?c.nonce:"",k=r.querySelector("[data-mga-step-submit]");if(!_||!E)return;let D=(M,j)=>{a&&typeof a.setStatusMessage=="function"&&a.setStatusMessage(M,j)},R=M=>{k&&(k.disabled=M,k.setAttribute("aria-busy",M?"true":"false")),M&&D("saving")};r.addEventListener("submit",M=>{if(M.preventDefault(),typeof r.reportValidity=="function"&&!r.reportValidity())return;let j=new FormData(r);j.append("action","mga_save_settings"),j.append("_ajax_nonce",E),R(!0),fetch(_,{method:"POST",credentials:"same-origin",body:j}).then(z=>{if(!z.ok)throw new Error(z.statusText||"HTTP error");return z.json()}).then(z=>{if(!z||z.success!==!0){let N=z&&z.data&&z.data.message?z.data.message:null;throw new Error(N||c.messages&&c.messages.error||t("Impossible d\u2019enregistrer les r\xE9glages.","lightbox-jlg"))}let V=z.data&&z.data.message?z.data.message:c.messages&&c.messages.success||t("R\xE9glages enregistr\xE9s.","lightbox-jlg");D("success",V),re()}).catch(z=>{let V=c.messages&&c.messages.error?c.messages.error:t("Impossible d\u2019enregistrer les r\xE9glages.","lightbox-jlg");D("error",z&&z.message?z.message:V)}).finally(()=>{R(!1)})})})(je,De);let Tt=(()=>{let r={setSectionModified:()=>{}},a=s.querySelector("[data-mga-settings-layout]");if(!a)return r;let c=Array.from(a.querySelectorAll("[data-mga-settings-section]"));if(c.length===0)return r;let _=a.querySelector("[data-mga-settings-nav]"),E=_?Array.from(_.querySelectorAll("[data-mga-section-link]")):[],k=new Map,D=new Map,R=new Map,M=a.querySelector("[data-mga-view-toggle]"),j=M?M.querySelector("[data-mga-view-select]"):null,z="mga-settings-view-mode",N=(()=>{if(typeof e.localStorage=="undefined")return"essential";try{return e.localStorage.getItem(z)==="advanced"?"advanced":"essential"}catch(n){return"essential"}})(),$=()=>{j&&(j.value=N)},ie=()=>{if(typeof e.localStorage!="undefined")try{e.localStorage.setItem(z,N)}catch(n){}},Y=()=>{a.setAttribute("data-mga-view-mode",N)},se=n=>n&&n.getAttribute("data-mga-visibility")==="essential"?"essential":"advanced",A=a.querySelector("[data-mga-settings-search]"),x=a.querySelector("[data-mga-search-empty]"),C=new WeakMap,o=()=>a.getAttribute("data-mga-search-active")==="true",g=(n,m)=>{x&&(m&&n===0?x.removeAttribute("hidden"):x.setAttribute("hidden","hidden"))},d=n=>{n&&k.forEach((m,u)=>{u===n?m.setAttribute("aria-current","true"):m.removeAttribute("aria-current")})},l=()=>{c.forEach(n=>{n.removeAttribute("data-mga-section-highlight"),C.has(n)&&(e.clearTimeout(C.get(n)),C.delete(n))})},v=n=>{if(!n)return;n.setAttribute("data-mga-section-highlight","true"),C.has(n)&&e.clearTimeout(C.get(n));let m=e.setTimeout(()=>{n.removeAttribute("data-mga-section-highlight"),C.delete(n)},1600);C.set(n,m)},T=n=>{let m=typeof n=="string"?n.trim().toLowerCase():"",u=m.length>0,b=0;if(u?a.setAttribute("data-mga-search-active","true"):(a.removeAttribute("data-mga-search-active"),l()),c.forEach(S=>{let I=k.get(S),U=D.get(S);if(!u){if(N==="essential"&&se(S)==="advanced"){S.setAttribute("hidden","hidden"),I&&(I.setAttribute("hidden","hidden"),I.removeAttribute("aria-current")),U&&U.setAttribute("hidden","hidden");return}S.removeAttribute("hidden"),I&&I.removeAttribute("hidden"),U&&U.removeAttribute("hidden");return}(S.textContent||"").toLowerCase().includes(m)?(S.removeAttribute("hidden"),S.setAttribute("data-mga-section-highlight","true"),b+=1,I&&I.removeAttribute("hidden"),U&&U.removeAttribute("hidden")):(S.setAttribute("hidden","hidden"),S.removeAttribute("data-mga-section-highlight"),I&&(I.setAttribute("hidden","hidden"),I.removeAttribute("aria-current")),U&&U.setAttribute("hidden","hidden"))}),u){let S=c.find(I=>!I.hasAttribute("hidden"));S&&d(S)}g(b,u)},q=(n,m={})=>{let u=n==="advanced"?"advanced":"essential";if(u===N&&!m.force)return;N=u,$(),Y(),m.persist!==!1&&ie();let b=A&&A.value||"";T(b)};if(E.forEach(n=>{let m=n.getAttribute("href");if(!m||m.charAt(0)!=="#")return;let u=a.querySelector(m);if(!u)return;k.set(u,n);let b=n.closest("[data-mga-visibility]");if(b){D.set(u,b);let S=b.querySelector("[data-mga-modified-badge]");S||(S=s.createElement("span"),S.className="mga-settings-layout__badge",S.textContent=t("Modifi\xE9","lightbox-jlg"),S.hidden=!0,S.setAttribute("data-mga-modified-badge","true"),b.appendChild(S)),R.set(u,S)}n.addEventListener("click",S=>{S.preventDefault(),u.hasAttribute("hidden")&&u.removeAttribute("hidden");try{u.scrollIntoView({behavior:"smooth",block:"start"})}catch(U){typeof u.scrollIntoView=="function"&&u.scrollIntoView()}d(u),v(u);let I=Le()?{preventScroll:!0}:void 0;typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame(()=>{ve(u,I)}):ve(u,I)})}),$(),Y(),j&&j.addEventListener("change",n=>{q(n.target.value||"essential")}),"IntersectionObserver"in e){let n=null,m=new IntersectionObserver(u=>{o()||(u.forEach(b=>{b.isIntersecting&&(n=b.target)}),n&&d(n))},{rootMargin:"-40% 0px -40% 0px",threshold:.1});c.forEach(u=>m.observe(u))}else{let n=()=>{if(o())return;let m=null,u=1/0,b=e.pageYOffset||s.documentElement.scrollTop||0;c.forEach(S=>{let U=S.getBoundingClientRect().top+b,oe=Math.abs(U-b-140);oe<u&&(m=S,u=oe)}),m&&d(m)};e.addEventListener("scroll",n,{passive:!0}),n()}return A?(A.addEventListener("input",n=>{T(n.target.value||"")}),T(A.value||"")):g(c.length,!1),q(N,{force:!0,persist:!1}),o()||d(c[0]),{setSectionModified(n,m){if(!n)return;let u=R.get(n),b=D.get(n);u&&(u.hidden=!m),b&&(m?b.setAttribute("data-mga-modified","true"):b.removeAttribute("data-mga-modified"))}}})(),Ye=(r,a,c,_)=>{let E=s.getElementById(r),k=s.getElementById(a);if(!E||!k)return;let D=()=>{let R=E.value,M=typeof c=="function"?c(R):R,j=typeof _=="function"?_(R):M;typeof k.value!="undefined"&&(k.value=M),k.textContent=M,E.setAttribute("aria-valuenow",R),E.setAttribute("aria-valuetext",j)};E.addEventListener("input",D),D()};Ye("mga_thumb_size","mga_thumb_size_value",r=>p(t("%spx","lightbox-jlg"),r),r=>p(t("%s pixels","lightbox-jlg"),r)),Ye("mga_thumb_size_mobile","mga_thumb_size_mobile_value",r=>p(t("%spx","lightbox-jlg"),r),r=>p(t("%s pixels","lightbox-jlg"),r)),Ye("mga_bg_opacity","mga_bg_opacity_value",r=>r,r=>p(t("%s opacity","lightbox-jlg"),r));let ne=s.getElementById("mga_accent_color"),st=s.getElementById("mga_accent_color_preview");if(ne){let r=ne.getAttribute("data-default-color"),a=be(r)?r:"#ffffff",c=E=>{let k=be(E)?E:a;return st&&(st.style.backgroundColor=k),k};c(ne.value);let _=e.jQuery;_&&typeof _.fn=="object"&&typeof _.fn.wpColorPicker=="function"?(_(ne).wpColorPicker({change(E,k){let D=k&&k.color?k.color.toString():E.target.value;c(D)},clear(){let E=ne.getAttribute("data-default-color")||a;_(ne).val(E),c(E)}}),_(ne).on("input",E=>{c(E.target.value)})):ne.addEventListener("input",()=>{c(ne.value)})}contrastInspector=createContrastInspector(),(()=>{let r=s.querySelector("[data-mga-live-preview]");if(!r)return;let a=r.querySelector("[data-mga-live-preview-mock]"),c=r.querySelector("[data-mga-preview-effect]"),_=r.querySelector("[data-mga-preview-thumbs]"),E=r.querySelector("[data-mga-preview-status]"),k=r.querySelector("[data-mga-preview-fallback]"),D=r.querySelector("[data-mga-preview-swiper]"),R=r.querySelector("[data-mga-preview-pagination]"),M=r.querySelector("[data-mga-preview-next]"),j=r.querySelector("[data-mga-preview-prev]"),z={zoom:Array.from(r.querySelectorAll('[data-preview-action="zoom"]')),download:Array.from(r.querySelectorAll('[data-preview-action="download"]')),share:Array.from(r.querySelectorAll('[data-preview-action="share"]')),cta:Array.from(r.querySelectorAll('[data-preview-action="cta"]')),fullscreen:Array.from(r.querySelectorAll('[data-preview-action="fullscreen"]'))},V=null,N=n=>!n||typeof n!="object"||n.type==="init"?!1:n.type!=="input",$=n=>{!E||typeof n!="string"||n.trim()===""||(E.textContent=n)},ie=n=>{r&&r.setAttribute("data-mga-preview-state",n)},Y=n=>{ie("error"),k&&(k.hidden=!1,typeof n=="string"&&n.trim()!==""&&(k.textContent=n)),n&&$(n)},se=()=>{V&&typeof V.destroy=="function"&&V.destroy(!0,!0),V=null},A=(n,m)=>{let u=typeof n=="number"?n:parseFloat(n);return Number.isNaN(u)?m:u},x=()=>{let n=s.getElementById("mga_effect"),m=s.getElementById("mga_delay"),u=s.getElementById("mga_speed"),b=n?n.value:"slide",S=A(m?m.value:null,4),I=A(u?u.value:null,600),U=Math.max(Math.round(S*1e3),1e3),oe=Math.max(Math.round(I),100),le={allowTouchMove:!1,simulateTouch:!1,centeredSlides:!0,effect:b||"slide",loop:!0,slidesPerView:1,speed:oe};return R&&(le.pagination={el:R,clickable:!1}),M&&j&&(le.navigation={nextEl:M,prevEl:j}),!Number.isNaN(U)&&U>0&&(le.autoplay={delay:U,disableOnInteraction:!1}),le.effect==="fade"&&(le.fadeEffect={crossFade:!0}),le.on={init(ge){ge&&typeof ge.slideToLoop=="function"&&ge.slideToLoop(0,0,!1)}},le},C=()=>{if(!(!D||typeof e.Swiper!="function")){se();try{V=new e.Swiper(D,x()),ie("ready")}catch(n){Y(t("Impossible d\u2019initialiser l\u2019aper\xE7u Swiper.","lightbox-jlg"))}}};D?(k&&(k.hidden=!0),ie("loading"),$(t("Pr\xE9paration de la pr\xE9visualisation\u2026","lightbox-jlg")),xt(e,{namespace:"admin-preview"}).then(()=>{C(),V&&typeof V.update=="function"&&V.update(),$(t("Pr\xE9visualisation pr\xEAte.","lightbox-jlg"))}).catch(()=>{Y(t("Impossible de charger Swiper. La pr\xE9visualisation interactive est d\xE9sactiv\xE9e.","lightbox-jlg"))})):Y(t("Pr\xE9visualisation indisponible\xA0: conteneur Swiper manquant.","lightbox-jlg"));let o=(n,m,u)=>{if(!a)return;let b=be(n)?n:"#6366f1";a.style.setProperty("--mga-preview-accent",b),N(u)&&$(t("Couleur d\u2019accent mise \xE0 jour.","lightbox-jlg"))},g=(n,m,u)=>{if(!a)return;let b=parseFloat(n);if(Number.isNaN(b))return;let S=Math.min(Math.max(b,0),1);a.style.setProperty("--mga-preview-overlay",`rgba(15, 23, 42, ${S})`),N(u)&&$(t("Opacit\xE9 de l\u2019arri\xE8re-plan mise \xE0 jour.","lightbox-jlg"))},d=(n,m,u)=>{if(!a)return;let b=typeof n=="string"&&n?n:"echo";a.setAttribute("data-preview-style",b),N(u)&&$(t("Style d\u2019arri\xE8re-plan actualis\xE9.","lightbox-jlg"))},l=(n,m,u,b)=>{if((z[n]||[]).forEach(I=>{I.setAttribute("data-preview-hidden",m?"false":"true"),I.setAttribute("aria-hidden",m?"false":"true")}),N(b)){let I={zoom:t("Zoom","lightbox-jlg"),download:t("T\xE9l\xE9chargement","lightbox-jlg"),share:t("Partage","lightbox-jlg"),cta:t("Appel \xE0 l\u2019action","lightbox-jlg"),fullscreen:t("Plein \xE9cran","lightbox-jlg")}[n]||n;$(p(t(m?"%s activ\xE9 dans l\u2019aper\xE7u.":"%s masqu\xE9 dans l\u2019aper\xE7u.","lightbox-jlg"),I))}},v=(n,m,u)=>{if(!_)return;let b=parseFloat(n);if(Number.isNaN(b))_.style.setProperty("--mga-preview-thumb-scale","1");else{let S=Math.min(Math.max(b/90,.6),1.4);_.style.setProperty("--mga-preview-thumb-scale",S.toString())}N(u)&&$(t("Taille des miniatures mise \xE0 jour.","lightbox-jlg"))},T=(n,m,u)=>{if(!c)return;let b=s.getElementById("mga_effect"),S=s.getElementById("mga_delay"),I=s.getElementById("mga_speed"),U=b?b.value:"",oe=S&&S.value||"4",le=I&&I.value||"600",ge=EFFECT_LABELS[U]||t("personnalis\xE9e","lightbox-jlg");c.textContent=p(t("Transition : %1$s \u2022 %2$ss / %3$sms","lightbox-jlg"),ge,oe,le),N(u)&&$(p(t("Transition mise \xE0 jour\xA0: %1$s, rythme de %2$ss.","lightbox-jlg"),ge,oe)),C()},q=(n,m,u=["change"])=>{let b=s.getElementById(n);if(!b||typeof m!="function")return;let S=I=>{let U=b.type==="checkbox"?b.checked:b.value;m(U,b,I||{type:"init"})};u.forEach(I=>{b.addEventListener(I,S)}),S({type:"init"})};q("mga_accent_color",o,["input","change"]),q("mga_bg_opacity",g,["input","change"]),q("mga_background_style",d),q("mga_thumb_size",v,["input","change"]),q("mga_show_zoom",(n,m,u)=>l("zoom",n,m,u)),q("mga_show_download",(n,m,u)=>l("download",n,m,u)),q("mga_show_share",(n,m,u)=>l("share",n,m,u)),q("mga_show_cta",(n,m,u)=>l("cta",n,m,u)),q("mga_show_fullscreen",(n,m,u)=>l("fullscreen",n,m,u)),q("mga_effect",T),q("mga_delay",T,["input","change"]),q("mga_speed",T,["input","change"])})();let Se=e.mgaStylePresets&&typeof e.mgaStylePresets=="object"?e.mgaStylePresets:{},pe=Se.presets&&typeof Se.presets=="object"?Se.presets:{},H=s.getElementById("mga_style_preset"),at=s.querySelector("[data-mga-apply-style-preset]"),it=s.querySelector("[data-mga-reset-style-preset]"),Ne=s.querySelector("[data-mga-style-preset-description]"),qe=!1;presetDiffTracker=createPresetDiffTracker(Se.defaults||{}),presetDiffTracker&&typeof presetDiffTracker.setNavigationApi=="function"&&presetDiffTracker.setNavigationApi(Tt);let Ie=(r,a)=>{if(!(!r||typeof r.dispatchEvent!="function"))try{r.dispatchEvent(new Event(a,{bubbles:!0}))}catch(c){if(typeof s.createEvent=="function")try{let _=s.createEvent("Event");_.initEvent(a,!0,!0),r.dispatchEvent(_)}catch(_){}}},Xe=(r,a)=>{let c=s.getElementById(r);c&&(c.value=a,Ie(c,"input"),Ie(c,"change"))},Je=Xe,Re=(r,a)=>{let c=s.getElementById(r);c&&(c.value=a,Ie(c,"change"))},xe=(r,a)=>{let c=s.getElementById(r);c&&(c.checked=!!a,Ie(c,"change"))},Pt=r=>{if(!ne)return;let a=typeof r=="string"?r:"",c=e.jQuery;if(c&&typeof c.fn=="object"&&typeof c.fn.wpColorPicker=="function"){let _=c(ne);if(_&&typeof _.wpColorPicker=="function"){_.wpColorPicker("color",a),contrastInspector&&contrastInspector.update(a);return}}ne.value=a,Ie(ne,"change"),contrastInspector&&contrastInspector.update(a)},ot=r=>{!r||typeof r!="object"||(Object.prototype.hasOwnProperty.call(r,"delay")&&Xe("mga_delay",r.delay),Object.prototype.hasOwnProperty.call(r,"speed")&&Xe("mga_speed",r.speed),Object.prototype.hasOwnProperty.call(r,"effect")&&Re("mga_effect",r.effect),Object.prototype.hasOwnProperty.call(r,"easing")&&Re("mga_easing",r.easing),Object.prototype.hasOwnProperty.call(r,"thumbs_layout")&&Re("mga_thumbs_layout",r.thumbs_layout),Object.prototype.hasOwnProperty.call(r,"thumb_size")&&Je("mga_thumb_size",r.thumb_size),Object.prototype.hasOwnProperty.call(r,"thumb_size_mobile")&&Je("mga_thumb_size_mobile",r.thumb_size_mobile),Object.prototype.hasOwnProperty.call(r,"show_thumbs_mobile")&&xe("mga_show_thumbs_mobile",r.show_thumbs_mobile),Object.prototype.hasOwnProperty.call(r,"accent_color")&&Pt(r.accent_color),Object.prototype.hasOwnProperty.call(r,"bg_opacity")&&Je("mga_bg_opacity",r.bg_opacity),Object.prototype.hasOwnProperty.call(r,"background_style")&&Re("mga_background_style",r.background_style),Object.prototype.hasOwnProperty.call(r,"autoplay_start")&&xe("mga_autoplay_start",r.autoplay_start),Object.prototype.hasOwnProperty.call(r,"loop")&&xe("mga_loop",r.loop),Object.prototype.hasOwnProperty.call(r,"show_zoom")&&xe("mga_show_zoom",r.show_zoom),Object.prototype.hasOwnProperty.call(r,"show_download")&&xe("mga_show_download",r.show_download),Object.prototype.hasOwnProperty.call(r,"show_share")&&xe("mga_show_share",r.show_share),Object.prototype.hasOwnProperty.call(r,"show_cta")&&xe("mga_show_cta",r.show_cta),Object.prototype.hasOwnProperty.call(r,"show_fullscreen")&&xe("mga_show_fullscreen",r.show_fullscreen))},ze=()=>{if(!Ne)return;let r=H?H.value:"";if(r&&pe[r]&&pe[r].description){Ne.textContent=pe[r].description;return}let a=typeof Se.customDescription=="string"?Se.customDescription:"",c=presetDiffTracker?presetDiffTracker.getBaselineInfo():{label:"",key:""},_=c&&c.label?p(t("Base\xA0: %1$s.","lightbox-jlg"),c.label):"",E=[a,_].filter(k=>k&&k.trim()!=="");if(E.length===0){Ne.textContent="";return}Ne.textContent=E.join(" ")},Lt=()=>{qe||(H&&H.value!==""&&(H.value=""),ze(),presetDiffTracker&&typeof presetDiffTracker.refresh=="function"&&presetDiffTracker.refresh(),re())},qt=r=>{let a=s.getElementById(r);if(!a)return;let c=["change"];a.tagName==="INPUT"&&["text","number","range"].includes(a.type)&&c.push("input"),c.forEach(_=>{a.addEventListener(_,Lt)})};if(H&&(ze(),H.addEventListener("change",ze)),presetDiffTracker)if(H&&H.value&&pe[H.value]){let r=pe[H.value];presetDiffTracker.setBaseline({key:H.value,label:r.label||((ct=H.options[H.selectedIndex])==null?void 0:ct.text)||"",settings:r.settings||{}})}else presetDiffTracker.setBaseline({key:"",label:presetDiffTracker.getDefaultLabel(),settings:Se.defaults||{}});at&&at.addEventListener("click",r=>{if(r.preventDefault(),!H)return;let a=H.value;!a||!pe[a]||(qe=!0,ot(pe[a].settings||{}),presetDiffTracker&&presetDiffTracker.setBaseline({key:a,label:pe[a].label||"",settings:pe[a].settings||{}}),qe=!1,ze(),re())}),it&&it.addEventListener("click",r=>{r.preventDefault();let a=Se.defaults||{};a&&typeof a=="object"&&Object.keys(a).length>0&&(qe=!0,ot(a),presetDiffTracker&&presetDiffTracker.setBaseline({key:"",label:presetDiffTracker.getDefaultLabel(),settings:a}),qe=!1),H&&(H.value=""),ze(),re()}),["mga_delay","mga_speed","mga_effect","mga_easing","mga_thumb_size","mga_thumb_size_mobile","mga_thumbs_layout","mga_accent_color","mga_bg_opacity","mga_background_style","mga_show_thumbs_mobile","mga_autoplay_start","mga_loop","mga_show_zoom","mga_show_download","mga_show_share","mga_show_cta","mga_show_fullscreen"].forEach(qt);let lt=s.querySelector("[data-share-repeater]");lt&&It(lt);let Me=s.querySelector("[data-mga-content-selectors]");if(Me){let r=Me.querySelector("[data-mga-content-selectors-list]"),a=Me.querySelector("[data-mga-content-selectors-textarea]"),c=s.getElementById("mga-content-selector-template"),_=Me.getAttribute("data-mga-selector-placeholder")||"",E=!1,k=()=>{};if(r){let D=()=>r.querySelectorAll("[data-mga-content-selector-row]"),R=()=>r.querySelectorAll("[data-mga-content-selector-input]"),M=()=>Array.from(R()).some(A=>A.value.trim()===""),j=()=>{let A=D(),x=A.length<=1;A.forEach(C=>{let o=C.querySelector("[data-mga-remove-selector]");o&&(o.disabled=x,o.setAttribute("aria-disabled",x?"true":"false"))})},z=()=>Array.from(R()).map(A=>A.value.trim()).filter(A=>A!==""),V=()=>{if(!a||E)return;let A=z();E=!0,a.value=A.join(`
`),E=!1},N=A=>{if(!A||A.getAttribute("data-mga-selector-bound")==="true")return;let x=A.querySelector("[data-mga-remove-selector]");x&&x.addEventListener("click",o=>{if(o.preventDefault(),D().length<=1){let d=A.querySelector("[data-mga-content-selector-input]");d&&(d.value="",V());return}A.remove(),j(),V()});let C=A.querySelector("[data-mga-content-selector-input]");C&&(C.addEventListener("input",()=>{E||V()}),C.addEventListener("keydown",o=>{if(o.key!=="Enter"||o.shiftKey||o.altKey||o.metaKey||o.ctrlKey)return;if(o.preventDefault(),!M()&&typeof k=="function"){k("");return}let g=D();if(g.length===0)return;let d=g[g.length-1];if(!d)return;let l=d.querySelector("[data-mga-content-selector-input]");l&&l!==o.target&&ve(l)}),_&&!C.getAttribute("placeholder")&&C.setAttribute("placeholder",_)),A.setAttribute("data-mga-selector-bound","true")},$=(A="")=>{let x=null;if(c&&c.content&&(x=s.importNode(c.content,!0).firstElementChild,x)){let d=x.querySelector("[data-mga-content-selector-input]");return d&&(d.value=A,_&&d.setAttribute("placeholder",_)),N(x),x}x=s.createElement("div"),x.className="mga-content-selectors__row",x.setAttribute("data-mga-content-selector-row","");let C=s.createElement("input");C.type="text",C.className="regular-text",C.setAttribute("data-mga-content-selector-input",""),C.value=A,_&&C.setAttribute("placeholder",_),x.appendChild(C);let o=s.createElement("button");return o.type="button",o.className="button-link mga-content-selectors__remove",o.setAttribute("data-mga-remove-selector",""),o.textContent=t("Retirer","lightbox-jlg"),x.appendChild(o),N(x),x},ie=A=>{if(r.innerHTML="",A.length===0){let x=$("");x&&r.appendChild(x)}else A.forEach(x=>{let C=$(x);C&&r.appendChild(C)});j()},Y=()=>{if(!a||E)return;let A=a.value.split(/\r\n|\r|\n/).map(x=>x.trim()).filter(x=>x.length>0);E=!0,ie(A),E=!1};k=(A="")=>{let x=$(A);if(x){r.appendChild(x),j();let C=x.querySelector("[data-mga-content-selector-input]");C&&ve(C)}V()},a?(Y(),a.addEventListener("input",()=>{E||Y()})):ie([]);let se=Me.querySelector("[data-mga-add-selector]");se&&se.addEventListener("click",A=>{A.preventDefault(),k()})}}function It(r){let a=r.querySelector("[data-share-repeater-list]"),c=r.querySelector("[data-share-repeater-add]"),_=s.getElementById("mga-share-channel-template");if(!a||!_)return;let E=Date.now(),k=()=>(E+=1,`mga-share-channel-${E}`),D=o=>o?((!o.dataset.shareUid||o.dataset.shareUid.trim()==="")&&(o.dataset.shareUid=k()),o.dataset.shareUid):null,R=o=>{let g=D(o);if(!g)return;o.querySelectorAll("[data-share-id-suffix]").forEach(l=>{let v=l.getAttribute("data-share-id-suffix");if(!v)return;let T=`${g}-${v}`;l.tagName==="LABEL"?l.setAttribute("for",T):l.id=T})},M=o=>{if(!o)return;let g=o.querySelector("[data-share-repeater-title]");if(!g)return;let d=o.querySelector('[data-share-field="label"]'),l=o.querySelector('[data-share-field="key"]'),v=d&&typeof d.value=="string"?d.value.trim():"",T=l&&typeof l.value=="string"?l.value.trim():"",q=T?T.toUpperCase():t("Nouveau canal","lightbox-jlg");g.textContent=v||q},j=o=>{if(!o)return;let g=o.querySelector("[data-share-icon-preview]"),d=o.querySelector('[data-share-field="icon"]');if(!g)return;let l=d?d.value:"",v=w(l);g.innerHTML="",v&&g.appendChild(v);let T=o.querySelector("[data-share-preview-icon]");if(T){T.innerHTML="";let q=w(l);q&&T.appendChild(q)}},z=(o,g)=>!o||!g?null:o.querySelector(`[data-share-field="${g}"]`),V=(o,g)=>{let d=z(o,g);return d&&typeof d.value=="string"?d.value.trim():""},N=o=>{if(typeof o!="string")return"";let g=o;return Object.keys(L).forEach(d=>{let l=encodeURIComponent(L[d]);g=g.replace(new RegExp(d,"gi"),l)}),g},$=o=>/%url%/i.test(typeof o=="string"?o:""),ie=o=>{if(typeof o!="string")return!1;let g=o.trim();if(g==="")return!1;let d=g.split(":")[0].toLowerCase();return te.includes(d)?d==="http"||d==="https"?/^https?:\/\//i.test(g):!0:!1},Y=(o,g,d)=>{let l=typeof d=="string"&&d!=="";o&&(l?(o.classList.add("mga-field-error"),o.setAttribute("aria-invalid","true")):(o.classList.remove("mga-field-error"),o.removeAttribute("aria-invalid"))),g&&(l?(g.textContent=d,g.removeAttribute("hidden")):(g.textContent="",g.setAttribute("hidden","hidden")))},se=o=>{if(!o)return;let g=o.querySelector("[data-share-preview]");if(!g)return;let d=g.querySelector("[data-share-preview-label]"),l=g.querySelector("[data-share-preview-url]"),v=V(o,"label"),T=V(o,"key"),q=T?T.toUpperCase():t("Nouveau canal","lightbox-jlg");if(d&&(d.textContent=v||q),l){let n=V(o,"template");if(n){let m=N(n);l.textContent=m,l.setAttribute("data-preview-empty","false"),l.title=m}else l.textContent=t("Compl\xE9tez le mod\xE8le pour g\xE9n\xE9rer un lien.","lightbox-jlg"),l.setAttribute("data-preview-empty","true"),l.removeAttribute("title")}re()},A=()=>{let o=Array.from(a.querySelectorAll("[data-share-repeater-item]")),g=o.reduce((d,l)=>{let v=V(l,"key").toLowerCase();return v&&(d[v]=(d[v]||0)+1),d},{});o.forEach(d=>{let l=z(d,"key"),v=z(d,"template"),T=d.querySelector('[data-share-error="key"]'),q=d.querySelector('[data-share-error="template"]'),n=V(d,"key"),m=n.toLowerCase(),u="";n?/^[a-z0-9_-]+$/i.test(n)?g[m]>1&&(u=t("Chaque cl\xE9 doit \xEAtre unique.","lightbox-jlg")):u=t("Utilisez uniquement des lettres, chiffres ou tirets.","lightbox-jlg"):u=t("Renseignez une cl\xE9 pour ce canal.","lightbox-jlg"),Y(l,T,u);let b=V(d,"template"),S="";b?$(b)?ie(b)||(S=t("Indiquez une URL valide (http, https, mailto, tel ou sms).","lightbox-jlg")):S=t("Ajoutez au moins le jeton %url% pour construire le lien.","lightbox-jlg"):S=t("Renseignez un mod\xE8le d\u2019URL.","lightbox-jlg"),Y(v,q,S)})},x=()=>{Array.from(a.querySelectorAll("[data-share-repeater-item]")).forEach((g,d)=>{let l=`mga_settings[share_channels][${d}]`;g.querySelectorAll("[data-share-field]").forEach(T=>{let q=T.getAttribute("data-share-field");if(!q)return;let n=q;q==="enabled-hidden"&&(n="enabled"),T.name=`${l}[${n}]`}),R(g),M(g),j(g),se(g)}),A(),re()},C=o=>{if(!o)return;let g=o.querySelector('[data-share-field="label"]')||o;ve(g)};a.addEventListener("input",o=>{let g=o.target;if(!g)return;let d=g.closest("[data-share-repeater-item]");d&&(g.matches('[data-share-field="label"], [data-share-field="key"]')&&M(d),g.matches('[data-share-field="icon"]')&&j(d),se(d),A())}),a.addEventListener("change",o=>{let g=o.target;if(!g||!g.matches('[data-share-field="icon"]'))return;let d=g.closest("[data-share-repeater-item]");d&&(j(d),se(d),A())}),a.addEventListener("click",o=>{let g=o.target.closest("[data-share-action]");if(!g)return;o.preventDefault();let d=g.getAttribute("data-share-action"),l=g.closest("[data-share-repeater-item]");if(l){if(d==="remove"){let v=l.nextElementSibling||l.previousElementSibling;l.parentNode===a&&a.removeChild(l),x(),re(),v&&C(v);return}if(d==="move-up"){let v=l.previousElementSibling;v&&(a.insertBefore(l,v),x(),C(l),re());return}if(d==="move-down"){let v=l.nextElementSibling;v&&(a.insertBefore(v,l),x(),C(l),re())}}}),c&&c.addEventListener("click",o=>{o.preventDefault();let d=s.importNode(_.content,!0).querySelector("[data-share-repeater-item]");d&&(a.appendChild(d),x(),C(d),re())}),x(),re()}})})(typeof window!="undefined"?window:globalThis)});or();})();
//# sourceMappingURL=admin.js.map
