(()=>{var Re=(c,i)=>()=>(c&&(i=c(c=0)),i);var vr=(c,i)=>()=>(i||c((i={exports:{}}).exports,i),i.exports);var xr,Sr,fn,pn,Er,gn,mn=Re(()=>{xr=/%(\d+\$)?[sd]/g,Sr=()=>(c,...i)=>{let d=0;return String(c).replace(xr,(A,x)=>{let v,W=A.charAt(A.length-1);if(x){let H=parseInt(x.slice(0,-1),10);if(Number.isNaN(H)||H<=0)return"";v=H-1}else v=d,d+=1;let w=v>=0&&v<i.length?i[v]:void 0;if(W==="d"){let H=parseInt(w,10);return Number.isNaN(H)?"":String(H)}return typeof w=="undefined"?"":String(w)})},fn=c=>c&&typeof c.sprintf=="function"?c.sprintf:Sr(),pn=c=>c&&typeof c.__=="function"?c.__:i=>i,Er=c=>!c||typeof c!="object"?null:c.wp&&c.wp.i18n?c.wp.i18n:null,gn=()=>Er(typeof window!="undefined"?window:globalThis)});var kt,Le,Ar,rt,hn,yn=Re(()=>{kt={facebook:{viewBox:"0 0 24 24",paths:[{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.99 3.66 9.12 8.44 9.88v-6.99H8.08V12h2.36V9.88c0-2.33 1.38-3.62 3.5-3.62 0.72 0 1.48 0.13 1.48 0.13v1.63h-0.83c-0.82 0-1.08 0.51-1.08 1.04V12h1.84l-0.29 1.89h-1.55v6.99C18.34 21.12 22 16.99 22 12z"}]},twitter:{viewBox:"0 0 24 24",paths:[{d:"M22.46 6c-0.77 0.35-1.6 0.59-2.46 0.69a4.29 4.29 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04 4.28 4.28 0 0 0-7.3 3.9 12.13 12.13 0 0 1-8.82-4.47 4.28 4.28 0 0 0 1.33 5.72 4.25 4.25 0 0 1-1.94-0.54v0.05a4.28 4.28 0 0 0 3.43 4.2 4.3 4.3 0 0 1-1.93 0.07 4.28 4.28 0 0 0 4 2.97 8.58 8.58 0 0 1-5.3 1.83 12.1 12.1 0 0 0 6.56 1.92c7.88 0 12.2-6.53 12.2-12.2 0-0.19-0.01-0.39-0.01-0.58A8.7 8.7 0 0 0 22.46 6z"}]},linkedin:{viewBox:"0 0 24 24",paths:[{d:"M20.45 3H3.55A1.55 1.55 0 0 0 2 4.55v14.9C2 20.3 2.7 21 3.55 21h16.9c0.85 0 1.55-0.7 1.55-1.55V4.55C22 3.7 21.3 3 20.45 3zM8.34 18H5.67V9.67h2.67V18zM7 8.5a1.55 1.55 0 1 1 0-3.1 1.55 1.55 0 0 1 0 3.1zM18.33 18h-2.67v-4.1c0-0.98-0.02-2.24-1.36-2.24-1.36 0-1.56 1.06-1.56 2.16V18h-2.67V9.67h2.56v1.14h0.04c0.36-0.68 1.24-1.4 2.56-1.4 2.74 0 3.25 1.8 3.25 4.13V18z"}]},pinterest:{viewBox:"0 0 24 24",paths:[{d:"M12 2C6.48 2 2 6.31 2 11.42c0 3.89 2.68 7.23 6.44 8.41-0.09-0.71-0.17-1.8 0.03-2.58 0.18-0.77 1.15-4.9 1.15-4.9s-0.29-0.58-0.29-1.45c0-1.36 0.79-2.37 1.78-2.37 0.84 0 1.24 0.63 1.24 1.38 0 0.84-0.53 2.09-0.8 3.25-0.23 1 0.5 1.81 1.48 1.81 1.78 0 3.14-1.87 3.14-4.57 0-2.39-1.72-4.07-4.18-4.07-2.85 0-4.52 2.14-4.52 4.35 0 0.86 0.33 1.79 0.74 2.29 0.08 0.1 0.09 0.19 0.07 0.29-0.07 0.31-0.23 1-0.26 1.13-0.04 0.18-0.14 0.22-0.32 0.13-1.2-0.56-1.95-2.29-1.95-3.68 0-3 2.18-5.76 6.29-5.76 3.3 0 5.87 2.35 5.87 5.5 0 3.28-2.06 5.93-4.92 5.93-0.96 0-1.86-0.5-2.17-1.08l-0.59 2.24c-0.21 0.83-0.78 1.87-1.16 2.5 0.87 0.27 1.78 0.42 2.72 0.42 5.52 0 10-4.31 10-9.42C22 6.31 17.52 2 12 2z"}]},whatsapp:{viewBox:"0 0 24 24",paths:[{d:"M20.52 3.48A10.5 10.5 0 0 0 2.47 13.3l-1.45 5.28 5.4-1.41A10.5 10.5 0 1 0 20.52 3.48zm-8.5 17.54a8.75 8.75 0 0 1-4.46-1.22l-0.32-0.19-3.21 0.84 0.86-3.13-0.2-0.32a8.75 8.75 0 1 1 7.33 3.99zm4.78-6.53c-0.26-0.13-1.53-0.76-1.77-0.84-0.24-0.09-0.41-0.13-0.58 0.13-0.17 0.26-0.66 0.84-0.8 1.02-0.15 0.17-0.29 0.2-0.55 0.07-0.26-0.13-1.09-0.4-2.07-1.3-0.76-0.68-1.27-1.52-1.42-1.78-0.15-0.26-0.02-0.4 0.11-0.53 0.11-0.11 0.26-0.29 0.39-0.43 0.13-0.15 0.17-0.26 0.26-0.43 0.09-0.17 0.04-0.32-0.02-0.45-0.07-0.13-0.58-1.39-0.8-1.91-0.21-0.5-0.43-0.43-0.58-0.43-0.15 0-0.32-0.02-0.49-0.02-0.17 0-0.43 0.06-0.66 0.32-0.24 0.26-0.89 0.87-0.89 2.13s0.91 2.47 1.03 2.64c0.13 0.17 1.79 2.73 4.34 3.83 0.61 0.26 1.08 0.41 1.45 0.53 0.61 0.19 1.16 0.16 1.6 0.1 0.49-0.07 1.53-0.62 1.75-1.22 0.21-0.6 0.21-1.11 0.15-1.22-0.06-0.1-0.24-0.16-0.5-0.29z"}]},telegram:{viewBox:"0 0 24 24",paths:[{d:"M21.5 2.5l-19 7.5c-1.3 0.52-1.29 2.35 0.02 2.85l4.8 1.9 1.9 4.8c0.5 1.31 2.34 1.32 2.85 0.02l7.5-19c0.42-1.06-0.64-2.12-1.67-1.67zM10 14l-1 4-1.5-3.8 8.3-6.2-5.8 6z"}]},email:{viewBox:"0 0 24 24",paths:[{d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}]},link:{viewBox:"0 0 24 24",paths:[{d:"M10.59 13.41a1 1 0 0 1 0-1.41l2-2a1 1 0 1 1 1.41 1.41l-2 2a1 1 0 0 1-1.41 0zm-2.83 2.83a3 3 0 0 1 0-4.24l2-2a3 3 0 0 1 4.24 0 1 1 0 0 1-1.41 1.41 1 1 0 0 0-1.41 0l-2 2a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l1-1a1 1 0 1 1 1.41 1.41l-1 1a3 3 0 0 1-4.24 0zm8.48-8.48a3 3 0 0 0-4.24 0l-1 1a1 1 0 0 1-1.41-1.41l1-1a5 5 0 1 1 7.07 7.07l-2 2a5 5 0 0 1-7.07 0 1 1 0 0 1 1.41-1.41 3 3 0 0 0 4.24 0l2-2a3 3 0 0 0 0-4.24z"}]},generic:{viewBox:"0 0 24 24",paths:[{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"},{d:"M13 17h-2v-2h2zm0-4h-2V7h2z"}]},copy:{viewBox:"0 0 24 24",paths:[{d:"M16 1H4a2 2 0 0 0-2 2v12h2V3h12V1zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16H8V7h11v14z"}]},download:{viewBox:"0 0 24 24",paths:[{d:"M5 20h14v-2H5v2zm7-16v9l3.5-3.5 1.42 1.42L12 17l-4.92-4.92L8.5 10.66 12 14.17V4z"}]},native:{viewBox:"0 0 24 24",paths:[{d:"M18 16.08c-0.76 0-1.44 0.3-1.96 0.77L8.91 12.7c0.05-0.23 0.09-0.46 0.09-0.7s-0.04-0.47-0.09-0.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 0.24 0.03 0.47 0.09 0.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c0.79 0 1.5-0.31 2.03-0.82l7.05 4.12c-0.06 0.23-0.08 0.46-0.08 0.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"}]}},Le=c=>typeof c!="string"?"":c.trim().toLowerCase().replace(/[^a-z0-9_-]/g,""),Ar=c=>{let i=Le(c);return i&&kt[i]?kt[i]:kt.generic},rt=(c,i,d={})=>{if(!c||typeof c.createElementNS!="function")return null;let A=c.createElementNS("http://www.w3.org/2000/svg",i);return Object.keys(d).forEach(x=>{A.setAttribute(x,d[x])}),A},hn=(c,i)=>{let d=Ar(i),A=rt(c,"svg",{viewBox:d.viewBox,fill:"currentColor","aria-hidden":"true",focusable:"false"});return A?(Array.isArray(d.paths)&&d.paths.forEach(x=>{let v=rt(c,"path",x);v&&A.appendChild(v)}),A):null}});var bn=Re(()=>{});var Cr,wn,jr,N,Lr,_r,kr,Tr,Ir,Mr,Fr,vn,xn=Re(()=>{Cr=c=>c&&c.performance&&typeof c.performance.now=="function"?c.performance.now():Date.now(),wn=c=>c&&c.document||null,jr=c=>c?((!c.mgaSwiperMetrics||typeof c.mgaSwiperMetrics!="object")&&(c.mgaSwiperMetrics={events:[]}),Array.isArray(c.mgaSwiperMetrics.events)||(c.mgaSwiperMetrics.events=[]),c.mgaSwiperMetrics):null,N=(c,i,d,A)=>{let x=jr(c);if(x&&(x.events.push({namespace:i||"default",event:d,detail:A||{},timestamp:Cr(c)}),typeof c.dispatchEvent=="function"))try{let v=new c.CustomEvent("mga:swiper-metric",{detail:{namespace:i||"default",event:d,payload:A||{}}});c.dispatchEvent(v)}catch(v){}},Lr=c=>!c||typeof c!="object"?[]:(Array.isArray(c.attempts)?c.attempts:[]).map(d=>{if(!d||typeof d!="object"||d.enabled===!1)return null;let A=typeof d.key=="string"&&d.key?d.key:"fallback",x=d.js&&typeof d.js=="object"?d.js:{},v=d.css&&typeof d.css=="object"?d.css:null,W=d.inject!==!1,w=typeof x.src=="string"&&x.src?x.src:"";return w?{key:A,label:typeof d.label=="string"&&d.label?d.label:A,js:{src:w,integrity:typeof x.integrity=="string"&&x.integrity?x.integrity:null,crossOrigin:typeof x.crossOrigin=="string"&&x.crossOrigin?x.crossOrigin:null,referrerPolicy:typeof x.referrerPolicy=="string"&&x.referrerPolicy?x.referrerPolicy:null},css:v&&typeof v.href=="string"&&v.href?{href:v.href,integrity:typeof v.integrity=="string"&&v.integrity?v.integrity:null,crossOrigin:typeof v.crossOrigin=="string"&&v.crossOrigin?v.crossOrigin:null,referrerPolicy:typeof v.referrerPolicy=="string"&&v.referrerPolicy?v.referrerPolicy:null}:null,timeout:typeof d.timeout=="number"&&d.timeout>0?d.timeout:12e3,inject:W}:null}).filter(Boolean),_r=(c,i,d)=>{if(!i||!i.css)return Promise.resolve();let A=wn(c);if(!A)return Promise.resolve();let x=Array.from(A.querySelectorAll('link[rel="stylesheet"]')).find(v=>v.href===i.css.href);return x?Promise.resolve(x):new Promise((v,W)=>{let w=A.createElement("link");w.rel="stylesheet",w.href=i.css.href,w.dataset.mgaSwiperSource=i.key,i.css.integrity&&(w.integrity=i.css.integrity),i.css.crossOrigin?w.crossOrigin=i.css.crossOrigin:i.css.integrity&&(w.crossOrigin="anonymous"),i.css.referrerPolicy&&(w.referrerPolicy=i.css.referrerPolicy),w.onload=()=>{N(c,d,"css_load_success",{source:i.key}),v(w)},w.onerror=()=>{N(c,d,"css_load_error",{source:i.key}),W(new Error("Stylesheet load error"))},A.head.appendChild(w),N(c,d,"css_load_start",{source:i.key,href:i.css.href})})},kr=(c,i,d)=>{if(!i||!i.js||!i.js.src)return Promise.reject(new Error("Invalid attempt configuration"));let A=wn(c);if(!A)return Promise.reject(new Error("Document unavailable"));let x=Array.from(A.querySelectorAll("script")).find(v=>v.src===i.js.src&&!v.hasAttribute("data-mga-swiper-failed"));return x?new Promise((v,W)=>{if(typeof c.Swiper=="function"){x.setAttribute("data-mga-swiper-loaded","true"),N(c,d,"js_already_available",{source:i.key}),v(x);return}if(typeof x.hasAttribute=="function"&&x.hasAttribute("data-mga-swiper-loaded")){v(x);return}x.addEventListener("load",()=>{x.setAttribute("data-mga-swiper-loaded","true"),v(x)}),x.addEventListener("error",()=>{x.setAttribute("data-mga-swiper-failed","true"),W(new Error("Existing script failed"))}),N(c,d,"js_existing_observed",{source:i.key})}):new Promise((v,W)=>{let w=A.createElement("script");w.src=i.js.src,w.async=!1,w.dataset.mgaSwiperSource=i.key,i.js.integrity&&(w.integrity=i.js.integrity),i.js.crossOrigin?w.crossOrigin=i.js.crossOrigin:i.js.integrity&&(w.crossOrigin="anonymous"),i.js.referrerPolicy&&(w.referrerPolicy=i.js.referrerPolicy);let H=null,le=()=>{H&&(c.clearTimeout(H),H=null)};w.onload=()=>{le(),w.setAttribute("data-mga-swiper-loaded","true"),N(c,d,"js_load_success",{source:i.key}),v(w)},w.onerror=()=>{le(),w.setAttribute("data-mga-swiper-failed","true"),N(c,d,"js_load_error",{source:i.key}),W(new Error("Script load error"))},H=c.setTimeout(()=>{le(),w.setAttribute("data-mga-swiper-failed","true"),N(c,d,"js_load_timeout",{source:i.key,timeout:i.timeout}),W(new Error("Script load timeout"))},i.timeout||12e3),A.head.appendChild(w),N(c,d,"js_load_start",{source:i.key,src:i.js.src})})},Tr=c=>c?((!c.mgaSwiperLoaderState||typeof c.mgaSwiperLoaderState!="object")&&(c.mgaSwiperLoaderState={promise:null}),c.mgaSwiperLoaderState):{promise:null},Ir=(c,i,d)=>!i||!i.inject?Promise.resolve():typeof c.Swiper=="function"?Promise.resolve(c.Swiper):(N(c,d,"attempt_start",{source:i.key}),_r(c,i,d).catch(()=>null).then(()=>kr(c,i,d)).then(()=>{if(typeof c.Swiper=="function")return N(c,d,"attempt_success",{source:i.key}),c.Swiper;throw N(c,d,"attempt_no_global",{source:i.key}),new Error("Swiper global missing after load")}).catch(A=>{throw N(c,d,"attempt_error",{source:i.key,message:A&&A.message?A.message:String(A)}),A})),Mr=(c,i,d)=>i.reduce((A,x)=>A.catch(()=>Ir(c,x,d)),Promise.reject(new Error("initial"))),Fr=(c,i)=>i&&typeof i=="object"?i:c&&c.mgaSwiperLoaderConfig&&typeof c.mgaSwiperLoaderConfig=="object"?c.mgaSwiperLoaderConfig:c&&c.mgaAdminConfig&&typeof c.mgaAdminConfig=="object"&&c.mgaAdminConfig.swiper?c.mgaAdminConfig.swiper:null,vn=(c=window,i={})=>{let d=typeof i.namespace=="string"&&i.namespace?i.namespace:"default";if(!c)return Promise.reject(new Error("Global scope unavailable"));if(typeof c.Swiper=="function")return N(c,d,"already_available",{}),Promise.resolve(c.Swiper);let A=Fr(c,i.config),x=Lr(A);if(!x.length)return N(c,d,"no_attempts_configured",{}),Promise.reject(new Error("No Swiper attempts configured"));let v=Tr(c);return v.promise||(N(c,d,"bootstrap",{version:A&&A.version?A.version:null,attempts:x.map(W=>W.key)}),v.promise=Mr(c,x,d).catch(()=>{if(typeof c.Swiper=="function")return c.Swiper;throw N(c,d,"fatal",{}),new Error("Swiper could not be loaded")}).then(()=>{if(typeof c.Swiper=="function")return N(c,d,"ready",{}),c.Swiper;throw N(c,d,"fatal",{}),new Error("Swiper global unavailable")}).finally(()=>{v.promise=null})),v.promise}});var Sn=Re(()=>{mn();yn();bn();xn()});var Pr=vr((Wr,D)=>{Sn();(function(){"use strict";let c=gn(),i=pn(c),d=fn(c),A=typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):p=>window.setTimeout(p,0),x=typeof window.cancelAnimationFrame=="function"?window.cancelAnimationFrame.bind(window):p=>{typeof window.clearTimeout=="function"&&window.clearTimeout(p)},v=p=>typeof p!="string"||p.trim()===""?"":p.trim().split(/[-_\s]+/).filter(Boolean).map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" "),W=p=>{let E=document.createElement("span");E.className="mga-share-option__icon";let I=hn(document,Le(p));return I&&E.appendChild(I),E},w=(p,E={})=>typeof document=="undefined"?null:rt(document,p,E);function H(p){let E=[];Array.isArray(p)?p.forEach(C=>{E.push(C)}):p&&typeof p=="object"&&Object.keys(p).forEach(C=>{let L=p[C];L&&typeof L=="object"&&E.push(Object.assign({key:C},L))});let I=new Set;return E.reduce((C,L)=>{if(!L||typeof L!="object")return C;let q="";typeof L.key=="string"?q=L.key:typeof L.slug=="string"&&(q=L.slug);let $=Le(q);if(!$&&typeof L.label=="string"&&($=Le(L.label.replace(/\s+/g,"-"))),!$||I.has($))return C;I.add($);let G=typeof L.label=="string"&&L.label.trim()?L.label.trim():v($),Ue=typeof L.template=="string"?L.template.trim():"",ke=Le(L.icon||$)||$,Ne=L.enabled===!0||L.enabled==="1"||L.enabled===1||L.enabled==="true"||L.enabled==="on";return C.push({key:$,label:G,template:Ue,icon:ke,enabled:Ne}),C},[])}let le="slide",En=600,Tt="ease-out",An=["slide","fade","cube","coverflow","flip"],It=new Set(["cube","coverflow","flip"]),Cn=["ease","ease-in","ease-out","ease-in-out","linear"],Mt="bottom",jn=["bottom","left","hidden"],Ln=p=>{if(typeof p!="string")return le;let E=p.trim().toLowerCase();return An.includes(E)?E:le},_n=p=>{let E=parseInt(p,10);return Number.isNaN(E)?En:Math.min(Math.max(E,100),5e3)},kn=p=>{if(typeof p!="string")return Tt;let E=p.trim().toLowerCase();return Cn.includes(E)?E:Tt},Tn=p=>{if(typeof p!="string")return Mt;let E=p.trim().toLowerCase();return jn.includes(E)?E:Mt},we=(p,E)=>{!p||!p.wrapperEl||(p.wrapperEl.style.transitionTimingFunction=E)};function ot(p,E){if(!p)return;let I=p.querySelector(".mga-echo-bg");if(!I)return;let C=typeof E=="string"?E.trim():"";if(!C){let G=I.querySelector(".mga-visible");G&&(G.classList.remove("mga-visible"),setTimeout(()=>{G.parentElement&&G.parentElement.removeChild(G)},400)),p.classList.remove("mga-has-texture");return}let L=document.createElement("img");L.className="mga-echo-bg__image",L.alt="",L.setAttribute("aria-hidden","true"),L.setAttribute("role","presentation"),L.decoding="async";let q=!1,$=()=>{if(q)return;q=!0;let G=I.querySelector(".mga-visible");G&&(G.classList.remove("mga-visible"),setTimeout(()=>{G.parentElement&&G.parentElement.removeChild(G)},400)),I.appendChild(L),setTimeout(()=>L.classList.add("mga-visible"),10),p.classList.remove("mga-has-texture")};L.onload=$,L.onerror=()=>{p.classList.remove("mga-has-texture")},L.src=C,L.complete&&setTimeout(()=>$())}let it=!1,In=()=>{if(it||typeof Swiper!="function")return;if(typeof Swiper.use!="function"){it=!0;return}let E=["Navigation","Autoplay","Thumbs","Zoom","Keyboard","A11y","EffectFade","EffectCube","EffectCoverflow","EffectFlip"].reduce((I,C)=>(Swiper[C]&&I.push(Swiper[C]),I),[]);E.length&&Swiper.use(E),it=!0};function _e(p,E){if(!p)return;let I=p.querySelector("#mga-play-pause");if(!I)return;I.setAttribute("aria-pressed",E?"true":"false");let C=i(E?"Mettre le diaporama en pause":"Lancer le diaporama","lightbox-jlg");I.setAttribute("aria-label",C),I.setAttribute("title",C)}function Mn(){let p=window.mga_settings||{},E=Tn(p.thumbs_layout),I=()=>{},C=(e,t=!0)=>{if(typeof e=="undefined")return t;if(typeof e=="string"){let n=e.trim().toLowerCase();if(["false","0","no","off"].includes(n))return!1;if(["true","1","yes","on"].includes(n))return!0}return typeof e=="number"?e!==0:!!e},L=C(p.debug_mode,!1),q=C(p.include_svg,!0),$="jpe?g|png|gif|bmp|webp|avif",G=q?`${$}|svg`:$,Ue=new RegExp(`.(${G})(?:\\?.*)?(?:#.*)?$`,"i"),ke="linked-media",Ne="self-linked-media",Fn=new Set([ke,Ne]),at=typeof p.trigger_scenario=="string"?p.trigger_scenario.trim().toLowerCase():ke;Fn.has(at)||(at=ke);let ce=e=>typeof e=="string"&&/\.svg(?:\?.*)?(?:#.*)?$/i.test(e),re=typeof window!="undefined"&&window.mgaDebug&&typeof window.mgaDebug=="object"?window.mgaDebug:null;re&&(re.enabled=L===!0,!re.enabled&&typeof re.destroy=="function"&&re.destroy({reason:"settings-disabled"}),!re.enabled&&typeof re.log=="function"&&re.log(i("Mode diagnostic d\xE9sactiv\xE9 dans les r\xE9glages.","lightbox-jlg")));let l=re&&re.enabled?re:{enabled:!1,init:I,log:I,updateInfo:I,updateVisibleSlides:I,onForceOpen:I,stopTimer:I,restartTimer:I,table:I,shareAction:I,destroy:I},lt=e=>{let t=J(e);if(!t)return[];let n=new Set,r=s=>{if(typeof s=="string"){let o=s.trim();o&&n.add(o)}};r(t);try{let s=decodeURIComponent(t);r(s)}catch(s){}try{let s=typeof window!="undefined"&&window.location?window.location.href:void 0,o=new URL(t,s);o.pathname&&r(o.pathname),o.hostname&&o.pathname&&r(`${o.hostname.toLowerCase()}${o.pathname}`)}catch(s){r(t.replace(/^\.\/+/,""))}return Array.from(n)},Be=e=>typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(t=>t.length>0).map(t=>t.split(/\s+/)[0]).map(t=>J(t)).filter(t=>!!t),Pn=e=>{let t=new Set;if(!e)return t;let n=["src","data-mga-highres","data-full-url","data-large-file","data-orig-file","data-src","data-lazy-src"],r=s=>{let o=J(s);o&&t.add(o)};return n.forEach(s=>{e.hasAttribute&&e.hasAttribute(s)&&r(e.getAttribute(s))}),e.dataset&&["mgaHighres","fullUrl","largeFile","origFile","src","lazySrc"].forEach(s=>{e.dataset[s]&&r(e.dataset[s])}),Be(e.srcset).forEach(s=>t.add(s)),e.dataset&&e.dataset.srcset&&Be(e.dataset.srcset).forEach(s=>t.add(s)),t},zn=e=>{let t=new Set;return e&&(["srcset","data-srcset","src","data-src","data-lazy-src"].forEach(n=>{if(!e.hasAttribute||!e.hasAttribute(n))return;if(n==="srcset"||n==="data-srcset"){Be(e.getAttribute(n)).forEach(s=>t.add(s));return}let r=J(e.getAttribute(n));r&&t.add(r)}),e.dataset&&["src","lazySrc","srcset"].forEach(n=>{if(!e.dataset[n])return;if(n.toLowerCase().includes("srcset")){Be(e.dataset[n]).forEach(s=>t.add(s));return}let r=J(e.dataset[n]);r&&t.add(r)})),t},On=e=>{let t=new Set;return e instanceof Element?(e.querySelectorAll("img").forEach(n=>{Pn(n).forEach(r=>{lt(r).forEach(s=>t.add(s))})}),e.querySelectorAll("source").forEach(n=>{zn(n).forEach(r=>{lt(r).forEach(s=>t.add(s))})}),Array.from(t)):[]},ct=e=>{if(at!==Ne)return!0;if(!(e instanceof Element))return!1;let t=e.getAttribute("href"),n=J(t);if(!n||!Ue.test(n))return!1;let r=lt(n);if(!r.length)return!1;let s=On(e);return s.length?r.some(o=>s.includes(o)):!1},ut=C(p.show_zoom,!0),zt=C(p.show_download,!0),ve=C(p.show_share,!0),Ot=C(p.show_fullscreen,!0),Dn=C(p.show_thumbs_mobile,!0),xe=C(p.show_cta,!0),Rn=C(p.close_on_backdrop,!0),Ve=C(p.loop,!0),Un=Object.prototype.hasOwnProperty.call(p,"start_on_clicked_image")?p.start_on_clicked_image:p.startOnClickedImage,Dt=C(Un,!0),Te=C(p.share_copy,!0),Ie=C(p.share_download,!0),qe=H(p.share_channels),dt={copy:i("Copier le lien","lightbox-jlg"),download:i("T\xE9l\xE9chargement rapide","lightbox-jlg"),native:i("Partager via l'appareil","lightbox-jlg")},Rt=()=>{let e=[];return qe.forEach(t=>{if(!t||typeof t!="object")return;let{enabled:n,template:r}=t,s=typeof r=="string"&&r.trim()!=="";!n||!s||e.push({type:"social",key:t.key,label:t.label||v(t.key)||t.key,template:r.trim(),icon:t.icon||t.key})}),Te&&e.push({type:"copy",key:"copy",label:dt.copy,icon:"copy"}),Ie&&e.push({type:"download",key:"download",label:dt.download,icon:"download"}),$t()&&e.push({type:"native",key:"native",label:dt.native,icon:"native"}),e},Ut=()=>Rt().length>0,He=()=>ve&&Ut(),ee=[],ft="mga-scroll-locked",u=null,z=null,ue=null,Me=!1,pt=new Set,$e=new WeakMap,Nt,gt=!1,mt=null,ht=null,Ge=!1,Ke=!1,We=!1,te=null,fe=null,ae=[],Ze=null,T=null,Se=!1,Fe=null,Pe=null,pe=null,ge=null,Ee={lastBaseAnnouncement:"",isTemporaryMessageActive:!1};l.enabled&&typeof l.init=="function"&&(l.init(),typeof l.log=="function"&&l.log(i("Mode diagnostic activ\xE9.","lightbox-jlg")));let yt={selector:"#mga-share",handler:e=>{e.preventDefault();let t=bt();return!t||!t.image?(l.log(i("Impossible de partager l\u2019image active.","lightbox-jlg"),!0),!0):(Wt(t.image)||l.log(i("Aucune option de partage disponible pour l\u2019image active.","lightbox-jlg"),!0),!0)}},Bt=()=>{ee.includes(yt)||(ee.push(yt),Ye())},Nn=()=>{let e=ee.indexOf(yt);e!==-1&&(ee.splice(e,1),Ye())};ut&&ee.push({selector:"#mga-zoom",handler:()=>u&&u.zoom?(u.zoom.toggle(),!0):!1}),zt&&ee.push({selector:"#mga-download",handler:e=>{e.preventDefault();let t=qt();return t?wt(t)||l.log(i("Impossible de lancer le t\xE9l\xE9chargement de l\u2019image active.","lightbox-jlg"),!0):l.log(i("URL haute r\xE9solution introuvable pour l\u2019image active.","lightbox-jlg"),!0),!0}}),He()&&Bt(),Ot&&ee.push({selector:"#mga-fullscreen",handler:(e,t)=>{if(!t)return!1;let{request:n,exit:r,element:s}=Qt(t);if(s)if(r)try{let o=r();o&&typeof o.catch=="function"&&o.catch(a=>l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),a.message),!0))}catch(o){l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),o.message),!0)}else l.log(i("API de fermeture du plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);else if(n)try{let o=n();o&&typeof o.catch=="function"&&o.catch(a=>l.log(d(i("Erreur plein \xE9cran\xA0: %s","lightbox-jlg"),a.message),!0))}catch(o){l.log(d(i("Erreur plein \xE9cran\xA0: %s","lightbox-jlg"),o.message),!0)}else l.log(i("API plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);return!0}});function Vt(e){if(!e||!e.target)return null;let t=e.target;if(t instanceof Element)return t;if(t&&typeof t=="object"){if(t.parentElement instanceof Element)return t.parentElement;if(t.parentNode instanceof Element)return t.parentNode}return null}function bt(){if(!Array.isArray(ae)||!ae.length)return null;let e=u&&typeof u.activeIndex=="number"?u.activeIndex:0,t=u&&typeof u.realIndex=="number"?u.realIndex:e,n=ae[t];return n?{image:n,index:t}:null}function qt(){let e=bt();if(!e)return null;let{image:t}=e;return t&&typeof t.highResUrl=="string"&&t.highResUrl?t.highResUrl:null}function wt(e){if(typeof e!="string"||!e)return!1;if(!document.body||typeof document.body.appendChild!="function")return l.log(i("T\xE9l\xE9chargement impossible\xA0: document.body indisponible.","lightbox-jlg"),!0),!1;let t=null;try{t=document.createElement("a"),t.href=e,t.rel="noopener noreferrer";let n="image";try{let r=new URL(e,window.location.href),s=r&&typeof r.pathname=="string"?r.pathname:"";if(s){let a=s.split("/").filter(Boolean).pop();a&&(n=a)}}catch(r){}return t.download=n,document.body.appendChild(t),t.click(),!0}catch(n){return l.log(d(i("\xC9chec du t\xE9l\xE9chargement\xA0: %s","lightbox-jlg"),n.message),!0),!1}finally{t&&t.parentNode===document.body&&document.body.removeChild(t)}}function Ye(e){let n=e||null;if(!n){let r=document.getElementById("mga-viewer");r&&(n=r.querySelector(".mga-toolbar"))}n&&n.setAttribute("data-mga-optional-buttons",String(ee.length))}function Ht(){let e=document.createElement("button");e.type="button",e.id="mga-share",e.className="mga-toolbar-button",e.setAttribute("aria-label",i("Partager l\u2019image","lightbox-jlg")),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","mga-share-modal");let t=w("svg",{class:"mga-icon mga-share-icon",viewBox:"0 0 24 24",fill:"currentColor"}),n=w("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.03.47.09.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.03-.82l7.05 4.12c-.06.23-.08.46-.08.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"});return t.appendChild(n),e.appendChild(t),e}function $t(){return typeof navigator!="undefined"&&navigator&&typeof navigator.share=="function"}function vt(e){if(!ve||!Ut())return null;if(T&&T.container&&T.container.parentElement===e)return T;let t=document.createElement("div");t.id="mga-share-modal",t.className="mga-share-modal",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-hidden","true"),t.setAttribute("hidden","hidden");let n=document.createElement("div");n.className="mga-share-modal__overlay",n.setAttribute("aria-hidden","true"),t.appendChild(n);let r=document.createElement("div");r.className="mga-share-modal__dialog",r.setAttribute("role","document"),r.setAttribute("tabindex","-1"),t.appendChild(r);let s=document.createElement("div");s.className="mga-share-modal__header",r.appendChild(s);let o=document.createElement("h2");o.id="mga-share-title",o.className="mga-share-modal__title",o.textContent=i("Partager cette image","lightbox-jlg"),s.appendChild(o);let a=document.createElement("button");a.type="button",a.className="mga-share-modal__close",a.setAttribute("aria-label",i("Fermer la fen\xEAtre de partage","lightbox-jlg")),a.innerHTML="&times;",s.appendChild(a);let g=document.createElement("div");g.className="mga-share-modal__body",r.appendChild(g);let m=document.createElement("p");m.id="mga-share-description",m.className="mga-share-modal__description",m.textContent=i("Choisissez une option de partage\xA0:","lightbox-jlg"),g.appendChild(m),t.setAttribute("aria-labelledby",o.id),t.setAttribute("aria-describedby",m.id);let f=document.createElement("ul");f.className="mga-share-modal__list",f.setAttribute("data-mga-share-list","true"),g.appendChild(f);let h=document.createElement("p");h.className="mga-share-modal__feedback",h.setAttribute("role","status"),h.setAttribute("aria-live","polite"),h.setAttribute("aria-atomic","true"),h.setAttribute("hidden","hidden"),g.appendChild(h),e.appendChild(t);let b=j=>{j&&typeof j.stopPropagation=="function"&&j.stopPropagation(),Ae({reason:"overlay"})},k=()=>Ae({reason:"close-button"});return n.addEventListener("click",b),a.addEventListener("click",k),f.addEventListener("click",Kn),T={container:t,dialog:r,list:f,closeButton:a,overlay:n,feedback:h,description:m,payload:null,options:[]},T}function Gt(){!T||!T.feedback||(T.feedback.textContent="",T.feedback.removeAttribute("data-mga-state"),T.feedback.setAttribute("hidden","hidden"))}function oe(e,t=!1,n){if(!T||!T.feedback)return;T.feedback.textContent=e||"";let r=n||(t?"error":e?"info":"");e?T.feedback.removeAttribute("hidden"):T.feedback.setAttribute("hidden","hidden"),r?T.feedback.setAttribute("data-mga-state",r):T.feedback.removeAttribute("data-mga-state"),e&&wr(e,{tone:r||(t?"error":"info")})}function Bn(e,t,n){if(!(!e||!e.list)){for(Gt();e.list.firstChild;)e.list.removeChild(e.list.firstChild);e.options=Array.isArray(t)?t:[],e.payload=n||{},e.list.setAttribute("data-mga-share-count",String(e.options.length)),e.options.forEach(r=>{let s=document.createElement("li");s.className="mga-share-modal__item";let o=document.createElement("button");o.type="button",o.className="mga-share-option",o.setAttribute("data-share-type",r.type),o.setAttribute("data-share-key",r.key),o.setAttribute("data-share-label",r.label),r.template&&o.setAttribute("data-share-template",r.template),r.icon&&o.setAttribute("data-share-icon",r.icon);let a=document.createElement("span");a.className="mga-share-option__content";let g=W(r.icon);g&&a.appendChild(g);let m=document.createElement("span");m.className="mga-share-option__label",m.textContent=r.label,a.appendChild(m),o.appendChild(a);let f=document.createElement("span");f.className="mga-share-option__chevron",f.setAttribute("aria-hidden","true"),f.textContent="\u203A",o.appendChild(f),s.appendChild(o),e.list.appendChild(s)})}}function Vn(e){return Rt().map(t=>({...t}))}function Kt(e){if(!e||!e.dialog)return[];let t=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.dialog.querySelectorAll(t.join(","))).filter(n=>!n.hasAttribute("disabled"))}function qn(e){if(!Se||!T)return;if(e.key==="Escape"){e.preventDefault(),Ae({reason:"escape"});return}if(e.key!=="Tab")return;let t=Kt(T);if(!t.length)return;let n=t[0],r=t[t.length-1],s=document.activeElement;e.shiftKey?(s===n||!T.dialog.contains(s))&&(e.preventDefault(),r.focus()):s===r&&(e.preventDefault(),n.focus())}function Hn(e,t){if(!e||!e.container)return!1;e.container.removeAttribute("hidden"),e.container.setAttribute("aria-hidden","false"),e.container.classList.add("is-visible"),Se=!0,Fe=t||(document.activeElement instanceof HTMLElement?document.activeElement:null),Pe=qn,document.addEventListener("keydown",Pe,!0),t&&t.setAttribute("aria-expanded","true");let n=Kt(e);return n.length?n[0].focus():e.closeButton&&e.closeButton.focus(),l.shareAction("open",{options:e.options.map(r=>r.key)}),!0}function Ae({restoreFocus:e=!0,reason:t="manual"}={}){if(!T||!T.container||!Se)return;T.container.classList.remove("is-visible"),T.container.setAttribute("aria-hidden","true"),T.container.setAttribute("hidden","hidden"),Pe&&(document.removeEventListener("keydown",Pe,!0),Pe=null);let n=document.getElementById("mga-share");n&&n.setAttribute("aria-expanded","false"),Se=!1,e&&Fe&&typeof Fe.focus=="function"&&Fe.focus(),Fe=null,l.shareAction("close",{reason:t})}function $n(e,t){if(typeof e!="string"||!e)return"";let n=t||{},r={url:n.url||"",text:n.text||n.title||"",title:n.title||n.text||""};return e.replace(/%([a-z]+)%/gi,(s,o)=>{let a=o.toLowerCase();return Object.prototype.hasOwnProperty.call(r,a)?encodeURIComponent(r[a]):""})}function Gn(e){return typeof e!="string"?Promise.reject(new Error("invalid-text")):navigator.clipboard&&typeof navigator.clipboard.writeText=="function"?navigator.clipboard.writeText(e):new Promise((t,n)=>{try{let r=document.createElement("textarea");r.value=e,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r),r.select();let s=document.execCommand("copy");document.body.removeChild(r),s?t():n(new Error("execCommand-failed"))}catch(r){n(r)}})}function Kn(e){if(!T||!T.list||!Se)return;let t=e.target instanceof Element?e.target.closest("button[data-share-type]"):null;if(!t)return;e.preventDefault();let n=t.getAttribute("data-share-type"),r=t.getAttribute("data-share-key")||"",s=t.getAttribute("data-share-label")||r,o=T.payload||{};if(n==="social"){let a=t.getAttribute("data-share-template")||"",g=$n(a,o);if(!g){oe(i("Impossible de g\xE9n\xE9rer le lien de partage.","lightbox-jlg"),!0,"error"),l.shareAction("social",{target:r,success:!1,reason:"invalid-url"});return}let m=null;if(typeof window!="undefined"&&window&&typeof window.open=="function"&&(m=window.open(g,"_blank","noopener,noreferrer"),m&&typeof m=="object"&&"opener"in m))try{m.opener=null}catch(f){}m?(oe(d(i("Ouverture de %s dans un nouvel onglet.","lightbox-jlg"),s),!1,"info"),l.shareAction("social",{target:r,success:!0,url:g})):(oe(d(i("Impossible d\u2019ouvrir %s. V\xE9rifiez votre bloqueur de fen\xEAtres.","lightbox-jlg"),s),!0,"error"),l.shareAction("social",{target:r,success:!1,url:g}));return}if(n==="copy"){if(!o.url){oe(i("Aucun lien \xE0 copier pour cette image.","lightbox-jlg"),!0,"error"),l.shareAction("copy",{success:!1,reason:"missing-url"});return}Gn(o.url).then(()=>{oe(i("Lien copi\xE9 dans le presse-papiers.","lightbox-jlg"),!1,"success"),l.shareAction("copy",{success:!0})}).catch(a=>{oe(i("Impossible de copier le lien. Essayez le raccourci clavier.","lightbox-jlg"),!0,"error"),l.shareAction("copy",{success:!1,reason:a&&a.message?a.message:"copy-error"})});return}if(n==="download"){if(!o.url){oe(i("Aucun fichier \xE0 t\xE9l\xE9charger pour cette image.","lightbox-jlg"),!0,"error"),l.shareAction("download",{success:!1,reason:"missing-url"});return}wt(o.url)?(oe(i("T\xE9l\xE9chargement de l\u2019image lanc\xE9.","lightbox-jlg"),!1,"success"),l.shareAction("download",{success:!0})):(oe(i("Impossible de lancer le t\xE9l\xE9chargement.","lightbox-jlg"),!0,"error"),l.shareAction("download",{success:!1}));return}if(n==="native"){if(!$t()){oe(i("Le partage natif n\u2019est pas pris en charge sur ce navigateur.","lightbox-jlg"),!0,"error"),l.shareAction("native",{success:!1,reason:"unsupported"});return}try{let a=navigator.share(o);l.shareAction("native",{success:!0}),Ae({restoreFocus:!1,reason:"native-share"}),a&&typeof a.catch=="function"&&a.catch(g=>{let m=g&&g.message?g.message:i("Partage annul\xE9.","lightbox-jlg");l.shareAction("native",{success:!1,reason:m})})}catch(a){oe(d(i("Partage natif impossible\xA0: %s","lightbox-jlg"),a&&a.message?a.message:"unknown"),!0,"error"),l.shareAction("native",{success:!1,reason:a&&a.message?a.message:"error"})}return}l.shareAction("unknown",{type:n})}function Wt(e){if(!e||typeof e.highResUrl!="string"||!e.highResUrl)return!1;let t=document.getElementById("mga-viewer");if(!t)return!1;let n=vt(t);if(!n)return!1;let r=typeof e.caption=="string"?e.caption.trim():"",s=typeof document!="undefined"&&document&&typeof document.title=="string"?document.title:"",o={url:e.highResUrl};r&&(o.text=r),(r||s)&&(o.title=r||s);let a=Vn(o);if(!a.length)return l.shareAction("no-options",{url:e.highResUrl}),xt(),!1;Bn(n,a,o);let g=t.querySelector("#mga-share");return!!Hn(n,g||null)}function xt(){let e=He();e?Bt():Nn();let t=document.getElementById("mga-viewer");if(!t)return;let n=t.querySelector(".mga-toolbar"),r=t.querySelector("#mga-share");if(!e){Se&&Ae({restoreFocus:!1,reason:"share-options-removed"}),r&&r.remove(),Ye(n);return}if(!r&&n){let o=Ht(),a=n.querySelector("#mga-fullscreen"),g=n.querySelector("#mga-close");a&&a.parentElement===n?n.insertBefore(o,a):g&&g.parentElement===n?n.insertBefore(o,g):n.appendChild(o)}if(vt(t)){let o=t.querySelector("#mga-share");o&&(o.setAttribute("aria-controls","mga-share-modal"),o.setAttribute("aria-expanded","false"))}Ye(n)}function Zt(e,t){if(In(),typeof Swiper!="function"){let U=i("ERREUR\xA0: La d\xE9pendance Swiper est introuvable. Initialisation annul\xE9e.","lightbox-jlg");return l&&typeof l.log=="function"?l.log(U,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(U),null}if(!t||!t.loop)return new Swiper(e,t);let n=e?e.querySelectorAll(".swiper-slide").length:0,s=(U=>{let R=[],Z=F=>{typeof F=="number"&&!Number.isNaN(F)&&R.push(Math.ceil(F))};return Z(U.slidesPerView),U.breakpoints&&typeof U.breakpoints=="object"&&Object.values(U.breakpoints).forEach(F=>{F&&typeof F=="object"&&Z(F.slidesPerView)}),R.length?Math.max(...R):1})(t),o=typeof t.loopedSlides=="number"?Math.max(0,Math.floor(t.loopedSlides)):s,a=typeof t.loopAdditionalSlides=="number"?Math.max(0,Math.floor(t.loopAdditionalSlides)):0,g=typeof t.slidesPerGroup=="number"?Math.max(1,Math.floor(t.slidesPerGroup)):1,m=t.centeredSlides?1:0,f=o+a,h=Math.max(f+1,g+m+1,2);if(n>=h)return new Swiper(e,t);let b=Object.assign({},t),k=o,j=a;if(n>1){k=Math.min(o,Math.max(n-1,1));let U=Math.max(n-1-k,0);j=Math.min(a,U)}else b.loop=!1;b.loopedSlides=k,b.loopAdditionalSlides=j;let V=b.loop?`Loop ajust\xE9e (instance locale) : ${n} slide(s), boucle recalibr\xE9e \xE0 ${k} + ${j} slide(s) additionnelles.`:`Loop d\xE9sactiv\xE9e (instance locale) : ${n} slide disponible, boucle inutilisable.`;return l&&typeof l.log=="function"?l.log(V):typeof console!="undefined"&&typeof console.info=="function"&&console.info(V),new Swiper(e,b)}let Wn=[{key:"ultrawide",label:i("\xC9cran ultralarge","lightbox-jlg"),minWidth:1600},{key:"desktop",label:i("Bureau","lightbox-jlg"),minWidth:1200},{key:"tablet",label:i("Tablette","lightbox-jlg"),minWidth:768},{key:"portrait",label:i("Portrait","lightbox-jlg"),minWidth:0}],Yt=e=>typeof e=="number"&&Number.isFinite(e)&&!Number.isNaN(e),Zn=(e,t)=>{if(!e||typeof e!="object")return 1;let n=e.slidesPerView,{breakpoints:r}=e;return r&&typeof r=="object"&&Object.entries(r).map(([o,a])=>({width:parseFloat(o),config:a})).filter(({width:o,config:a})=>!Number.isNaN(o)&&t>=o&&a&&typeof a=="object").sort((o,a)=>o.width-a.width).forEach(({config:o})=>{Object.prototype.hasOwnProperty.call(o,"slidesPerView")&&(n=o.slidesPerView)}),Yt(n)?Math.max(1,Math.ceil(n)):n==="auto"?"auto":1},Yn=e=>Wn.map(t=>({key:t.key,label:t.label,value:Zn(e,t.minWidth)})),Qn=(e,t)=>{if(!l||typeof l.updateVisibleSlides!="function")return;let n=Yn(t),r=e&&typeof e.slidesPerViewDynamic=="function"?e.slidesPerViewDynamic():null,s=n.map(({label:o,value:a})=>a==="auto"?Yt(r)?d(i("%1$s\xA0: auto (~%2$s)","lightbox-jlg"),o,Math.max(1,Math.round(r))):d(i("%s\xA0: auto","lightbox-jlg"),o):d(i("%1$s\xA0: %2$s","lightbox-jlg"),o,a)).join(" | ");l.updateVisibleSlides(s)};function St(e,t,n){if(!e||e.destroyed)return;let r=[t];if(typeof n!="undefined"&&r.push(n),e.params&&e.params.loop&&typeof e.slideToLoop=="function"){e.slideToLoop.apply(e,r);return}typeof e.slideTo=="function"&&e.slideTo.apply(e,r)}let me=null;function Xn(){if(me!==null||(me=!1,typeof window=="undefined"||typeof document=="undefined"||typeof document.createElement!="function"||typeof HTMLElement=="undefined"||!HTMLElement.prototype||typeof HTMLElement.prototype.focus!="function"))return me;let e=document.createElement("button"),t=document.body||document.documentElement;try{e.type="button",t&&typeof t.appendChild=="function"&&t.appendChild(e),HTMLElement.prototype.focus.call(e,{get preventScroll(){return me=!0,!0}})}catch(n){me=!1}finally{e.parentNode&&typeof e.parentNode.removeChild=="function"&&e.parentNode.removeChild(e)}return me}function Qe(e,t={preventScroll:!0}){if(!e||typeof e.focus!="function")return;if(t&&Xn())try{e.focus(t);return}catch(r){}e.focus()}function Qt(e){let t=document,n=[{request:"requestFullscreen",exit:"exitFullscreen",element:"fullscreenElement"},{request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",element:"webkitFullscreenElement"},{request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",element:"webkitCurrentFullScreenElement"},{request:"mozRequestFullScreen",exit:"mozCancelFullScreen",element:"mozFullScreenElement"},{request:"msRequestFullscreen",exit:"msExitFullscreen",element:"msFullscreenElement"}],r={request:null,exit:null,element:null},s=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"];for(let o of s)if(typeof t[o]!="undefined"&&t[o]){r.element=t[o];break}for(let o of n)if(!r.request&&e&&typeof e[o.request]=="function"&&(r.request=e[o.request].bind(e)),!r.exit&&typeof t[o.exit]=="function"&&(r.exit=t[o.exit].bind(t)),r.request&&r.exit&&r.element)break;return r}function Xt(e){if(!e)return!1;if(e.hasAttribute("data-mga-allow-fallback"))return!0;if(e.dataset){let s=e.dataset.mgaAllowFallback;if(typeof s!="undefined"&&s!=="0"&&s!=="false"||e.dataset.mgaHighres)return!0;let o=e.dataset.type||e.dataset.wpType;if(typeof o=="string"&&o.toLowerCase()==="attachment")return!0}let t=e.getAttribute("rel");if(t&&t.split(/\s+/).includes("mga-allow-fallback"))return!0;let n=e.getAttribute("data-type");if(typeof n=="string"&&n.toLowerCase()==="attachment")return!0;let r=e.getAttribute("href");if(typeof r=="string"){if(/[?&]attachment_id=\d+/i.test(r)||/\/attachment\//i.test(r))return!0;try{let s=typeof window!="undefined"&&window.location?window.location.href:void 0,o=new URL(r,s);if(o.searchParams&&o.searchParams.has("attachment_id"))return!0}catch(s){}}return!1}function Et(e,t={}){if(!e)return null;let{excludeLarge:n=!1}=t,r=["data-mga-highres","data-full-url","data-large-file","data-orig-file","data-src","data-lazy-src"],s={mgaHighres:"data-mga-highres",fullUrl:"data-full-url",largeFile:"data-large-file",origFile:"data-orig-file",src:"data-src",lazySrc:"data-lazy-src"},o=[];for(let g of r){let m=e.getAttribute(g);m&&o.push({key:g,value:m.trim()})}if(e.dataset)for(let[g,m]of Object.entries(s)){let f=e.dataset[g];f&&!o.some(h=>h.key===m)&&o.push({key:m,value:f.trim()})}if(!o.length)return null;if(n){let g=new Set(["data-full-url","data-large-file","data-orig-file"]),m=["data-src","data-lazy-src","data-mga-highres"];if(o.some(h=>!g.has(h.key))){for(let b of m){let k=o.find(j=>j.key===b&&j.value);if(k)return k.value}let h=o.find(b=>!g.has(b.key)&&b.value);if(h)return h.value}}let a=o.find(g=>g.value);return a?a.value:null}function Xe(e){if(typeof e!="string")return"";let t=e.trim();return!t||/^(?:about:|javascript:)/i.test(t)||/^(?:data:|blob:)/i.test(t)?"":t}function J(e){if(typeof e!="string")return"";let t=e.trim();if(!t)return"";if(/^\/\//.test(t)){let n=typeof window!="undefined"?window.location:null,r=n&&typeof n.protocol=="string"?n.protocol.toLowerCase():"";return r==="http:"||r==="https:"?`${r}${t}`:`https:${t}`}return/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(t)?/^https?:/i.test(t)?t:"":t}function Jt(e){if(!e)return"";let t=[typeof e.currentSrc=="string"?e.currentSrc:"",typeof e.src=="string"?e.src:""];for(let r of t){let s=Xe(r);if(s)return s}let n=Et(e,{excludeLarge:!0});return Xe(n)}function Jn(e){if(!e||!e.srcset)return null;let t=e.srcset.split(",").map(n=>n.trim()).filter(n=>n.length>0).map(n=>{let r=n.split(/\s+/),s=r[0],o=0;if(r[1]){let a=r[1].trim();/^[0-9]+w$/i.test(a)?o=parseInt(a,10):/^[0-9]*\.?[0-9]+x$/i.test(a)&&(o=parseFloat(a)*1e3)}return{url:s,score:o}}).filter(n=>n.url);return t.length?(t.sort((n,r)=>r.score-n.score),t[0].url):null}function en(e){if(!e)return null;let t=e.getAttribute("href")||"";if(!q&&ce(t))return null;let n=Ue.test(t),r=n||Xt(e),s=n?J(t):null;if(r&&e.dataset&&e.dataset.mgaHighres){let f=J(e.dataset.mgaHighres);if(f&&(q||!ce(f)))return f}let o=e.querySelector("img");if(!o)return null;if(r){let f=Et(o),h=J(f);if(h&&(q||!ce(h)))return h}if(!r)return null;let a=J(Jn(o));if(a&&(q||!ce(a)))return a;if(s&&(q||!ce(s)))return s;let g=J(o.currentSrc);if(g&&(q||!ce(g)))return g;let m=J(o.src);return m&&(q||!ce(m))?m:null}let er=new Set(["primary","secondary","outline"]),tr=e=>{if(typeof e!="string")return"primary";let t=e.trim().toLowerCase();return er.has(t)?t:"primary"},nr=e=>{if(typeof e!="string")return"_self";let t=e.trim().toLowerCase();switch(t){case"_blank":case"_self":case"_parent":case"_top":return t;default:return"_self"}},rr=(e,t)=>typeof e=="string"&&e.trim()?e.trim():t==="_blank"?"noopener noreferrer":"",At=e=>{if(!e||typeof e!="object")return null;let t=typeof e.label=="string"?e.label.trim():"",n=typeof e.url=="string"?e.url.trim():"";if(!t||!n)return null;let r=nr(e.target),s=rr(e.rel,r),o=tr(e.variant);return{label:t,url:n,target:r,rel:s,variant:o}},or=e=>{if(typeof e!="string"||!e.trim())return[];try{let t=JSON.parse(e);if(Array.isArray(t))return t.map(At).filter(Boolean);let n=At(t);return n?[n]:[]}catch(t){l&&typeof l.log=="function"&&l.log(d(i("Impossible de parser les CTA personnalis\xE9s\xA0: %s","lightbox-jlg"),t.message),!0)}return[]},Ce=(e,t)=>{if(!e)return"";let n=e.getAttribute(t);return typeof n=="string"?n.trim():""},tn=(e,t,n)=>{if(!e)return null;let r=Ce(e,`${t}-label`),s=Ce(e,`${t}-url`);if(!r||!s)return null;let o=Ce(e,`${t}-target`)||void 0,a=Ce(e,`${t}-rel`)||void 0,g=Ce(e,`${t}-variant`)||n;return At({label:r,url:s,target:o,rel:a,variant:g||n})},ir=(e,t)=>{let n=[];e instanceof Element&&n.push(e),t instanceof Element&&n.push(t);let r=[],s=new Set,o=a=>{if(!a)return;let g=`${a.label}::${a.url}`;s.has(g)||(s.add(g),r.push(a))};return n.forEach(a=>{if(!a)return;or(Ce(a,"data-mga-cta")).forEach(o),o(tn(a,"data-mga-cta","primary")),o(tn(a,"data-mga-cta-secondary","secondary"))}),r},Ct=e=>!Array.isArray(e)||!e.length?[]:e.reduce((t,n,r)=>{let s=n.querySelector("img");if(!s||!ct(n))return t;let o=en(n);if(!o||!q&&ce(o))return t;let a=Jt(s);if(!a){let h=Xe(o);h&&(a=h)}if(!a)return t;let g="",m=n.closest("figure");if(m){let h=m.querySelector("figcaption");h&&(g=h.textContent.trim())}g||(g=s.alt||"");let f=ir(n,s);return t.push({highResUrl:o,thumbUrl:a,caption:g,triggerIndex:r,ctas:f}),t},[]),ze=(e,t,n,r={})=>{if(!Array.isArray(t)||!t.length)return!1;let s=Math.max(0,Math.min(parseInt(n,10)||0,t.length-1)),o=r.focusOrigin instanceof Element?r.focusOrigin:r.focusOrigin===null?null:void 0,a=null;if(o)a=o,te=o;else if(!r.skipFocusCapture){let f=document&&document.activeElement instanceof Element?document.activeElement:null;f&&(a=f,te=f)}let g=r.history||{},m=on(t,s,{galleryId:e,history:g});return!m&&a&&a===te&&(te=null),m},de=(()=>{if(typeof window=="undefined"||typeof window.location=="undefined")return null;try{let e=new URL(window.location.href),t=e.searchParams.get("mga");if(!t)return null;let n=t.lastIndexOf(":");if(n===-1)return null;let r=t.slice(0,n),s=t.slice(n+1);if(!r)return null;let o=decodeURIComponent(r);if(!o)return null;let a=parseInt(s,10),g=Number.isNaN(a)?0:Math.max(a-1,0),m=new URL(e.toString());return m.searchParams.delete("mga"),{galleryId:o,index:g,originalUrl:m.toString(),originalState:window.history.state}}catch(e){return l&&typeof l.log=="function"&&l.log(d(i("Lien profond invalide d\xE9tect\xE9\xA0: %s","lightbox-jlg"),e.message),!0),null}})();function Je(){let e=document.getElementById("mga-viewer");if(!e){l.log(i("Viewer non trouv\xE9. Cr\xE9ation \xE0 la vol\xE9e...","lightbox-jlg")),e=document.createElement("div"),e.id="mga-viewer",e.className="mga-viewer mga-viewer--compact",e.classList.toggle("mga-has-caption",!1),e.style.display="none",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby","mga-viewer-title"),e.setAttribute("tabindex","-1");let t=document.createElement("span");t.id="mga-viewer-title",t.className="mga-screen-reader-text",t.textContent=i("Visionneuse d\u2019images","lightbox-jlg"),e.appendChild(t);let n=document.createElement("div");n.className="mga-echo-bg",e.appendChild(n);let r=document.createElement("div");r.className="mga-header",e.appendChild(r);let s=document.createElement("div");s.id="mga-counter",s.className="mga-counter",r.appendChild(s);let o=document.createElement("div");o.className="mga-caption-container",o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),r.appendChild(o);let a=document.createElement("p");a.id="mga-caption",a.className="mga-caption",o.appendChild(a);let g=document.createElement("span");g.className="mga-screen-reader-text mga-caption-live",o.appendChild(g);let m=document.createElement("p");m.className="mga-caption-feedback",m.setAttribute("hidden","hidden"),o.appendChild(m);let f=document.createElement("div");f.className="mga-cta-container",f.setAttribute("data-mga-cta-container","true"),f.setAttribute("hidden","hidden"),r.appendChild(f);let h=document.createElement("div");h.className="mga-toolbar",r.appendChild(h);let b=document.createElement("button");b.type="button",b.id="mga-play-pause",b.className="mga-toolbar-button",b.setAttribute("aria-pressed","false"),b.setAttribute("aria-label",i("Lancer le diaporama","lightbox-jlg")),h.appendChild(b);let k=w("svg",{class:"mga-timer-svg",viewBox:"0 0 36 36"}),j=w("path",{class:"mga-timer-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),V=w("path",{class:"mga-timer-progress",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"});k.appendChild(j),k.appendChild(V),b.appendChild(k);let U=w("svg",{class:"mga-icon mga-play-icon",viewBox:"0 0 24 24",fill:"currentColor"}),R=w("path",{d:"M8 5v14l11-7z"});U.appendChild(R),b.appendChild(U);let Z=w("svg",{class:"mga-icon mga-pause-icon",viewBox:"0 0 24 24",fill:"currentColor"});Z.style.display="none";let F=w("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"});if(Z.appendChild(F),b.appendChild(Z),_e(e,!1),ut){let S=document.createElement("button");S.type="button",S.id="mga-zoom",S.className="mga-toolbar-button",S.setAttribute("aria-label",i("Zoom","lightbox-jlg")),h.appendChild(S);let _=w("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=w("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Q=w("path",{d:"M10 9h-1v-1H8v1H7v1h1v1h1v-1h1V9z"});_.appendChild(B),_.appendChild(Q),S.appendChild(_)}if(zt){let S=document.createElement("button");S.type="button",S.id="mga-download",S.className="mga-toolbar-button",S.setAttribute("aria-label",i("T\xE9l\xE9charger l\u2019image","lightbox-jlg")),h.appendChild(S);let _=w("svg",{class:"mga-icon mga-download-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=w("path",{d:"M5 20h14v-2H5v2zm7-16l-5 5h3v4h4v-4h3l-5-5z"});_.appendChild(B),S.appendChild(_)}if(He()){let S=Ht();h.appendChild(S)}if(Ot){let S=document.createElement("button");S.type="button",S.id="mga-fullscreen",S.className="mga-toolbar-button",S.setAttribute("aria-label",i("Plein \xE9cran","lightbox-jlg")),h.appendChild(S);let _=w("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=w("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5V14h-2v3zM14 5v2h3v3h2V5h-5z"});_.appendChild(B),S.appendChild(_)}h.setAttribute("data-mga-optional-buttons",String(ee.length));let Y=document.createElement("button");Y.type="button",Y.id="mga-close",Y.className="mga-toolbar-button",Y.setAttribute("aria-label",i("Fermer","lightbox-jlg")),h.appendChild(Y);let ne=w("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),ie=w("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"});ne.appendChild(ie),Y.appendChild(ne);let K=document.createElement("div");K.className="swiper mga-main-swiper",e.appendChild(K);let M=document.createElement("div");M.className="swiper-wrapper",M.id="mga-main-wrapper",K.appendChild(M);let O=document.createElement("button");O.type="button",O.className="swiper-button-next mga-nav-button",O.id="mga-next",O.setAttribute("aria-label",i("Image suivante","lightbox-jlg")),O.setAttribute("title",i("Image suivante","lightbox-jlg")),K.appendChild(O);let y=document.createElement("button");if(y.type="button",y.className="swiper-button-prev mga-nav-button",y.id="mga-prev",y.setAttribute("aria-label",i("Image pr\xE9c\xE9dente","lightbox-jlg")),y.setAttribute("title",i("Image pr\xE9c\xE9dente","lightbox-jlg")),K.appendChild(y),E!=="hidden"){let S=document.createElement("div");S.className="swiper mga-thumbs-swiper",e.appendChild(S);let _=document.createElement("div");_.className="swiper-wrapper",_.id="mga-thumbs-wrapper",S.appendChild(_)}if(He()&&vt(e)){let _=e.querySelector("#mga-share");_&&_.setAttribute("aria-controls","mga-share-modal")}document.body&&typeof document.body.appendChild=="function"&&document.body.appendChild(e),e&&e.parentNode?l.log(i("Viewer cr\xE9\xE9 et ajout\xE9 au body avec succ\xE8s.","lightbox-jlg")):l.log(i("ERREUR CRITIQUE\xA0: \xC9chec de la cr\xE9ation du viewer\xA0!","lightbox-jlg"),!0)}return e}l.log(i("Script initialis\xE9 et pr\xEAt.","lightbox-jlg")),l.updateInfo("mga-debug-status",i("Pr\xEAt","lightbox-jlg"),"#4CAF50");let sr=[".wp-block-post-content",".entry-content",".post-content",".site-main",".content-area","main",".hentry","#primary","#main"],ar=Array.isArray(p.contentSelectors)?p.contentSelectors:[],lr=Array.from(new Set(ar.concat(sr).filter(Boolean))),he=null,et=i("Aucune zone d\xE9tect\xE9e","lightbox-jlg");for(let e of lr){let t=null;try{t=document.querySelector(e)}catch(n){let r=d(i("S\xE9lecteur CSS invalide ignor\xE9\xA0: %s","lightbox-jlg"),e),s=n&&n.message?` (${n.message})`:"",o=`${r}${s}`;l&&typeof l.log=="function"?l.log(o,!0):typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(o);continue}if(t){he=t,et=e;break}}if(!he&&p.allowBodyFallback===!0&&document.body&&(he=document.body,et=i("<body> (opt-in fallback)","lightbox-jlg")),!he)return l.updateInfo("mga-debug-content-area",et,"#F44336"),l.log(i("Aucune zone de contenu valide d\xE9tect\xE9e. Initialisation du diaporama interrompue.","lightbox-jlg"),!0),!1;l.updateInfo("mga-debug-content-area",et,"#4CAF50");let nn="__mga-default-group__",tt=typeof p.groupAttribute=="string"?p.groupAttribute.trim():"",rn="mga-group:",cr=new Set(["nofollow","noreferrer","noopener","opener","external"]),ur=e=>{if(typeof e!="string")return null;let t=e.split(/\s+/).map(n=>n.trim()).filter(Boolean);for(let n of t)if(n.toLowerCase().startsWith(rn)){let r=n.slice(rn.length).trim();if(r)return r}for(let n of t){let r=n.toLowerCase();if(!(!r||cr.has(r))&&!r.includes(":"))return n}return null},jt=e=>{if(!(e instanceof Element))return nn;let t=ur(e.getAttribute("rel"));if(t)return`rel:${t}`;let n=[];tt&&n.push(tt),n.push("data-mga-gallery");let r=tt?tt.toLowerCase():"";for(let s of n){if(!s||s.toLowerCase()==="rel")continue;let o=e.getAttribute(s);if(typeof o!="string")continue;let a=o.trim();if(a)return`${s}:${a}`}if(r==="href"){let s=e.getAttribute("href");if(typeof s=="string"){let o=s.trim();if(o)return`href:${o}`}}return nn},Oe=(e=!0)=>{let t=Array.from(he.querySelectorAll("a")).filter(r=>r.querySelector("img")).filter(r=>ct(r)),n=t.reduce((r,s)=>{let o=jt(s);return r[o]||(r[o]=[]),r[o].push(s),r},{});if(e){let r=Object.keys(n).length,s=`${t.length} (${r} groupe${r>1?"s":""} apr\xE8s filtrage)`;l.updateInfo("mga-debug-trigger-img",s)}return n},dr={resolveLinkGroupId:jt,isExplicitFallbackAllowed:Xt,sanitizeHighResUrl:J,sanitizeThumbnailUrl:Xe,resolveThumbnailUrl:Jt,getImageDataAttributes:Et,linkMatchesTriggerScenario:ct};typeof D!="undefined"&&D.exports&&(D.exports.helpers=dr);let P=(()=>{if(!(typeof window!="undefined"&&window.history&&typeof window.history.pushState=="function"&&typeof window.history.replaceState=="function"))return{isSupported:!1,isActive:()=>!1,getGalleryId:()=>null,getLastIndex:()=>0,push:()=>!1,update:()=>{},beginClose:()=>!1,finalizeClose:()=>{},adoptExistingState:()=>{}};let t=!1,n=null,r=0,s=!1,o=null,a=null,g=(f,h)=>{try{let b=new URL(window.location.href),k=encodeURIComponent(f||""),j=Math.max(1,(parseInt(h,10)||0)+1);return b.searchParams.set("mga",`${k}:${j}`),b.toString()}catch(b){return null}},m=(f,h)=>({mgaViewer:{galleryId:f,index:h,returnUrl:o||window.location.href}});return{isSupported:!0,isActive:()=>t,getGalleryId:()=>n,getLastIndex:()=>r,push:(f,h,b={})=>{let k=typeof b.originalUrl=="string"?b.originalUrl:window.location.href,j=Object.prototype.hasOwnProperty.call(b,"originalState")?b.originalState:window.history.state;if(b.replaceOriginal&&k)try{window.history.replaceState(j,"",k)}catch(U){}let V=g(f,h);if(!V)return!1;try{return o=k,a=j,window.history.pushState(m(f,h),"",V),t=!0,s=!1,n=f,r=h,!0}catch(U){return!1}},update:f=>{if(!t)return;let h=g(n,f);if(h){r=f;try{window.history.replaceState(m(n,f),"",h)}catch(b){}}},beginClose:()=>{if(!t)return!1;s=!0;try{return window.history.back(),!0}catch(f){return s=!1,!1}},finalizeClose:()=>{t=!1,n=null,r=0,s=!1,o=null,a=null},adoptExistingState:(f,h,b={})=>{t=!0,n=f,r=h,s=!1,typeof b.originalUrl=="string"?o=b.originalUrl:o||(o=window.location.href),Object.prototype.hasOwnProperty.call(b,"originalState")&&(a=b.originalState)}}})(),{cleanup:fr,active:pr}=(()=>{if(typeof MutationObserver!="function")return{cleanup:I,active:!1};if(!l.enabled)return{cleanup:I,active:!1};let e=new MutationObserver(()=>{Oe()});return e.observe(he,{childList:!0,subtree:!0}),{cleanup:()=>e.disconnect(),active:!0}})();Oe(),de&&de.galleryId&&setTimeout(()=>{let t=Oe(!1)[de.galleryId]||[],n=Ct(t);n.length&&ze(de.galleryId,n,de.index,{skipFocusCapture:!0,history:{action:"push",replaceOriginal:!0,originalUrl:de.originalUrl,originalState:de.originalState}}),de=null},0),pr&&window.addEventListener("beforeunload",fr),l.onForceOpen(()=>{l.log(i("Clic sur 'Forcer l'ouverture'.","lightbox-jlg"));let e=[{highResUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20600%22%3E%3Crect%20width%3D%22800%22%20height%3D%22600%22%20fill%3D%22%230073aa%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2248%22%20fill%3D%22%23ffffff%22%3EImage%20Test%201%3C%2Ftext%3E%3C%2Fsvg%3E",thumbUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20150%20150%22%3E%3Crect%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22%230073aa%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2218%22%20fill%3D%22%23ffffff%22%3EThumb%201%3C%2Ftext%3E%3C%2Fsvg%3E",caption:i("Ceci est la premi\xE8re image de test.","lightbox-jlg")},{highResUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20600%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22grad%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%22100%25%22%20y2%3D%22100%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23f44336%22%2F%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23ff9800%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%22800%22%20height%3D%22600%22%20fill%3D%22url(%23grad)%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2248%22%20fill%3D%22%23ffffff%22%3EImage%20Test%202%3C%2Ftext%3E%3C%2Fsvg%3E",thumbUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20150%20150%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22gradThumb%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%22100%25%22%20y2%3D%22100%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23f44336%22%2F%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23ff9800%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22url(%23gradThumb)%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2218%22%20fill%3D%22%23ffffff%22%3EThumb%202%3C%2Ftext%3E%3C%2Fsvg%3E",caption:i("Ceci est la seconde image de test.","lightbox-jlg")}],t=document.activeElement instanceof Element?document.activeElement:null;ze("__debug__",e,0,{focusOrigin:t||null,history:{action:"push"}})||(te=null)}),he.addEventListener("click",function(e){if(e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;let t=Vt(e);if(!t)return;let n=t.closest("a");if(n&&!n.hasAttribute("download")&&n.querySelector("img")){l.log(i("Clic sur un lien contenant une image.","lightbox-jlg"));let r=en(n);if(!r){l.log(i("URL haute r\xE9solution introuvable pour le lien cliqu\xE9.","lightbox-jlg"));return}let s=Oe(),o=jt(n),a=s[o]||[];l.log(d(i("Pr\xE9paration de la galerie pour le groupe %s.","lightbox-jlg"),o));let g=a.indexOf(n);if(g===-1){l.log(i("ERREUR\xA0: Lien d\xE9clencheur introuvable dans la collection actuelle.","lightbox-jlg"),!0);return}let m=Ct(a);if(l.log(d(i("%d images valides pr\xE9par\xE9es pour la galerie.","lightbox-jlg"),m.length)),l.table(m),!m.length){l.log(i("ERREUR\xA0: Aucune image valide d\xE9tect\xE9e pour cette galerie.","lightbox-jlg"),!0);return}let f=m.findIndex(j=>j.triggerIndex===g);f===-1&&(l.log(i("ERREUR : L'image cliqu\xE9e n'a pas \xE9t\xE9 trouv\xE9e dans la galerie construite.","lightbox-jlg"),!0),l.log(d(i("URL cliqu\xE9e recherch\xE9e\xA0: %s","lightbox-jlg"),r),!0));let h=Dt&&f!==-1?f:0;l&&typeof l.log=="function"&&l.log(d(i("Index initial demand\xE9 via clic\xA0: %1$d (option active\xA0: %2$s, trouv\xE9\xA0: %3$d).","lightbox-jlg"),h,i(Dt?"oui":"non","lightbox-jlg"),f));let b=document.activeElement instanceof Element?document.activeElement:null;ze(o,m,h,{focusOrigin:b||null,history:{action:"push"}})?e.preventDefault():te=null}});let gr=e=>{if(!P.isSupported)return;let t=e&&typeof e.state=="object"&&e.state!==null?e.state:null,n=t&&typeof t.mgaViewer=="object"?t.mgaViewer:null,r=Je();if(n&&n.galleryId){let s=n.galleryId,o=Number.isFinite(n.index)?n.index:0,a=typeof n.returnUrl=="string"?n.returnUrl:void 0,m=Oe(!1)[s]||[],f=Ct(m);if(!f.length){r&&r.style.display!=="none"&&je(r,{skipHistory:!0});return}let h={originalUrl:a,originalState:t};if(r&&r.style.display!=="none")if(Ze!==s)je(r,{skipHistory:!0}),ze(s,f,o,{skipFocusCapture:!0,history:Object.assign({action:"sync"},h)});else{P.adoptExistingState(s,o,h);let b=Math.max(0,Math.min(o,f.length-1));ae=f,Ze=s,u&&!u.destroyed&&St(u,b,0),nt(r,f,b)}else ze(s,f,o,{skipFocusCapture:!0,history:Object.assign({action:"sync"},h)});return}if(P.isActive&&P.isActive()){let s=Je();s&&s.style.display!=="none"&&je(s,{skipHistory:!0})}};function on(e,t,n={}){l.log(d(i("openViewer appel\xE9 avec %1$d images, index %2$d.","lightbox-jlg"),e.length,t)),l&&typeof l.restartTimer=="function"&&l.restartTimer();let r=Je();if(!r)return!1;let s=parseInt(t,10),o=Number.isFinite(s)?s:0,a=Math.min(Math.max(o,0),Math.max(e.length-1,0)),g=typeof n.galleryId=="string"?n.galleryId:null,m=n&&typeof n.history=="object"&&n.history!==null?n.history:{},f=typeof m.action=="string"?m.action:"push",h={originalUrl:m.originalUrl,originalState:m.originalState,replaceOriginal:m.replaceOriginal};r.className="mga-viewer mga-viewer--compact",r.classList.toggle("mga-has-caption",!1),E==="left"?r.classList.add("mga-thumbs-left"):E==="hidden"&&r.classList.add("mga-thumbs-hidden"),p.background_style==="blur"&&r.classList.add("mga-has-blur"),p.background_style==="texture"&&r.classList.add("mga-has-texture"),Dn||r.classList.add("mga-hide-thumbs-mobile");try{let R=function(M){u&&!u.destroyed&&St(u,M),z&&!z.destroyed&&typeof z.slideTo=="function"&&z.slideTo(M),V(M)};u&&u.destroy(!0,!0),z&&z.destroy(!0,!0),u=null,z=null,pt.clear();let b=r.querySelector("#mga-main-wrapper"),k=r.querySelector("#mga-thumbs-wrapper");b.textContent="",k&&(k.textContent="");let j=[],V=M=>{if(!j.length)return;let O=!1;if(j.forEach(y=>{let S=parseInt(y.getAttribute("data-slide-index"),10);Number.isFinite(S)&&S===M?(y.setAttribute("aria-current","true"),y.setAttribute("tabindex","0"),O=!0):(y.removeAttribute("aria-current"),y.setAttribute("tabindex","-1"))}),!O){let y=j[0];y&&y.setAttribute("tabindex","0")}},U=(M,O)=>M&&M.caption?d(i("Afficher la diapositive %s\xA0: %s","lightbox-jlg"),String(O),M.caption):d(i("Afficher la diapositive %s","lightbox-jlg"),String(O));if(e.forEach((M,O)=>{let y=document.createElement("div");y.className="swiper-slide",y.setAttribute("data-slide-index",O);let S=document.createElement("div");S.className="mga-spinner",S.style.display="none",y.appendChild(S);let _=document.createElement("div");_.className="swiper-zoom-container";let B=document.createElement("img");if(B.setAttribute("loading","lazy"),B.setAttribute("src",M.highResUrl),B.setAttribute("alt",M.caption),_.appendChild(B),y.appendChild(_),b.appendChild(y),k){let Q=document.createElement("div");Q.className="swiper-slide";let X=document.createElement("button");X.type="button",X.className="mga-thumb-button",X.setAttribute("data-slide-index",String(O)),X.setAttribute("aria-label",U(M,O+1)),X.setAttribute("tabindex",O===a?"0":"-1");let ye=document.createElement("img");ye.setAttribute("loading","lazy"),ye.setAttribute("src",M.thumbUrl),ye.setAttribute("alt",M.caption),X.appendChild(ye);let _t=De=>{De&&De.preventDefault(),R(O)};X.addEventListener("click",_t),X.addEventListener("keydown",De=>{let{key:be}=De;if(!["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"].includes(be)||(De.preventDefault(),!j.length))return;let se=O;be==="Home"?se=0:be==="End"?se=j.length-1:be==="ArrowLeft"||be==="ArrowUp"?se=O-1:(be==="ArrowRight"||be==="ArrowDown")&&(se=O+1),se<0?se=j.length-1:se>=j.length&&(se=0);let dn=j[se];dn&&(dn.focus(),R(se))}),j.push(X),Q.appendChild(X),k.appendChild(Q)}}),l.log(i("Wrappers HTML remplis avec URLs optimis\xE9es.","lightbox-jlg")),j.length?(pe=V,V(a)):pe=null,yr(r,e,a),!u){let M=i("Visionneuse annul\xE9e\xA0: Swiper n\u2019a pas pu \xEAtre initialis\xE9.","lightbox-jlg");return l&&typeof l.log=="function"?l.log(M,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(M),r.style.display="none",!1}ae=Array.isArray(e)?e:[],Ze=g;let Z=()=>{!u||u.destroyed||(St(u,a,0),z&&typeof z.slideTo=="function"&&z.slideTo(a),p.background_style==="echo"&&e[a]&&e[a].highResUrl&&ot(r,e[a].highResUrl),nt(r,e,a))};!!(u&&u.params&&u.params.cssMode)?(r.style.display="flex",(typeof window!="undefined"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):O=>setTimeout(O,0))(()=>{Z()})):(Z(),r.style.display="flex"),P.isSupported&&(f==="sync"?(P.adoptExistingState(g,a,h),P.isActive&&P.isActive()&&P.update(a)):f==="none"?P.adoptExistingState(g,a,h):(!P.push(g,a,h)&&typeof P.adoptExistingState=="function"&&P.adoptExistingState(g,a,h),P.isActive&&P.isActive()&&P.update(a))),te||(te=document.activeElement),hr(r);let Y=document.body.style.overflow,ne=document.body.style.paddingRight;mt=Y,ht=ne;let ie=0;if(typeof window!="undefined"&&typeof window.getComputedStyle=="function"){let M=window.getComputedStyle(document.body);ie=parseFloat(M.paddingRight)||0}else if(ne){let M=parseFloat(ne);ie=Number.isNaN(M)?0:M}let K=typeof window!="undefined"&&typeof window.innerWidth=="number"&&typeof document!="undefined"&&document.documentElement?Math.max(window.innerWidth-document.documentElement.clientWidth,0):0;return K>0?(document.body.style.paddingRight=`${ie+K}px`,Ke=!0):Ke=!1,document.body.classList.contains(ft)?We=!1:(document.body.classList.add(ft),We=!0),Y!=="hidden"?(document.body.style.overflow="hidden",Ge=!0):Ge=!1,l.log(i("Galerie affich\xE9e avec succ\xE8s.","lightbox-jlg")),gt||(window.addEventListener("resize",un),gt=!0),!0}catch(b){return l.log(d(i("ERREUR dans openViewer\xA0: %s","lightbox-jlg"),b.message),!0),console.error(b),r.style.display="none",!1}}function mr(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(n=>{if(n.disabled||n.getAttribute("aria-hidden")==="true")return!1;let r=n.getBoundingClientRect();return!!(r.width||r.height||n.getClientRects().length)})}function hr(e){e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1"),fe&&e.removeEventListener("keydown",fe,!0),fe=function(r){if(r.key!=="Tab")return;let s=mr(e);if(!s.length){r.preventDefault(),Qe(e);return}let o=s.indexOf(document.activeElement),a=o;r.shiftKey?o<=0?a=s.length-1:a=o-1:o===-1||o===s.length-1?a=0:a=o+1,r.preventDefault(),Qe(s[a])},e.addEventListener("keydown",fe,!0);let t=e.querySelector("#mga-close"),n=t&&t.offsetParent!==null?t:e;n&&typeof n.focus=="function"&&Qe(n)}function yr(e,t,n=0){typeof ue=="function"&&(ue(),ue=null),Me=!1;let r=Ln(p.effect),s=_n(p.speed),o=kn(p.easing),a=e.querySelector(".mga-main-swiper"),g=E==="hidden"?null:e.querySelector(".mga-thumbs-swiper");if(g){let y={spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,passiveListeners:!0};E==="left"&&(y.direction="vertical",y.breakpoints={0:{direction:"horizontal"},769:{direction:"vertical"}}),z=Zt(g,y),z&&we(z,o)}else z=null;if(!z&&E!=="hidden"){let y=i("Initialisation des miniatures Swiper impossible. La visionneuse fonctionnera sans elles.","lightbox-jlg");l&&typeof l.log=="function"?l.log(y,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(y)}let m={delay:parseInt(p.delay,10)*1e3||4e3,disableOnInteraction:!1,pauseOnMouseEnter:!1},f=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,h=!!(f&&f.matches);l&&typeof l.log=="function"&&(f?l.log(d(i("Pr\xE9f\xE9rence de r\xE9duction des animations d\xE9tect\xE9e\xA0: %s.","lightbox-jlg"),i(h?"oui":"non","lightbox-jlg"))):l.log(i("Impossible de d\xE9terminer la pr\xE9f\xE9rence de r\xE9duction des animations (matchMedia indisponible).","lightbox-jlg")));let b=r,k=s,j=!1;h&&(j=!0,It.has(b)&&(l&&typeof l.log=="function"&&l.log(i("Effet 3D d\xE9sactiv\xE9 pour respecter la pr\xE9f\xE9rence de r\xE9duction des animations.","lightbox-jlg")),b=le),k=Math.min(k,300));let V=j&&b==="slide"&&!Ve;l&&typeof l.log=="function"&&(l.log(d(i("Effet retenu\xA0: %1$s (vitesse\xA0: %2$ims).","lightbox-jlg"),b,k)),V?l.log(i("Mode CSS activ\xE9 pour limiter les animations.","lightbox-jlg")):j&&b==="slide"&&Ve&&l.log(i("Mode CSS non activ\xE9 car incompatible avec le mode boucle.","lightbox-jlg")));let U=Math.min(Math.max(parseInt(n,10)||0,0),Math.max(t.length-1,0));l&&typeof l.log=="function"&&l.log(d(i("Index initial normalis\xE9\xA0: %1$d (boucle\xA0: %2$s, CSS mode\xA0: %3$s).","lightbox-jlg"),U,i(Ve?"oui":"non","lightbox-jlg"),i(V?"oui":"non","lightbox-jlg")));let R=()=>{l.log(i("Autoplay D\xC9MARR\xC9.","lightbox-jlg")),e.querySelector(".mga-play-icon").style.display="none",e.querySelector(".mga-pause-icon").style.display="inline-block",_e(e,!0)},Z=()=>{l.log(i("Autoplay ARR\xCAT\xC9.","lightbox-jlg")),e.querySelector(".mga-play-icon").style.display="inline-block",e.querySelector(".mga-pause-icon").style.display="none";let y=e.querySelector(".mga-timer-progress");y&&(y.style.strokeDashoffset=100),l.updateInfo("mga-debug-autoplay-time",i("Stopp\xE9","lightbox-jlg")),_e(e,!1)},F={zoom:ut,spaceBetween:10,loop:Ve,effect:b,speed:k,cssMode:V,initialSlide:U,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(y){sn(t,y.realIndex),typeof pe=="function"&&pe(y.realIndex)},slideChange:function(y){nt(e,t,y.realIndex),p.background_style==="echo"&&ot(e,t[y.realIndex].highResUrl),typeof pe=="function"&&pe(y.realIndex)},slideChangeTransitionEnd:function(){z&&!z.destroyed&&z.update(),sn(t,this.realIndex)},autoplayTimeLeft(y,S,_){let B=e.querySelector(".mga-timer-progress");B&&(B.style.strokeDashoffset=100-_*100),l.updateInfo("mga-debug-autoplay-time",d(i("%ss","lightbox-jlg"),(S/1e3).toFixed(2)))},slideChangeTransitionStart:function(y){let S=y.slides[y.activeIndex],_=S.querySelector("img");_&&!_.complete&&(l.log(d(i("Chargement de l'image %s...","lightbox-jlg"),S.dataset.slideIndex)),S.querySelector(".mga-spinner").style.display="block",_.onload=()=>{l.log(d(i("Image %s charg\xE9e.","lightbox-jlg"),S.dataset.slideIndex)),S.querySelector(".mga-spinner").style.display="none"})},autoplayStart:R,autoplayStop:Z,touchStart:()=>{l.log(i("Interaction manuelle D\xC9TECT\xC9E (touch).","lightbox-jlg"))},sliderMove:()=>{l.log(i("Interaction manuelle D\xC9TECT\xC9E (drag).","lightbox-jlg"))}}};b==="fade"&&(F.fadeEffect={crossFade:!0}),h||(F.autoplay=Object.assign({},m)),z&&(F.thumbs={swiper:z});let Y=F.on.init;F.on.init=function(y){typeof Y=="function"&&Y.call(this,y),we(y,o)};let ne=F.on.setTransition;if(F.on.setTransition=function(y){typeof ne=="function"&&ne.apply(this,arguments);let S=y&&y.wrapperEl?y:this;we(S,o)},typeof D!="undefined"&&D.exports&&(D.exports.__testExports=D.exports.__testExports||{},D.exports.__testExports.getAutoplayHandlers=()=>({autoplayStart:R,autoplayStop:Z})),u=Zt(a,F),!u){let y=i("Initialisation du Swiper principal impossible. Visionneuse indisponible.","lightbox-jlg");l&&typeof l.log=="function"?l.log(y,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(y);return}we(u,o);let ie=()=>{let y=u&&u.params&&typeof u.params=="object"?u.params:F;Qn(u,y)};ie(),u&&typeof u.on=="function"&&(u.on("resize",ie),u.on("breakpoint",ie),u.on("slidesLengthChange",ie));let K=u.autoplay,M=!!(K&&typeof K.start=="function"&&typeof K.stop=="function"),O=()=>{if(!(!u||u.destroyed)){if(u.params&&typeof u.params=="object"){let y=u.params.autoplay&&typeof u.params.autoplay=="object"?u.params.autoplay:u.params.autoplay={};Object.assign(y,m)}if(u.originalParams&&typeof u.originalParams=="object"){let y=u.originalParams.autoplay&&typeof u.originalParams.autoplay=="object"?u.originalParams.autoplay:u.originalParams.autoplay={};Object.assign(y,m)}}};if(!M)h||l.log(i("L\u2019extension autoplay de Swiper est indisponible.","lightbox-jlg"),!0);else if(h?K.stop():(O(),p.autoplay_start?K.start():K.stop()),f){let y=S=>{if(!u||u.destroyed)return;let _=u.autoplay;if(!_||typeof _.start!="function"||typeof _.stop!="function")return;let B=!!S.matches,Q=B&&It.has(r)?le:r,X=B?Math.min(s,300):s,ye=B&&Q==="slide";if(B)Me=!!_.running,_.stop(),Q!==r&&l&&typeof l.log=="function"&&l.log(i("Effet de transition r\xE9duit suite au changement de pr\xE9f\xE9rence syst\xE8me.","lightbox-jlg"));else{let _t=Me||!!p.autoplay_start;Me=!1,O(),Q!==r&&l&&typeof l.log=="function"&&l.log(i("Effet de transition restaur\xE9 apr\xE8s d\xE9sactivation de la r\xE9duction des animations.","lightbox-jlg")),_t?_.start():_.running&&_.stop()}b=Q,k=X,u.params&&typeof u.params=="object"&&(u.params.effect=Q,u.params.speed=X,u.params.cssMode=ye,Q==="fade"?u.params.fadeEffect=Object.assign({},u.params.fadeEffect||{},{crossFade:!0}):u.params.fadeEffect&&delete u.params.fadeEffect),u.originalParams&&typeof u.originalParams=="object"&&(u.originalParams.effect=Q,u.originalParams.speed=X,u.originalParams.cssMode=ye,Q==="fade"?u.originalParams.fadeEffect=Object.assign({},u.originalParams.fadeEffect||{},{crossFade:!0}):u.originalParams.fadeEffect&&delete u.originalParams.fadeEffect),we(u,o),z&&!z.destroyed&&we(z,o),typeof u.update=="function"&&u.update()};typeof f.addEventListener=="function"?(f.addEventListener("change",y),ue=()=>{f.removeEventListener("change",y)}):typeof f.addListener=="function"&&(f.addListener(y),ue=()=>{f.removeListener(y)})}}function sn(e,t){let n=(t+1)%e.length,r=(t-1+e.length)%e.length;[n,r].forEach(s=>{var a;let o=(a=e[s])==null?void 0:a.highResUrl;if(o&&!pt.has(o)){l.log(d(i("Pr\xE9chargement de l'image %s","lightbox-jlg"),s));let g=new Image;g.src=o,pt.add(o)}})}function br(e){if(!e||typeof $e=="undefined")return;let t=$e.get(e);typeof t!="undefined"&&x(t);let n=A(()=>{$e.delete(e);let r=e.querySelector(".mga-header");if(!r)return;let s=r.offsetHeight;s>0&&e.style.setProperty("--mga-header-offset",`${Math.ceil(s)}px`)});$e.set(e,n)}function nt(e,t,n){if(!e||!t[n])return;let r=e.querySelector(".mga-caption-container"),s=e.querySelector("#mga-caption"),o=e.querySelector("#mga-counter"),a=r?r.querySelector(".mga-caption-live"):null,g=r?r.querySelector(".mga-caption-feedback"):null,m=e.querySelector("[data-mga-cta-container]"),f=t[n],h=f.caption||"";e.classList.toggle("mga-has-caption",!!h);let b=d(i("%1$s / %2$s","lightbox-jlg"),n+1,t.length),k=d(i("Image %1$s sur %2$s","lightbox-jlg"),n+1,t.length),j=h?`${k}. ${h}`:k;Ee.lastBaseAnnouncement=j,s&&(s.textContent=h,s.style.display=h?"":"none"),o&&(o.textContent=b),!Ee.isTemporaryMessageActive&&a&&a.textContent!==j&&(a.textContent=j),!Ee.isTemporaryMessageActive&&g&&!g.hasAttribute("hidden")&&(g.textContent="",g.setAttribute("hidden","hidden"),g.removeAttribute("data-mga-state"));let V=Array.isArray(f.ctas)?f.ctas:Array.isArray(f.ctaButtons)?f.ctaButtons:[],U=xe?V:[];if(m){for(;m.firstChild;)m.removeChild(m.firstChild);U.length?(m.removeAttribute("hidden"),m.setAttribute("role","group"),m.setAttribute("aria-label",i("Actions personnalis\xE9es","lightbox-jlg")),U.forEach((R,Z)=>{if(!R||typeof R!="object")return;let F=document.createElement("a");F.className="mga-cta-button";let Y=typeof R.variant=="string"&&R.variant.trim()?` mga-cta-button--${R.variant.trim().toLowerCase()}`:" mga-cta-button--primary";F.className+=Y,F.textContent=R.label||"",R.url?F.href=R.url:F.href="#",R.target&&R.target!=="_self"&&(F.target=R.target);let ne=R.rel||(R.target==="_blank"?"noopener noreferrer":"");ne&&(F.rel=ne),F.setAttribute("data-mga-cta-index",String(Z)),m.appendChild(F)})):(m.setAttribute("hidden","hidden"),m.removeAttribute("role"),m.removeAttribute("aria-label"))}e.classList.toggle("mga-has-cta",xe&&U.length>0),br(e),P.isSupported&&P.isActive&&P.isActive()&&P.update(n)}function an(e){let t=e||null;if(!t&&typeof document!="undefined"&&(t=document.getElementById("mga-viewer")),!t)return{captionContainer:null,liveRegion:null,feedbackElement:null};let n=t.querySelector(".mga-caption-container");return n?{captionContainer:n,liveRegion:n.querySelector(".mga-caption-live"),feedbackElement:n.querySelector(".mga-caption-feedback")}:{captionContainer:null,liveRegion:null,feedbackElement:null}}function Lt({restoreBaseAnnouncement:e=!0}={}){ge&&(clearTimeout(ge),ge=null);let{feedbackElement:t,liveRegion:n}=an();t&&(t.textContent="",t.setAttribute("hidden","hidden"),t.removeAttribute("data-mga-state")),e&&n&&(n.textContent=Ee.lastBaseAnnouncement||""),Ee.isTemporaryMessageActive=!1}function wr(e,{tone:t="info",duration:n=6e3}={}){if(!e){Lt();return}let{feedbackElement:r,liveRegion:s}=an();!r&&!s||(ge&&(clearTimeout(ge),ge=null),r&&(r.textContent=e,r.removeAttribute("hidden"),t?r.setAttribute("data-mga-state",t):r.removeAttribute("data-mga-state")),s&&(s.textContent=e),Ee.isTemporaryMessageActive=!0,n>0&&typeof window!="undefined"&&typeof window.setTimeout=="function"&&(ge=window.setTimeout(()=>{Lt()},n)))}document.body.addEventListener("click",function(e){let t=document.getElementById("mga-viewer");if(!t||t.style.display==="none")return;let n=Vt(e);if(!n)return;let r=t.contains(n),s=!!n.closest(".mga-share-modal"),o=!!n.closest(".mga-main-swiper"),a=!!n.closest(".mga-header"),g=!!n.closest(".mga-thumbs-swiper");if(s)return;if(n===t||r&&!o&&!a&&!g){Rn&&je(t);return}if(n.closest("#mga-close")){je(t);return}if(n.closest("#mga-play-pause")&&u&&u.autoplay){let f=u.autoplay,h=!f.running;h?f.start():f.stop(),_e(t,h)}if(ee.length)for(let f=0;f<ee.length;f+=1){let h=ee[f];if(n.closest(h.selector)){h.handler(e,t);return}}}),document.addEventListener("keydown",e=>{let t=document.getElementById("mga-viewer");if(!(!t||t.style.display==="none"))switch(e.key){case"Escape":je(t);break;case"ArrowLeft":u&&u.slidePrev();break;case"ArrowRight":u&&u.slideNext();break}}),P.isSupported&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.addEventListener("popstate",gr);let ln=e=>{let t=e&&typeof e.detail=="object"&&e.detail!==null?e.detail:{};Object.prototype.hasOwnProperty.call(t,"show_share")?ve=C(t.show_share,ve):Object.prototype.hasOwnProperty.call(t,"showShare")&&(ve=C(t.showShare,ve)),Object.prototype.hasOwnProperty.call(t,"show_cta")?xe=C(t.show_cta,xe):Object.prototype.hasOwnProperty.call(t,"showCta")&&(xe=C(t.showCta,xe)),Object.prototype.hasOwnProperty.call(t,"share_copy")?Te=C(t.share_copy,Te):Object.prototype.hasOwnProperty.call(t,"shareCopy")&&(Te=C(t.shareCopy,Te)),Object.prototype.hasOwnProperty.call(t,"share_download")?Ie=C(t.share_download,Ie):Object.prototype.hasOwnProperty.call(t,"shareDownload")&&(Ie=C(t.shareDownload,Ie)),Object.prototype.hasOwnProperty.call(t,"share_channels")?qe=H(t.share_channels):Object.prototype.hasOwnProperty.call(t,"shareChannels")&&(qe=H(t.shareChannels)),xt();let n=document.getElementById("mga-viewer");if(n&&ae&&ae.length){let r=u&&!u.destroyed?u.realIndex:0;nt(n,ae,r)}},cn="mga:share-preferences-change";if(typeof window!="undefined"){let e=window.__mgaSharePreferencesHandler__;e&&typeof window.removeEventListener=="function"&&window.removeEventListener(cn,e),typeof window.addEventListener=="function"&&(window.addEventListener(cn,ln),window.__mgaSharePreferencesHandler__=ln)}typeof D!="undefined"&&D.exports&&(D.exports.__testExports=D.exports.__testExports||{},D.exports.__testExports.openViewer=on,D.exports.__testExports.getViewer=Je,D.exports.__testExports.getActiveHighResUrl=qt,D.exports.__testExports.triggerImageDownload=wt,D.exports.__testExports.openSharePanel=Wt,D.exports.__testExports.getActiveImageData=bt,D.exports.__testExports.getShareChannels=()=>qe,D.exports.__testExports.getShareOptions=()=>T&&Array.isArray(T.options)?T.options:[],D.exports.__testExports.syncShareControl=xt);function je(e,t={}){if(!e||!!!(t&&t.skipHistory)&&P.isSupported&&P.isActive&&P.isActive()&&P.beginClose())return;let{exit:r,element:s}=Qt(e);if(s)if(r)try{let o=r();o&&typeof o.catch=="function"&&o.catch(a=>l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),a.message),!0))}catch(o){l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),o.message),!0)}else l.log(i("API de fermeture du plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);u&&u.autoplay&&u.autoplay.stop(),Ae({restoreFocus:!1,reason:"viewer-close"}),Gt(),Lt({restoreBaseAnnouncement:!1}),typeof ue=="function"&&(ue(),ue=null),pe=null,Me=!1,window.removeEventListener("resize",un),gt=!1,fe&&(e.removeEventListener("keydown",fe,!0),fe=null),e.style.display="none",Ke&&(document.body.style.paddingRight=ht),Ge&&(document.body.style.overflow=mt),We&&document.body.classList.remove(ft),mt=null,ht=null,Ge=!1,Ke=!1,We=!1,l.log(i("Galerie ferm\xE9e.","lightbox-jlg")),l.stopTimer(),ae=[],Ze=null,P.isSupported&&P.finalizeClose(),te&&typeof te.focus=="function"&&Qe(te),te=null}function un(){clearTimeout(Nt),Nt=setTimeout(()=>{if(u&&u.el&&!u.destroyed){let e=u.autoplay,t=!!(e&&e.running);l.log(i("Redimensionnement d\xE9tect\xE9. Mise \xE0 jour de Swiper.","lightbox-jlg")),u.update(),z&&!z.destroyed&&z.update(),t&&u.autoplay&&typeof u.autoplay.start=="function"&&(u.autoplay.start(),l.log(i("Autoplay relanc\xE9 apr\xE8s redimensionnement.","lightbox-jlg")))}},250)}return!0}let st=!1,Ft=()=>{if(st)return!0;let p=Mn();return p&&(st=!0),p},Pt=()=>{let p=Ft();vn(window,{namespace:"frontend"}).catch(E=>{window.console&&typeof window.console.error=="function"&&window.console.error("[MGA] Swiper indisponible, utilisation du mode d\xE9grad\xE9.",E)}).finally(()=>{(!st||p!==!0)&&Ft()})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Pt):Pt(),typeof D!="undefined"&&D.exports&&(D.exports.updateEchoBackground=ot,D.exports.updateAutoplayButtonState=_e)})()});Pr();})();
//# sourceMappingURL=gallery-slideshow.js.map
