(()=>{var de=(a,o)=>()=>(a&&(o=a(a=0)),o);var Sr=(a,o)=>()=>(o||a((o={exports:{}}).exports,o),o.exports);var Er,Ar,fn,pn,Cr,gn,mn=de(()=>{Er=/%(\d+\$)?[sd]/g,Ar=()=>(a,...o)=>{let u=0;return String(a).replace(Er,(w,h)=>{let x,S=w.charAt(w.length-1);if(h){let q=parseInt(h.slice(0,-1),10);if(Number.isNaN(q)||q<=0)return"";x=q-1}else x=u,u+=1;let E=x>=0&&x<o.length?o[x]:void 0;if(S==="d"){let q=parseInt(E,10);return Number.isNaN(q)?"":String(q)}return typeof E=="undefined"?"":String(E)})},fn=a=>a&&typeof a.sprintf=="function"?a.sprintf:Ar(),pn=a=>a&&typeof a.__=="function"?a.__:o=>o,Cr=a=>!a||typeof a!="object"?null:a.wp&&a.wp.i18n?a.wp.i18n:null,gn=()=>Cr(typeof window!="undefined"?window:globalThis)});var Lt,we,jr,et,hn,yn=de(()=>{Lt={facebook:{viewBox:"0 0 24 24",paths:[{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.99 3.66 9.12 8.44 9.88v-6.99H8.08V12h2.36V9.88c0-2.33 1.38-3.62 3.5-3.62 0.72 0 1.48 0.13 1.48 0.13v1.63h-0.83c-0.82 0-1.08 0.51-1.08 1.04V12h1.84l-0.29 1.89h-1.55v6.99C18.34 21.12 22 16.99 22 12z"}]},twitter:{viewBox:"0 0 24 24",paths:[{d:"M22.46 6c-0.77 0.35-1.6 0.59-2.46 0.69a4.29 4.29 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04 4.28 4.28 0 0 0-7.3 3.9 12.13 12.13 0 0 1-8.82-4.47 4.28 4.28 0 0 0 1.33 5.72 4.25 4.25 0 0 1-1.94-0.54v0.05a4.28 4.28 0 0 0 3.43 4.2 4.3 4.3 0 0 1-1.93 0.07 4.28 4.28 0 0 0 4 2.97 8.58 8.58 0 0 1-5.3 1.83 12.1 12.1 0 0 0 6.56 1.92c7.88 0 12.2-6.53 12.2-12.2 0-0.19-0.01-0.39-0.01-0.58A8.7 8.7 0 0 0 22.46 6z"}]},linkedin:{viewBox:"0 0 24 24",paths:[{d:"M20.45 3H3.55A1.55 1.55 0 0 0 2 4.55v14.9C2 20.3 2.7 21 3.55 21h16.9c0.85 0 1.55-0.7 1.55-1.55V4.55C22 3.7 21.3 3 20.45 3zM8.34 18H5.67V9.67h2.67V18zM7 8.5a1.55 1.55 0 1 1 0-3.1 1.55 1.55 0 0 1 0 3.1zM18.33 18h-2.67v-4.1c0-0.98-0.02-2.24-1.36-2.24-1.36 0-1.56 1.06-1.56 2.16V18h-2.67V9.67h2.56v1.14h0.04c0.36-0.68 1.24-1.4 2.56-1.4 2.74 0 3.25 1.8 3.25 4.13V18z"}]},pinterest:{viewBox:"0 0 24 24",paths:[{d:"M12 2C6.48 2 2 6.31 2 11.42c0 3.89 2.68 7.23 6.44 8.41-0.09-0.71-0.17-1.8 0.03-2.58 0.18-0.77 1.15-4.9 1.15-4.9s-0.29-0.58-0.29-1.45c0-1.36 0.79-2.37 1.78-2.37 0.84 0 1.24 0.63 1.24 1.38 0 0.84-0.53 2.09-0.8 3.25-0.23 1 0.5 1.81 1.48 1.81 1.78 0 3.14-1.87 3.14-4.57 0-2.39-1.72-4.07-4.18-4.07-2.85 0-4.52 2.14-4.52 4.35 0 0.86 0.33 1.79 0.74 2.29 0.08 0.1 0.09 0.19 0.07 0.29-0.07 0.31-0.23 1-0.26 1.13-0.04 0.18-0.14 0.22-0.32 0.13-1.2-0.56-1.95-2.29-1.95-3.68 0-3 2.18-5.76 6.29-5.76 3.3 0 5.87 2.35 5.87 5.5 0 3.28-2.06 5.93-4.92 5.93-0.96 0-1.86-0.5-2.17-1.08l-0.59 2.24c-0.21 0.83-0.78 1.87-1.16 2.5 0.87 0.27 1.78 0.42 2.72 0.42 5.52 0 10-4.31 10-9.42C22 6.31 17.52 2 12 2z"}]},whatsapp:{viewBox:"0 0 24 24",paths:[{d:"M20.52 3.48A10.5 10.5 0 0 0 2.47 13.3l-1.45 5.28 5.4-1.41A10.5 10.5 0 1 0 20.52 3.48zm-8.5 17.54a8.75 8.75 0 0 1-4.46-1.22l-0.32-0.19-3.21 0.84 0.86-3.13-0.2-0.32a8.75 8.75 0 1 1 7.33 3.99zm4.78-6.53c-0.26-0.13-1.53-0.76-1.77-0.84-0.24-0.09-0.41-0.13-0.58 0.13-0.17 0.26-0.66 0.84-0.8 1.02-0.15 0.17-0.29 0.2-0.55 0.07-0.26-0.13-1.09-0.4-2.07-1.3-0.76-0.68-1.27-1.52-1.42-1.78-0.15-0.26-0.02-0.4 0.11-0.53 0.11-0.11 0.26-0.29 0.39-0.43 0.13-0.15 0.17-0.26 0.26-0.43 0.09-0.17 0.04-0.32-0.02-0.45-0.07-0.13-0.58-1.39-0.8-1.91-0.21-0.5-0.43-0.43-0.58-0.43-0.15 0-0.32-0.02-0.49-0.02-0.17 0-0.43 0.06-0.66 0.32-0.24 0.26-0.89 0.87-0.89 2.13s0.91 2.47 1.03 2.64c0.13 0.17 1.79 2.73 4.34 3.83 0.61 0.26 1.08 0.41 1.45 0.53 0.61 0.19 1.16 0.16 1.6 0.1 0.49-0.07 1.53-0.62 1.75-1.22 0.21-0.6 0.21-1.11 0.15-1.22-0.06-0.1-0.24-0.16-0.5-0.29z"}]},telegram:{viewBox:"0 0 24 24",paths:[{d:"M21.5 2.5l-19 7.5c-1.3 0.52-1.29 2.35 0.02 2.85l4.8 1.9 1.9 4.8c0.5 1.31 2.34 1.32 2.85 0.02l7.5-19c0.42-1.06-0.64-2.12-1.67-1.67zM10 14l-1 4-1.5-3.8 8.3-6.2-5.8 6z"}]},email:{viewBox:"0 0 24 24",paths:[{d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}]},link:{viewBox:"0 0 24 24",paths:[{d:"M10.59 13.41a1 1 0 0 1 0-1.41l2-2a1 1 0 1 1 1.41 1.41l-2 2a1 1 0 0 1-1.41 0zm-2.83 2.83a3 3 0 0 1 0-4.24l2-2a3 3 0 0 1 4.24 0 1 1 0 0 1-1.41 1.41 1 1 0 0 0-1.41 0l-2 2a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l1-1a1 1 0 1 1 1.41 1.41l-1 1a3 3 0 0 1-4.24 0zm8.48-8.48a3 3 0 0 0-4.24 0l-1 1a1 1 0 0 1-1.41-1.41l1-1a5 5 0 1 1 7.07 7.07l-2 2a5 5 0 0 1-7.07 0 1 1 0 0 1 1.41-1.41 3 3 0 0 0 4.24 0l2-2a3 3 0 0 0 0-4.24z"}]},generic:{viewBox:"0 0 24 24",paths:[{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"},{d:"M13 17h-2v-2h2zm0-4h-2V7h2z"}]},copy:{viewBox:"0 0 24 24",paths:[{d:"M16 1H4a2 2 0 0 0-2 2v12h2V3h12V1zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16H8V7h11v14z"}]},download:{viewBox:"0 0 24 24",paths:[{d:"M5 20h14v-2H5v2zm7-16v9l3.5-3.5 1.42 1.42L12 17l-4.92-4.92L8.5 10.66 12 14.17V4z"}]},native:{viewBox:"0 0 24 24",paths:[{d:"M18 16.08c-0.76 0-1.44 0.3-1.96 0.77L8.91 12.7c0.05-0.23 0.09-0.46 0.09-0.7s-0.04-0.47-0.09-0.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 0.24 0.03 0.47 0.09 0.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c0.79 0 1.5-0.31 2.03-0.82l7.05 4.12c-0.06 0.23-0.08 0.46-0.08 0.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"}]}},we=a=>typeof a!="string"?"":a.trim().toLowerCase().replace(/[^a-z0-9_-]/g,""),jr=a=>{let o=we(a);return o&&Lt[o]?Lt[o]:Lt.generic},et=(a,o,u={})=>{if(!a||typeof a.createElementNS!="function")return null;let w=a.createElementNS("http://www.w3.org/2000/svg",o);return Object.keys(u).forEach(h=>{w.setAttribute(h,u[h])}),w},hn=(a,o)=>{let u=jr(o),w=et(a,"svg",{viewBox:u.viewBox,fill:"currentColor","aria-hidden":"true",focusable:"false"});return w?(Array.isArray(u.paths)&&u.paths.forEach(h=>{let x=et(a,"path",h);x&&w.appendChild(x)}),w):null}});var bn=de(()=>{});var Lr,wn,_r,H,kr,Tr,Ir,Mr,Fr,Pr,zr,vn,xn=de(()=>{Lr=a=>a&&a.performance&&typeof a.performance.now=="function"?a.performance.now():Date.now(),wn=a=>a&&a.document||null,_r=a=>a?((!a.mgaSwiperMetrics||typeof a.mgaSwiperMetrics!="object")&&(a.mgaSwiperMetrics={events:[]}),Array.isArray(a.mgaSwiperMetrics.events)||(a.mgaSwiperMetrics.events=[]),a.mgaSwiperMetrics):null,H=(a,o,u,w)=>{let h=_r(a);if(h&&(h.events.push({namespace:o||"default",event:u,detail:w||{},timestamp:Lr(a)}),typeof a.dispatchEvent=="function"))try{let x=new a.CustomEvent("mga:swiper-metric",{detail:{namespace:o||"default",event:u,payload:w||{}}});a.dispatchEvent(x)}catch(x){}},kr=a=>!a||typeof a!="object"?[]:(Array.isArray(a.attempts)?a.attempts:[]).map(u=>{if(!u||typeof u!="object"||u.enabled===!1)return null;let w=typeof u.key=="string"&&u.key?u.key:"fallback",h=u.js&&typeof u.js=="object"?u.js:{},x=u.css&&typeof u.css=="object"?u.css:null,S=u.inject!==!1,E=typeof h.src=="string"&&h.src?h.src:"";return E?{key:w,label:typeof u.label=="string"&&u.label?u.label:w,js:{src:E,integrity:typeof h.integrity=="string"&&h.integrity?h.integrity:null,crossOrigin:typeof h.crossOrigin=="string"&&h.crossOrigin?h.crossOrigin:null,referrerPolicy:typeof h.referrerPolicy=="string"&&h.referrerPolicy?h.referrerPolicy:null},css:x&&typeof x.href=="string"&&x.href?{href:x.href,integrity:typeof x.integrity=="string"&&x.integrity?x.integrity:null,crossOrigin:typeof x.crossOrigin=="string"&&x.crossOrigin?x.crossOrigin:null,referrerPolicy:typeof x.referrerPolicy=="string"&&x.referrerPolicy?x.referrerPolicy:null}:null,timeout:typeof u.timeout=="number"&&u.timeout>0?u.timeout:12e3,inject:S}:null}).filter(Boolean),Tr=(a,o,u)=>{if(!o||!o.css)return Promise.resolve();let w=wn(a);if(!w)return Promise.resolve();let h=Array.from(w.querySelectorAll('link[rel="stylesheet"]')).find(x=>x.href===o.css.href);return h?Promise.resolve(h):new Promise((x,S)=>{let E=w.createElement("link");E.rel="stylesheet",E.href=o.css.href,E.dataset.mgaSwiperSource=o.key,o.css.integrity&&(E.integrity=o.css.integrity),o.css.crossOrigin?E.crossOrigin=o.css.crossOrigin:o.css.integrity&&(E.crossOrigin="anonymous"),o.css.referrerPolicy&&(E.referrerPolicy=o.css.referrerPolicy),E.onload=()=>{H(a,u,"css_load_success",{source:o.key}),x(E)},E.onerror=()=>{H(a,u,"css_load_error",{source:o.key}),S(new Error("Stylesheet load error"))},w.head.appendChild(E),H(a,u,"css_load_start",{source:o.key,href:o.css.href})})},Ir=(a,o,u)=>{if(!o||!o.js||!o.js.src)return Promise.reject(new Error("Invalid attempt configuration"));let w=wn(a);if(!w)return Promise.reject(new Error("Document unavailable"));let h=Array.from(w.querySelectorAll("script")).find(x=>x.src===o.js.src&&!x.hasAttribute("data-mga-swiper-failed"));return h?new Promise((x,S)=>{if(typeof a.Swiper=="function"){h.setAttribute("data-mga-swiper-loaded","true"),H(a,u,"js_already_available",{source:o.key}),x(h);return}if(typeof h.hasAttribute=="function"&&h.hasAttribute("data-mga-swiper-loaded")){x(h);return}h.addEventListener("load",()=>{h.setAttribute("data-mga-swiper-loaded","true"),x(h)}),h.addEventListener("error",()=>{h.setAttribute("data-mga-swiper-failed","true"),S(new Error("Existing script failed"))}),H(a,u,"js_existing_observed",{source:o.key})}):new Promise((x,S)=>{let E=w.createElement("script");E.src=o.js.src,E.async=!1,E.dataset.mgaSwiperSource=o.key,o.js.integrity&&(E.integrity=o.js.integrity),o.js.crossOrigin?E.crossOrigin=o.js.crossOrigin:o.js.integrity&&(E.crossOrigin="anonymous"),o.js.referrerPolicy&&(E.referrerPolicy=o.js.referrerPolicy);let q=null,oe=()=>{q&&(a.clearTimeout(q),q=null)};E.onload=()=>{oe(),E.setAttribute("data-mga-swiper-loaded","true"),H(a,u,"js_load_success",{source:o.key}),x(E)},E.onerror=()=>{oe(),E.setAttribute("data-mga-swiper-failed","true"),H(a,u,"js_load_error",{source:o.key}),S(new Error("Script load error"))},q=a.setTimeout(()=>{oe(),E.setAttribute("data-mga-swiper-failed","true"),H(a,u,"js_load_timeout",{source:o.key,timeout:o.timeout}),S(new Error("Script load timeout"))},o.timeout||12e3),w.head.appendChild(E),H(a,u,"js_load_start",{source:o.key,src:o.js.src})})},Mr=a=>a?((!a.mgaSwiperLoaderState||typeof a.mgaSwiperLoaderState!="object")&&(a.mgaSwiperLoaderState={promise:null}),a.mgaSwiperLoaderState):{promise:null},Fr=(a,o,u)=>!o||!o.inject?Promise.resolve():typeof a.Swiper=="function"?Promise.resolve(a.Swiper):(H(a,u,"attempt_start",{source:o.key}),Tr(a,o,u).catch(()=>null).then(()=>Ir(a,o,u)).then(()=>{if(typeof a.Swiper=="function")return H(a,u,"attempt_success",{source:o.key}),a.Swiper;throw H(a,u,"attempt_no_global",{source:o.key}),new Error("Swiper global missing after load")}).catch(w=>{throw H(a,u,"attempt_error",{source:o.key,message:w&&w.message?w.message:String(w)}),w})),Pr=(a,o,u)=>o.reduce((w,h)=>w.catch(()=>Fr(a,h,u)),Promise.reject(new Error("initial"))),zr=(a,o)=>o&&typeof o=="object"?o:a&&a.mgaSwiperLoaderConfig&&typeof a.mgaSwiperLoaderConfig=="object"?a.mgaSwiperLoaderConfig:a&&a.mgaAdminConfig&&typeof a.mgaAdminConfig=="object"&&a.mgaAdminConfig.swiper?a.mgaAdminConfig.swiper:null,vn=(a=window,o={})=>{let u=typeof o.namespace=="string"&&o.namespace?o.namespace:"default";if(!a)return Promise.reject(new Error("Global scope unavailable"));if(typeof a.Swiper=="function")return H(a,u,"already_available",{}),Promise.resolve(a.Swiper);let w=zr(a,o.config),h=kr(w);if(!h.length)return H(a,u,"no_attempts_configured",{}),Promise.reject(new Error("No Swiper attempts configured"));let x=Mr(a);return x.promise||(H(a,u,"bootstrap",{version:w&&w.version?w.version:null,attempts:h.map(S=>S.key)}),x.promise=Pr(a,h,u).catch(()=>{if(typeof a.Swiper=="function")return a.Swiper;throw H(a,u,"fatal",{}),new Error("Swiper could not be loaded")}).then(()=>{if(typeof a.Swiper=="function")return H(a,u,"ready",{}),a.Swiper;throw H(a,u,"fatal",{}),new Error("Swiper global unavailable")}).finally(()=>{x.promise=null})),x.promise}});var _t=de(()=>{mn();yn();bn();xn()});var De,Sn,Dr,Or,Rr,En,Ur,An,Cn,jn,Ln,kt,_n=de(()=>{De="slide",Sn="ease-out",Dr=["slide","fade","cube","coverflow","flip"],Or=new Set(["cube","coverflow","flip"]),Rr=["ease","ease-in","ease-out","ease-in-out","linear"],En="bottom",Ur=["bottom","left","hidden"],An=a=>{if(typeof a!="string")return De;let o=a.trim().toLowerCase();return Dr.includes(o)?o:De},Cn=a=>{let o=parseInt(a,10);return Number.isNaN(o)?600:Math.min(Math.max(o,100),5e3)},jn=a=>{if(typeof a!="string")return Sn;let o=a.trim().toLowerCase();return Rr.includes(o)?o:Sn},Ln=a=>{if(typeof a!="string")return En;let o=a.trim().toLowerCase();return Ur.includes(o)?o:En},kt=a=>Or.has(a)});function tt(a){let o=[];Array.isArray(a)?a.forEach(w=>{o.push(w)}):a&&typeof a=="object"&&Object.keys(a).forEach(w=>{let h=a[w];h&&typeof h=="object"&&o.push(Object.assign({key:w},h))});let u=new Set;return o.reduce((w,h)=>{if(!h||typeof h!="object")return w;let x="";typeof h.key=="string"?x=h.key:typeof h.slug=="string"&&(x=h.slug);let S=we(x);if(!S&&typeof h.label=="string"&&(S=we(h.label.replace(/\s+/g,"-"))),!S||u.has(S))return w;u.add(S);let E=typeof h.label=="string"&&h.label.trim()?h.label.trim():Tt(S),q=typeof h.template=="string"?h.template.trim():"",oe=we(h.icon||S)||S,rt=h.enabled===!0||h.enabled==="1"||h.enabled===1||h.enabled==="true"||h.enabled==="on";return w.push({key:S,label:E,template:q,icon:oe,enabled:rt}),w},[])}var Tt,It,kn,Tn=de(()=>{_t();Tt=a=>typeof a!="string"||a.trim()===""?"":a.trim().split(/[-_\s]+/).filter(Boolean).map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");It=()=>typeof navigator!="undefined"&&navigator&&typeof navigator.share=="function",kn=(a,o)=>{if(typeof a!="string"||!a)return"";let u=o||{},w={url:u.url||"",text:u.text||u.title||"",title:u.title||u.text||""};return a.replace(/%([a-z]+)%/gi,(h,x)=>{let S=x.toLowerCase();return Object.prototype.hasOwnProperty.call(w,S)?encodeURIComponent(w[S]):""})}});var nt,In,Nr,Mn,Fn,Pn=de(()=>{nt="lightbox-jlg",In=a=>a,Nr=(a,...o)=>{let u=a;return o.forEach(w=>{u=u.replace(/%s/,String(w))}),u},Mn=(a,o)=>{let u=typeof a=="function"?a:In;return u(o?"Mettre le diaporama en pause":"Lancer le diaporama",nt)},Fn=(a,o,u,w)=>{let h=typeof a=="function"?a:In,x=typeof o=="function"?o:Nr,S=String(w),E=u&&typeof u.caption=="string"&&u.caption?u.caption:"";return E?x(h("Afficher la diapositive %s\xA0: %s",nt),S,E):x(h("Afficher la diapositive %s",nt),S)}});var Br=Sr((lo,D)=>{_t();_n();Tn();Pn();(function(){"use strict";let a=gn(),o=pn(a),u=fn(a),w=typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):y=>window.setTimeout(y,0),h=typeof window.cancelAnimationFrame=="function"?window.cancelAnimationFrame.bind(window):y=>{typeof window.clearTimeout=="function"&&window.clearTimeout(y)},x=y=>{let O=document.createElement("span");O.className="mga-share-option__icon";let M=hn(document,we(y));return M&&O.appendChild(M),O},S=(y,O={})=>typeof document=="undefined"?null:et(document,y,O),E=(y,O)=>{!y||!y.wrapperEl||(y.wrapperEl.style.transitionTimingFunction=O)};function q(y,O){if(!y)return;let M=y.querySelector(".mga-echo-bg");if(!M)return;let I=typeof O=="string"?O.trim():"";if(!I){let W=M.querySelector(".mga-visible");W&&(W.classList.remove("mga-visible"),setTimeout(()=>{W.parentElement&&W.parentElement.removeChild(W)},400)),y.classList.remove("mga-has-texture");return}let K=document.createElement("img");K.className="mga-echo-bg__image",K.alt="",K.setAttribute("aria-hidden","true"),K.setAttribute("role","presentation"),K.decoding="async";let Y=!1,_e=()=>{if(Y)return;Y=!0;let W=M.querySelector(".mga-visible");W&&(W.classList.remove("mga-visible"),setTimeout(()=>{W.parentElement&&W.parentElement.removeChild(W)},400)),M.appendChild(K),setTimeout(()=>K.classList.add("mga-visible"),10),y.classList.remove("mga-has-texture")};K.onload=_e,K.onerror=()=>{y.classList.remove("mga-has-texture")},K.src=I,K.complete&&setTimeout(()=>_e())}let oe=!1,rt=()=>{if(oe||typeof Swiper!="function")return;if(typeof Swiper.use!="function"){oe=!0;return}let O=["Navigation","Autoplay","Thumbs","Zoom","Keyboard","A11y","EffectFade","EffectCube","EffectCoverflow","EffectFlip"].reduce((M,I)=>(Swiper[I]&&M.push(Swiper[I]),M),[]);O.length&&Swiper.use(O),oe=!0};function Le(y,O){if(!y)return;let M=y.querySelector("#mga-play-pause");if(!M)return;M.setAttribute("aria-pressed",O?"true":"false");let I=Mn(o,O);M.setAttribute("aria-label",I),M.setAttribute("title",I)}function zn(){let y=window.mga_settings||{},O=Ln(y.thumbs_layout),M=()=>{},I=(e,t=!0)=>{if(typeof e=="undefined")return t;if(typeof e=="string"){let n=e.trim().toLowerCase();if(["false","0","no","off"].includes(n))return!1;if(["true","1","yes","on"].includes(n))return!0}return typeof e=="number"?e!==0:!!e},K=I(y.debug_mode,!1),Y=I(y.include_svg,!0),_e="jpe?g|png|gif|bmp|webp|avif",W=Y?`${_e}|svg`:_e,Pt=new RegExp(`.(${W})(?:\\?.*)?(?:#.*)?$`,"i"),it="linked-media",zt="self-linked-media",Dn=new Set([it,zt]),st=typeof y.trigger_scenario=="string"?y.trigger_scenario.trim().toLowerCase():it;Dn.has(st)||(st=it);let ae=e=>typeof e=="string"&&/\.svg(?:\?.*)?(?:#.*)?$/i.test(e),te=typeof window!="undefined"&&window.mgaDebug&&typeof window.mgaDebug=="object"?window.mgaDebug:null;te&&(te.enabled=K===!0,!te.enabled&&typeof te.destroy=="function"&&te.destroy({reason:"settings-disabled"}),!te.enabled&&typeof te.log=="function"&&te.log(o("Mode diagnostic d\xE9sactiv\xE9 dans les r\xE9glages.","lightbox-jlg")));let c=te&&te.enabled?te:{enabled:!1,init:M,log:M,updateInfo:M,updateVisibleSlides:M,onForceOpen:M,stopTimer:M,restartTimer:M,table:M,shareAction:M,destroy:M},at=e=>{let t=Z(e);if(!t)return[];let n=new Set,r=s=>{if(typeof s=="string"){let i=s.trim();i&&n.add(i)}};r(t);try{let s=decodeURIComponent(t);r(s)}catch(s){}try{let s=typeof window!="undefined"&&window.location?window.location.href:void 0,i=new URL(t,s);i.pathname&&r(i.pathname),i.hostname&&i.pathname&&r(`${i.hostname.toLowerCase()}${i.pathname}`)}catch(s){r(t.replace(/^\.\/+/,""))}return Array.from(n)},Oe=e=>typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(t=>t.length>0).map(t=>t.split(/\s+/)[0]).map(t=>Z(t)).filter(t=>!!t),On=e=>{let t=new Set;if(!e)return t;let n=["src","data-mga-highres","data-full-url","data-large-file","data-orig-file","data-src","data-lazy-src"],r=s=>{let i=Z(s);i&&t.add(i)};return n.forEach(s=>{e.hasAttribute&&e.hasAttribute(s)&&r(e.getAttribute(s))}),e.dataset&&["mgaHighres","fullUrl","largeFile","origFile","src","lazySrc"].forEach(s=>{e.dataset[s]&&r(e.dataset[s])}),Oe(e.srcset).forEach(s=>t.add(s)),e.dataset&&e.dataset.srcset&&Oe(e.dataset.srcset).forEach(s=>t.add(s)),t},Rn=e=>{let t=new Set;return e&&(["srcset","data-srcset","src","data-src","data-lazy-src"].forEach(n=>{if(!e.hasAttribute||!e.hasAttribute(n))return;if(n==="srcset"||n==="data-srcset"){Oe(e.getAttribute(n)).forEach(s=>t.add(s));return}let r=Z(e.getAttribute(n));r&&t.add(r)}),e.dataset&&["src","lazySrc","srcset"].forEach(n=>{if(!e.dataset[n])return;if(n.toLowerCase().includes("srcset")){Oe(e.dataset[n]).forEach(s=>t.add(s));return}let r=Z(e.dataset[n]);r&&t.add(r)})),t},Un=e=>{let t=new Set;return e instanceof Element?(e.querySelectorAll("img").forEach(n=>{On(n).forEach(r=>{at(r).forEach(s=>t.add(s))})}),e.querySelectorAll("source").forEach(n=>{Rn(n).forEach(r=>{at(r).forEach(s=>t.add(s))})}),Array.from(t)):[]},lt=e=>{if(st!==zt)return!0;if(!(e instanceof Element))return!1;let t=e.getAttribute("href"),n=Z(t);if(!n||!Pt.test(n))return!1;let r=at(n);if(!r.length)return!1;let s=Un(e);return s.length?r.some(i=>s.includes(i)):!1},ct=I(y.show_zoom,!0),Dt=I(y.show_download,!0),ve=I(y.show_share,!0),Ot=I(y.show_fullscreen,!0),Nn=I(y.show_thumbs_mobile,!0),xe=I(y.show_cta,!0),Bn=I(y.close_on_backdrop,!0),Re=I(y.loop,!0),Vn=Object.prototype.hasOwnProperty.call(y,"start_on_clicked_image")?y.start_on_clicked_image:y.startOnClickedImage,Rt=I(Vn,!0),ke=I(y.share_copy,!0),Te=I(y.share_download,!0),Ue=tt(y.share_channels),ut={copy:o("Copier le lien","lightbox-jlg"),download:o("T\xE9l\xE9chargement rapide","lightbox-jlg"),native:o("Partager via l'appareil","lightbox-jlg")},Ut=()=>{let e=[];return Ue.forEach(t=>{if(!t||typeof t!="object")return;let{enabled:n,template:r}=t,s=typeof r=="string"&&r.trim()!=="";!n||!s||e.push({type:"social",key:t.key,label:t.label||Tt(t.key)||t.key,template:r.trim(),icon:t.icon||t.key})}),ke&&e.push({type:"copy",key:"copy",label:ut.copy,icon:"copy"}),Te&&e.push({type:"download",key:"download",label:ut.download,icon:"download"}),It()&&e.push({type:"native",key:"native",label:ut.native,icon:"native"}),e},Nt=()=>Ut().length>0,Ne=()=>ve&&Nt(),Q=[],dt="mga-scroll-locked",d=null,P=null,le=null,Ie=!1,ft=new Set,Be=new WeakMap,Bt,pt=!1,gt=null,mt=null,Ve=!1,He=!1,qe=!1,X=null,fe=null,ie=[],$e=null,k=null,Se=!1,Me=null,Fe=null,pe=null,ge=null,Ee={lastBaseAnnouncement:"",isTemporaryMessageActive:!1};c.enabled&&typeof c.init=="function"&&(c.init(),typeof c.log=="function"&&c.log(o("Mode diagnostic activ\xE9.","lightbox-jlg")));let ht={selector:"#mga-share",handler:e=>{e.preventDefault();let t=yt();return!t||!t.image?(c.log(o("Impossible de partager l\u2019image active.","lightbox-jlg"),!0),!0):(Wt(t.image)||c.log(o("Aucune option de partage disponible pour l\u2019image active.","lightbox-jlg"),!0),!0)}},Vt=()=>{Q.includes(ht)||(Q.push(ht),Ge())},Hn=()=>{let e=Q.indexOf(ht);e!==-1&&(Q.splice(e,1),Ge())};ct&&Q.push({selector:"#mga-zoom",handler:()=>d&&d.zoom?(d.zoom.toggle(),!0):!1}),Dt&&Q.push({selector:"#mga-download",handler:e=>{e.preventDefault();let t=qt();return t?bt(t)||c.log(o("Impossible de lancer le t\xE9l\xE9chargement de l\u2019image active.","lightbox-jlg"),!0):c.log(o("URL haute r\xE9solution introuvable pour l\u2019image active.","lightbox-jlg"),!0),!0}}),Ne()&&Vt(),Ot&&Q.push({selector:"#mga-fullscreen",handler:(e,t)=>{if(!t)return!1;let{request:n,exit:r,element:s}=Qt(t);if(s)if(r)try{let i=r();i&&typeof i.catch=="function"&&i.catch(l=>c.log(u(o("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),l.message),!0))}catch(i){c.log(u(o("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),i.message),!0)}else c.log(o("API de fermeture du plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);else if(n)try{let i=n();i&&typeof i.catch=="function"&&i.catch(l=>c.log(u(o("Erreur plein \xE9cran\xA0: %s","lightbox-jlg"),l.message),!0))}catch(i){c.log(u(o("Erreur plein \xE9cran\xA0: %s","lightbox-jlg"),i.message),!0)}else c.log(o("API plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);return!0}});function Ht(e){if(!e||!e.target)return null;let t=e.target;if(t instanceof Element)return t;if(t&&typeof t=="object"){if(t.parentElement instanceof Element)return t.parentElement;if(t.parentNode instanceof Element)return t.parentNode}return null}function yt(){if(!Array.isArray(ie)||!ie.length)return null;let e=d&&typeof d.activeIndex=="number"?d.activeIndex:0,t=d&&typeof d.realIndex=="number"?d.realIndex:e,n=ie[t];return n?{image:n,index:t}:null}function qt(){let e=yt();if(!e)return null;let{image:t}=e;return t&&typeof t.highResUrl=="string"&&t.highResUrl?t.highResUrl:null}function bt(e){if(typeof e!="string"||!e)return!1;if(!document.body||typeof document.body.appendChild!="function")return c.log(o("T\xE9l\xE9chargement impossible\xA0: document.body indisponible.","lightbox-jlg"),!0),!1;let t=null;try{t=document.createElement("a"),t.href=e,t.rel="noopener noreferrer";let n="image";try{let r=new URL(e,window.location.href),s=r&&typeof r.pathname=="string"?r.pathname:"";if(s){let l=s.split("/").filter(Boolean).pop();l&&(n=l)}}catch(r){}return t.download=n,document.body.appendChild(t),t.click(),!0}catch(n){return c.log(u(o("\xC9chec du t\xE9l\xE9chargement\xA0: %s","lightbox-jlg"),n.message),!0),!1}finally{t&&t.parentNode===document.body&&document.body.removeChild(t)}}function Ge(e){let n=e||null;if(!n){let r=document.getElementById("mga-viewer");r&&(n=r.querySelector(".mga-toolbar"))}n&&n.setAttribute("data-mga-optional-buttons",String(Q.length))}function $t(){let e=document.createElement("button");e.type="button",e.id="mga-share",e.className="mga-toolbar-button",e.setAttribute("aria-label",o("Partager l\u2019image","lightbox-jlg")),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","mga-share-modal");let t=S("svg",{class:"mga-icon mga-share-icon",viewBox:"0 0 24 24",fill:"currentColor"}),n=S("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.03.47.09.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.03-.82l7.05 4.12c-.06.23-.08.46-.08.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"});return t.appendChild(n),e.appendChild(t),e}function wt(e){if(!ve||!Nt())return null;if(k&&k.container&&k.container.parentElement===e)return k;let t=document.createElement("div");t.id="mga-share-modal",t.className="mga-share-modal",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-hidden","true"),t.setAttribute("hidden","hidden");let n=document.createElement("div");n.className="mga-share-modal__overlay",n.setAttribute("aria-hidden","true"),t.appendChild(n);let r=document.createElement("div");r.className="mga-share-modal__dialog",r.setAttribute("role","document"),r.setAttribute("tabindex","-1"),t.appendChild(r);let s=document.createElement("div");s.className="mga-share-modal__header",r.appendChild(s);let i=document.createElement("h2");i.id="mga-share-title",i.className="mga-share-modal__title",i.textContent=o("Partager cette image","lightbox-jlg"),s.appendChild(i);let l=document.createElement("button");l.type="button",l.className="mga-share-modal__close",l.setAttribute("aria-label",o("Fermer la fen\xEAtre de partage","lightbox-jlg")),l.innerHTML="&times;",s.appendChild(l);let p=document.createElement("div");p.className="mga-share-modal__body",r.appendChild(p);let g=document.createElement("p");g.id="mga-share-description",g.className="mga-share-modal__description",g.textContent=o("Choisissez une option de partage\xA0:","lightbox-jlg"),p.appendChild(g),t.setAttribute("aria-labelledby",i.id),t.setAttribute("aria-describedby",g.id);let f=document.createElement("ul");f.className="mga-share-modal__list",f.setAttribute("data-mga-share-list","true"),p.appendChild(f);let m=document.createElement("p");m.className="mga-share-modal__feedback",m.setAttribute("role","status"),m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true"),m.setAttribute("hidden","hidden"),p.appendChild(m),e.appendChild(t);let b=C=>{C&&typeof C.stopPropagation=="function"&&C.stopPropagation(),Ae({reason:"overlay"})},L=()=>Ae({reason:"close-button"});return n.addEventListener("click",b),l.addEventListener("click",L),f.addEventListener("click",Zn),k={container:t,dialog:r,list:f,closeButton:l,overlay:n,feedback:m,description:g,payload:null,options:[]},k}function Gt(){!k||!k.feedback||(k.feedback.textContent="",k.feedback.removeAttribute("data-mga-state"),k.feedback.setAttribute("hidden","hidden"))}function ne(e,t=!1,n){if(!k||!k.feedback)return;k.feedback.textContent=e||"";let r=n||(t?"error":e?"info":"");e?k.feedback.removeAttribute("hidden"):k.feedback.setAttribute("hidden","hidden"),r?k.feedback.setAttribute("data-mga-state",r):k.feedback.removeAttribute("data-mga-state"),e&&xr(e,{tone:r||(t?"error":"info")})}function qn(e,t,n){if(!(!e||!e.list)){for(Gt();e.list.firstChild;)e.list.removeChild(e.list.firstChild);e.options=Array.isArray(t)?t:[],e.payload=n||{},e.list.setAttribute("data-mga-share-count",String(e.options.length)),e.options.forEach(r=>{let s=document.createElement("li");s.className="mga-share-modal__item";let i=document.createElement("button");i.type="button",i.className="mga-share-option",i.setAttribute("data-share-type",r.type),i.setAttribute("data-share-key",r.key),i.setAttribute("data-share-label",r.label),r.template&&i.setAttribute("data-share-template",r.template),r.icon&&i.setAttribute("data-share-icon",r.icon);let l=document.createElement("span");l.className="mga-share-option__content";let p=x(r.icon);p&&l.appendChild(p);let g=document.createElement("span");g.className="mga-share-option__label",g.textContent=r.label,l.appendChild(g),i.appendChild(l);let f=document.createElement("span");f.className="mga-share-option__chevron",f.setAttribute("aria-hidden","true"),f.textContent="\u203A",i.appendChild(f),s.appendChild(i),e.list.appendChild(s)})}}function $n(e){return Ut().map(t=>({...t}))}function Kt(e){if(!e||!e.dialog)return[];let t=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.dialog.querySelectorAll(t.join(","))).filter(n=>!n.hasAttribute("disabled"))}function Gn(e){if(!Se||!k)return;if(e.key==="Escape"){e.preventDefault(),Ae({reason:"escape"});return}if(e.key!=="Tab")return;let t=Kt(k);if(!t.length)return;let n=t[0],r=t[t.length-1],s=document.activeElement;e.shiftKey?(s===n||!k.dialog.contains(s))&&(e.preventDefault(),r.focus()):s===r&&(e.preventDefault(),n.focus())}function Kn(e,t){if(!e||!e.container)return!1;e.container.removeAttribute("hidden"),e.container.setAttribute("aria-hidden","false"),e.container.classList.add("is-visible"),Se=!0,Me=t||(document.activeElement instanceof HTMLElement?document.activeElement:null),Fe=Gn,document.addEventListener("keydown",Fe,!0),t&&t.setAttribute("aria-expanded","true");let n=Kt(e);return n.length?n[0].focus():e.closeButton&&e.closeButton.focus(),c.shareAction("open",{options:e.options.map(r=>r.key)}),!0}function Ae({restoreFocus:e=!0,reason:t="manual"}={}){if(!k||!k.container||!Se)return;k.container.classList.remove("is-visible"),k.container.setAttribute("aria-hidden","true"),k.container.setAttribute("hidden","hidden"),Fe&&(document.removeEventListener("keydown",Fe,!0),Fe=null);let n=document.getElementById("mga-share");n&&n.setAttribute("aria-expanded","false"),Se=!1,e&&Me&&typeof Me.focus=="function"&&Me.focus(),Me=null,c.shareAction("close",{reason:t})}function Wn(e){return typeof e!="string"?Promise.reject(new Error("invalid-text")):navigator.clipboard&&typeof navigator.clipboard.writeText=="function"?navigator.clipboard.writeText(e):new Promise((t,n)=>{try{let r=document.createElement("textarea");r.value=e,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r),r.select();let s=document.execCommand("copy");document.body.removeChild(r),s?t():n(new Error("execCommand-failed"))}catch(r){n(r)}})}function Zn(e){if(!k||!k.list||!Se)return;let t=e.target instanceof Element?e.target.closest("button[data-share-type]"):null;if(!t)return;e.preventDefault();let n=t.getAttribute("data-share-type"),r=t.getAttribute("data-share-key")||"",s=t.getAttribute("data-share-label")||r,i=k.payload||{};if(n==="social"){let l=t.getAttribute("data-share-template")||"",p=kn(l,i);if(!p){ne(o("Impossible de g\xE9n\xE9rer le lien de partage.","lightbox-jlg"),!0,"error"),c.shareAction("social",{target:r,success:!1,reason:"invalid-url"});return}let g=null;if(typeof window!="undefined"&&window&&typeof window.open=="function"&&(g=window.open(p,"_blank","noopener,noreferrer"),g&&typeof g=="object"&&"opener"in g))try{g.opener=null}catch(f){}g?(ne(u(o("Ouverture de %s dans un nouvel onglet.","lightbox-jlg"),s),!1,"info"),c.shareAction("social",{target:r,success:!0,url:p})):(ne(u(o("Impossible d\u2019ouvrir %s. V\xE9rifiez votre bloqueur de fen\xEAtres.","lightbox-jlg"),s),!0,"error"),c.shareAction("social",{target:r,success:!1,url:p}));return}if(n==="copy"){if(!i.url){ne(o("Aucun lien \xE0 copier pour cette image.","lightbox-jlg"),!0,"error"),c.shareAction("copy",{success:!1,reason:"missing-url"});return}Wn(i.url).then(()=>{ne(o("Lien copi\xE9 dans le presse-papiers.","lightbox-jlg"),!1,"success"),c.shareAction("copy",{success:!0})}).catch(l=>{ne(o("Impossible de copier le lien. Essayez le raccourci clavier.","lightbox-jlg"),!0,"error"),c.shareAction("copy",{success:!1,reason:l&&l.message?l.message:"copy-error"})});return}if(n==="download"){if(!i.url){ne(o("Aucun fichier \xE0 t\xE9l\xE9charger pour cette image.","lightbox-jlg"),!0,"error"),c.shareAction("download",{success:!1,reason:"missing-url"});return}bt(i.url)?(ne(o("T\xE9l\xE9chargement de l\u2019image lanc\xE9.","lightbox-jlg"),!1,"success"),c.shareAction("download",{success:!0})):(ne(o("Impossible de lancer le t\xE9l\xE9chargement.","lightbox-jlg"),!0,"error"),c.shareAction("download",{success:!1}));return}if(n==="native"){if(!It()){ne(o("Le partage natif n\u2019est pas pris en charge sur ce navigateur.","lightbox-jlg"),!0,"error"),c.shareAction("native",{success:!1,reason:"unsupported"});return}try{let l=navigator.share(i);c.shareAction("native",{success:!0}),Ae({restoreFocus:!1,reason:"native-share"}),l&&typeof l.catch=="function"&&l.catch(p=>{let g=p&&p.message?p.message:o("Partage annul\xE9.","lightbox-jlg");c.shareAction("native",{success:!1,reason:g})})}catch(l){ne(u(o("Partage natif impossible\xA0: %s","lightbox-jlg"),l&&l.message?l.message:"unknown"),!0,"error"),c.shareAction("native",{success:!1,reason:l&&l.message?l.message:"error"})}return}c.shareAction("unknown",{type:n})}function Wt(e){if(!e||typeof e.highResUrl!="string"||!e.highResUrl)return!1;let t=document.getElementById("mga-viewer");if(!t)return!1;let n=wt(t);if(!n)return!1;let r=typeof e.caption=="string"?e.caption.trim():"",s=typeof document!="undefined"&&document&&typeof document.title=="string"?document.title:"",i={url:e.highResUrl};r&&(i.text=r),(r||s)&&(i.title=r||s);let l=$n(i);if(!l.length)return c.shareAction("no-options",{url:e.highResUrl}),vt(),!1;qn(n,l,i);let p=t.querySelector("#mga-share");return!!Kn(n,p||null)}function vt(){let e=Ne();e?Vt():Hn();let t=document.getElementById("mga-viewer");if(!t)return;let n=t.querySelector(".mga-toolbar"),r=t.querySelector("#mga-share");if(!e){Se&&Ae({restoreFocus:!1,reason:"share-options-removed"}),r&&r.remove(),Ge(n);return}if(!r&&n){let i=$t(),l=n.querySelector("#mga-fullscreen"),p=n.querySelector("#mga-close");l&&l.parentElement===n?n.insertBefore(i,l):p&&p.parentElement===n?n.insertBefore(i,p):n.appendChild(i)}if(wt(t)){let i=t.querySelector("#mga-share");i&&(i.setAttribute("aria-controls","mga-share-modal"),i.setAttribute("aria-expanded","false"))}Ge(n)}function Zt(e,t){if(rt(),typeof Swiper!="function"){let U=o("ERREUR\xA0: La d\xE9pendance Swiper est introuvable. Initialisation annul\xE9e.","lightbox-jlg");return c&&typeof c.log=="function"?c.log(U,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(U),null}if(!t||!t.loop)return new Swiper(e,t);let n=e?e.querySelectorAll(".swiper-slide").length:0,s=(U=>{let R=[],J=T=>{typeof T=="number"&&!Number.isNaN(T)&&R.push(Math.ceil(T))};return J(U.slidesPerView),U.breakpoints&&typeof U.breakpoints=="object"&&Object.values(U.breakpoints).forEach(T=>{T&&typeof T=="object"&&J(T.slidesPerView)}),R.length?Math.max(...R):1})(t),i=typeof t.loopedSlides=="number"?Math.max(0,Math.floor(t.loopedSlides)):s,l=typeof t.loopAdditionalSlides=="number"?Math.max(0,Math.floor(t.loopAdditionalSlides)):0,p=typeof t.slidesPerGroup=="number"?Math.max(1,Math.floor(t.slidesPerGroup)):1,g=t.centeredSlides?1:0,f=i+l,m=Math.max(f+1,p+g+1,2);if(n>=m)return new Swiper(e,t);let b=Object.assign({},t),L=i,C=l;if(n>1){L=Math.min(i,Math.max(n-1,1));let U=Math.max(n-1-L,0);C=Math.min(l,U)}else b.loop=!1;b.loopedSlides=L,b.loopAdditionalSlides=C;let $=b.loop?`Loop ajust\xE9e (instance locale) : ${n} slide(s), boucle recalibr\xE9e \xE0 ${L} + ${C} slide(s) additionnelles.`:`Loop d\xE9sactiv\xE9e (instance locale) : ${n} slide disponible, boucle inutilisable.`;return c&&typeof c.log=="function"?c.log($):typeof console!="undefined"&&typeof console.info=="function"&&console.info($),new Swiper(e,b)}let Yn=[{key:"ultrawide",label:o("\xC9cran ultralarge","lightbox-jlg"),minWidth:1600},{key:"desktop",label:o("Bureau","lightbox-jlg"),minWidth:1200},{key:"tablet",label:o("Tablette","lightbox-jlg"),minWidth:768},{key:"portrait",label:o("Portrait","lightbox-jlg"),minWidth:0}],Yt=e=>typeof e=="number"&&Number.isFinite(e)&&!Number.isNaN(e),Qn=(e,t)=>{if(!e||typeof e!="object")return 1;let n=e.slidesPerView,{breakpoints:r}=e;return r&&typeof r=="object"&&Object.entries(r).map(([i,l])=>({width:parseFloat(i),config:l})).filter(({width:i,config:l})=>!Number.isNaN(i)&&t>=i&&l&&typeof l=="object").sort((i,l)=>i.width-l.width).forEach(({config:i})=>{Object.prototype.hasOwnProperty.call(i,"slidesPerView")&&(n=i.slidesPerView)}),Yt(n)?Math.max(1,Math.ceil(n)):n==="auto"?"auto":1},Xn=e=>Yn.map(t=>({key:t.key,label:t.label,value:Qn(e,t.minWidth)})),Jn=(e,t)=>{if(!c||typeof c.updateVisibleSlides!="function")return;let n=Xn(t),r=e&&typeof e.slidesPerViewDynamic=="function"?e.slidesPerViewDynamic():null,s=n.map(({label:i,value:l})=>l==="auto"?Yt(r)?u(o("%1$s\xA0: auto (~%2$s)","lightbox-jlg"),i,Math.max(1,Math.round(r))):u(o("%s\xA0: auto","lightbox-jlg"),i):u(o("%1$s\xA0: %2$s","lightbox-jlg"),i,l)).join(" | ");c.updateVisibleSlides(s)};function xt(e,t,n){if(!e||e.destroyed)return;let r=[t];if(typeof n!="undefined"&&r.push(n),e.params&&e.params.loop&&typeof e.slideToLoop=="function"){e.slideToLoop.apply(e,r);return}typeof e.slideTo=="function"&&e.slideTo.apply(e,r)}let me=null;function er(){if(me!==null||(me=!1,typeof window=="undefined"||typeof document=="undefined"||typeof document.createElement!="function"||typeof HTMLElement=="undefined"||!HTMLElement.prototype||typeof HTMLElement.prototype.focus!="function"))return me;let e=document.createElement("button"),t=document.body||document.documentElement;try{e.type="button",t&&typeof t.appendChild=="function"&&t.appendChild(e),HTMLElement.prototype.focus.call(e,{get preventScroll(){return me=!0,!0}})}catch(n){me=!1}finally{e.parentNode&&typeof e.parentNode.removeChild=="function"&&e.parentNode.removeChild(e)}return me}function Ke(e,t={preventScroll:!0}){if(!e||typeof e.focus!="function")return;if(t&&er())try{e.focus(t);return}catch(r){}e.focus()}function Qt(e){let t=document,n=[{request:"requestFullscreen",exit:"exitFullscreen",element:"fullscreenElement"},{request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",element:"webkitFullscreenElement"},{request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",element:"webkitCurrentFullScreenElement"},{request:"mozRequestFullScreen",exit:"mozCancelFullScreen",element:"mozFullScreenElement"},{request:"msRequestFullscreen",exit:"msExitFullscreen",element:"msFullscreenElement"}],r={request:null,exit:null,element:null},s=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"];for(let i of s)if(typeof t[i]!="undefined"&&t[i]){r.element=t[i];break}for(let i of n)if(!r.request&&e&&typeof e[i.request]=="function"&&(r.request=e[i.request].bind(e)),!r.exit&&typeof t[i.exit]=="function"&&(r.exit=t[i.exit].bind(t)),r.request&&r.exit&&r.element)break;return r}function Xt(e){if(!e)return!1;if(e.hasAttribute("data-mga-allow-fallback"))return!0;if(e.dataset){let s=e.dataset.mgaAllowFallback;if(typeof s!="undefined"&&s!=="0"&&s!=="false"||e.dataset.mgaHighres)return!0;let i=e.dataset.type||e.dataset.wpType;if(typeof i=="string"&&i.toLowerCase()==="attachment")return!0}let t=e.getAttribute("rel");if(t&&t.split(/\s+/).includes("mga-allow-fallback"))return!0;let n=e.getAttribute("data-type");if(typeof n=="string"&&n.toLowerCase()==="attachment")return!0;let r=e.getAttribute("href");if(typeof r=="string"){if(/[?&]attachment_id=\d+/i.test(r)||/\/attachment\//i.test(r))return!0;try{let s=typeof window!="undefined"&&window.location?window.location.href:void 0,i=new URL(r,s);if(i.searchParams&&i.searchParams.has("attachment_id"))return!0}catch(s){}}return!1}function St(e,t={}){if(!e)return null;let{excludeLarge:n=!1}=t,r=["data-mga-highres","data-full-url","data-large-file","data-orig-file","data-src","data-lazy-src"],s={mgaHighres:"data-mga-highres",fullUrl:"data-full-url",largeFile:"data-large-file",origFile:"data-orig-file",src:"data-src",lazySrc:"data-lazy-src"},i=[];for(let p of r){let g=e.getAttribute(p);g&&i.push({key:p,value:g.trim()})}if(e.dataset)for(let[p,g]of Object.entries(s)){let f=e.dataset[p];f&&!i.some(m=>m.key===g)&&i.push({key:g,value:f.trim()})}if(!i.length)return null;if(n){let p=new Set(["data-full-url","data-large-file","data-orig-file"]),g=["data-src","data-lazy-src","data-mga-highres"];if(i.some(m=>!p.has(m.key))){for(let b of g){let L=i.find(C=>C.key===b&&C.value);if(L)return L.value}let m=i.find(b=>!p.has(b.key)&&b.value);if(m)return m.value}}let l=i.find(p=>p.value);return l?l.value:null}function We(e){if(typeof e!="string")return"";let t=e.trim();return!t||/^(?:about:|javascript:)/i.test(t)||/^(?:data:|blob:)/i.test(t)?"":t}function Z(e){if(typeof e!="string")return"";let t=e.trim();if(!t)return"";if(/^\/\//.test(t)){let n=typeof window!="undefined"?window.location:null,r=n&&typeof n.protocol=="string"?n.protocol.toLowerCase():"";return r==="http:"||r==="https:"?`${r}${t}`:`https:${t}`}return/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(t)?/^https?:/i.test(t)?t:"":t}function Jt(e){if(!e)return"";let t=[typeof e.currentSrc=="string"?e.currentSrc:"",typeof e.src=="string"?e.src:""];for(let r of t){let s=We(r);if(s)return s}let n=St(e,{excludeLarge:!0});return We(n)}function tr(e){if(!e||!e.srcset)return null;let t=e.srcset.split(",").map(n=>n.trim()).filter(n=>n.length>0).map(n=>{let r=n.split(/\s+/),s=r[0],i=0;if(r[1]){let l=r[1].trim();/^[0-9]+w$/i.test(l)?i=parseInt(l,10):/^[0-9]*\.?[0-9]+x$/i.test(l)&&(i=parseFloat(l)*1e3)}return{url:s,score:i}}).filter(n=>n.url);return t.length?(t.sort((n,r)=>r.score-n.score),t[0].url):null}function en(e){if(!e)return null;let t=e.getAttribute("href")||"";if(!Y&&ae(t))return null;let n=Pt.test(t),r=n||Xt(e),s=n?Z(t):null;if(r&&e.dataset&&e.dataset.mgaHighres){let f=Z(e.dataset.mgaHighres);if(f&&(Y||!ae(f)))return f}let i=e.querySelector("img");if(!i)return null;if(r){let f=St(i),m=Z(f);if(m&&(Y||!ae(m)))return m}if(!r)return null;let l=Z(tr(i));if(l&&(Y||!ae(l)))return l;if(s&&(Y||!ae(s)))return s;let p=Z(i.currentSrc);if(p&&(Y||!ae(p)))return p;let g=Z(i.src);return g&&(Y||!ae(g))?g:null}let nr=new Set(["primary","secondary","outline"]),rr=e=>{if(typeof e!="string")return"primary";let t=e.trim().toLowerCase();return nr.has(t)?t:"primary"},or=e=>{if(typeof e!="string")return"_self";let t=e.trim().toLowerCase();switch(t){case"_blank":case"_self":case"_parent":case"_top":return t;default:return"_self"}},ir=(e,t)=>typeof e=="string"&&e.trim()?e.trim():t==="_blank"?"noopener noreferrer":"",Et=e=>{if(!e||typeof e!="object")return null;let t=typeof e.label=="string"?e.label.trim():"",n=typeof e.url=="string"?e.url.trim():"";if(!t||!n)return null;let r=or(e.target),s=ir(e.rel,r),i=rr(e.variant);return{label:t,url:n,target:r,rel:s,variant:i}},sr=e=>{if(typeof e!="string"||!e.trim())return[];try{let t=JSON.parse(e);if(Array.isArray(t))return t.map(Et).filter(Boolean);let n=Et(t);return n?[n]:[]}catch(t){c&&typeof c.log=="function"&&c.log(u(o("Impossible de parser les CTA personnalis\xE9s\xA0: %s","lightbox-jlg"),t.message),!0)}return[]},Ce=(e,t)=>{if(!e)return"";let n=e.getAttribute(t);return typeof n=="string"?n.trim():""},tn=(e,t,n)=>{if(!e)return null;let r=Ce(e,`${t}-label`),s=Ce(e,`${t}-url`);if(!r||!s)return null;let i=Ce(e,`${t}-target`)||void 0,l=Ce(e,`${t}-rel`)||void 0,p=Ce(e,`${t}-variant`)||n;return Et({label:r,url:s,target:i,rel:l,variant:p||n})},ar=(e,t)=>{let n=[];e instanceof Element&&n.push(e),t instanceof Element&&n.push(t);let r=[],s=new Set,i=l=>{if(!l)return;let p=`${l.label}::${l.url}`;s.has(p)||(s.add(p),r.push(l))};return n.forEach(l=>{if(!l)return;sr(Ce(l,"data-mga-cta")).forEach(i),i(tn(l,"data-mga-cta","primary")),i(tn(l,"data-mga-cta-secondary","secondary"))}),r},At=e=>!Array.isArray(e)||!e.length?[]:e.reduce((t,n,r)=>{let s=n.querySelector("img");if(!s||!lt(n))return t;let i=en(n);if(!i||!Y&&ae(i))return t;let l=Jt(s);if(!l){let m=We(i);m&&(l=m)}if(!l)return t;let p="",g=n.closest("figure");if(g){let m=g.querySelector("figcaption");m&&(p=m.textContent.trim())}p||(p=s.alt||"");let f=ar(n,s);return t.push({highResUrl:i,thumbUrl:l,caption:p,triggerIndex:r,ctas:f}),t},[]),Pe=(e,t,n,r={})=>{if(!Array.isArray(t)||!t.length)return!1;let s=Math.max(0,Math.min(parseInt(n,10)||0,t.length-1)),i=r.focusOrigin instanceof Element?r.focusOrigin:r.focusOrigin===null?null:void 0,l=null;if(i)l=i,X=i;else if(!r.skipFocusCapture){let f=document&&document.activeElement instanceof Element?document.activeElement:null;f&&(l=f,X=f)}let p=r.history||{},g=on(t,s,{galleryId:e,history:p});return!g&&l&&l===X&&(X=null),g},ce=(()=>{if(typeof window=="undefined"||typeof window.location=="undefined")return null;try{let e=new URL(window.location.href),t=e.searchParams.get("mga");if(!t)return null;let n=t.lastIndexOf(":");if(n===-1)return null;let r=t.slice(0,n),s=t.slice(n+1);if(!r)return null;let i=decodeURIComponent(r);if(!i)return null;let l=parseInt(s,10),p=Number.isNaN(l)?0:Math.max(l-1,0),g=new URL(e.toString());return g.searchParams.delete("mga"),{galleryId:i,index:p,originalUrl:g.toString(),originalState:window.history.state}}catch(e){return c&&typeof c.log=="function"&&c.log(u(o("Lien profond invalide d\xE9tect\xE9\xA0: %s","lightbox-jlg"),e.message),!0),null}})();function Ze(){let e=document.getElementById("mga-viewer");if(!e){c.log(o("Viewer non trouv\xE9. Cr\xE9ation \xE0 la vol\xE9e...","lightbox-jlg")),e=document.createElement("div"),e.id="mga-viewer",e.className="mga-viewer mga-viewer--compact",e.classList.toggle("mga-has-caption",!1),e.style.display="none",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby","mga-viewer-title"),e.setAttribute("tabindex","-1");let t=document.createElement("span");t.id="mga-viewer-title",t.className="mga-screen-reader-text",t.textContent=o("Visionneuse d\u2019images","lightbox-jlg"),e.appendChild(t);let n=document.createElement("div");n.className="mga-echo-bg",e.appendChild(n);let r=document.createElement("div");r.className="mga-header",e.appendChild(r);let s=document.createElement("div");s.id="mga-counter",s.className="mga-counter",r.appendChild(s);let i=document.createElement("div");i.className="mga-caption-container",i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),r.appendChild(i);let l=document.createElement("p");l.id="mga-caption",l.className="mga-caption",i.appendChild(l);let p=document.createElement("span");p.className="mga-screen-reader-text mga-caption-live",i.appendChild(p);let g=document.createElement("p");g.className="mga-caption-feedback",g.setAttribute("hidden","hidden"),i.appendChild(g);let f=document.createElement("div");f.className="mga-cta-container",f.setAttribute("data-mga-cta-container","true"),f.setAttribute("hidden","hidden"),r.appendChild(f);let m=document.createElement("div");m.className="mga-toolbar",r.appendChild(m);let b=document.createElement("button");b.type="button",b.id="mga-play-pause",b.className="mga-toolbar-button",b.setAttribute("aria-pressed","false"),b.setAttribute("aria-label",o("Lancer le diaporama","lightbox-jlg")),m.appendChild(b);let L=S("svg",{class:"mga-timer-svg",viewBox:"0 0 36 36"}),C=S("path",{class:"mga-timer-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),$=S("path",{class:"mga-timer-progress",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"});L.appendChild(C),L.appendChild($),b.appendChild(L);let U=S("svg",{class:"mga-icon mga-play-icon",viewBox:"0 0 24 24",fill:"currentColor"}),R=S("path",{d:"M8 5v14l11-7z"});U.appendChild(R),b.appendChild(U);let J=S("svg",{class:"mga-icon mga-pause-icon",viewBox:"0 0 24 24",fill:"currentColor"});J.style.display="none";let T=S("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"});if(J.appendChild(T),b.appendChild(J),Le(e,!1),ct){let A=document.createElement("button");A.type="button",A.id="mga-zoom",A.className="mga-toolbar-button",A.setAttribute("aria-label",o("Zoom","lightbox-jlg")),m.appendChild(A);let j=S("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=S("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),z=S("path",{d:"M10 9h-1v-1H8v1H7v1h1v1h1v-1h1V9z"});j.appendChild(B),j.appendChild(z),A.appendChild(j)}if(Dt){let A=document.createElement("button");A.type="button",A.id="mga-download",A.className="mga-toolbar-button",A.setAttribute("aria-label",o("T\xE9l\xE9charger l\u2019image","lightbox-jlg")),m.appendChild(A);let j=S("svg",{class:"mga-icon mga-download-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=S("path",{d:"M5 20h14v-2H5v2zm7-16l-5 5h3v4h4v-4h3l-5-5z"});j.appendChild(B),A.appendChild(j)}if(Ne()){let A=$t();m.appendChild(A)}if(Ot){let A=document.createElement("button");A.type="button",A.id="mga-fullscreen",A.className="mga-toolbar-button",A.setAttribute("aria-label",o("Plein \xE9cran","lightbox-jlg")),m.appendChild(A);let j=S("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=S("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5V14h-2v3zM14 5v2h3v3h2V5h-5z"});j.appendChild(B),A.appendChild(j)}m.setAttribute("data-mga-optional-buttons",String(Q.length));let G=document.createElement("button");G.type="button",G.id="mga-close",G.className="mga-toolbar-button",G.setAttribute("aria-label",o("Fermer","lightbox-jlg")),m.appendChild(G);let ee=S("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),se=S("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"});ee.appendChild(se),G.appendChild(ee);let _=document.createElement("div");_.className="swiper mga-main-swiper",e.appendChild(_);let V=document.createElement("div");V.className="swiper-wrapper",V.id="mga-main-wrapper",_.appendChild(V);let N=document.createElement("button");N.type="button",N.className="swiper-button-next mga-nav-button",N.id="mga-next",N.setAttribute("aria-label",o("Image suivante","lightbox-jlg")),N.setAttribute("title",o("Image suivante","lightbox-jlg")),_.appendChild(N);let v=document.createElement("button");if(v.type="button",v.className="swiper-button-prev mga-nav-button",v.id="mga-prev",v.setAttribute("aria-label",o("Image pr\xE9c\xE9dente","lightbox-jlg")),v.setAttribute("title",o("Image pr\xE9c\xE9dente","lightbox-jlg")),_.appendChild(v),O!=="hidden"){let A=document.createElement("div");A.className="swiper mga-thumbs-swiper",e.appendChild(A);let j=document.createElement("div");j.className="swiper-wrapper",j.id="mga-thumbs-wrapper",A.appendChild(j)}if(Ne()&&wt(e)){let j=e.querySelector("#mga-share");j&&j.setAttribute("aria-controls","mga-share-modal")}document.body&&typeof document.body.appendChild=="function"&&document.body.appendChild(e),e&&e.parentNode?c.log(o("Viewer cr\xE9\xE9 et ajout\xE9 au body avec succ\xE8s.","lightbox-jlg")):c.log(o("ERREUR CRITIQUE\xA0: \xC9chec de la cr\xE9ation du viewer\xA0!","lightbox-jlg"),!0)}return e}c.log(o("Script initialis\xE9 et pr\xEAt.","lightbox-jlg")),c.updateInfo("mga-debug-status",o("Pr\xEAt","lightbox-jlg"),"success");let lr=[".wp-block-post-content",".entry-content",".post-content",".site-main",".content-area","main",".hentry","#primary","#main"],cr=Array.isArray(y.contentSelectors)?y.contentSelectors:[],ur=Array.from(new Set(cr.concat(lr).filter(Boolean))),he=null,Ye=o("Aucune zone d\xE9tect\xE9e","lightbox-jlg");for(let e of ur){let t=null;try{t=document.querySelector(e)}catch(n){let r=u(o("S\xE9lecteur CSS invalide ignor\xE9\xA0: %s","lightbox-jlg"),e),s=n&&n.message?` (${n.message})`:"",i=`${r}${s}`;c&&typeof c.log=="function"?c.log(i,!0):typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(i);continue}if(t){he=t,Ye=e;break}}if(!he&&y.allowBodyFallback===!0&&document.body&&(he=document.body,Ye=o("<body> (opt-in fallback)","lightbox-jlg")),!he)return c.updateInfo("mga-debug-content-area",Ye,"error"),c.log(o("Aucune zone de contenu valide d\xE9tect\xE9e. Initialisation du diaporama interrompue.","lightbox-jlg"),!0),!1;c.updateInfo("mga-debug-content-area",Ye,"success");let nn="__mga-default-group__",Qe=typeof y.groupAttribute=="string"?y.groupAttribute.trim():"",rn="mga-group:",dr=new Set(["nofollow","noreferrer","noopener","opener","external"]),fr=e=>{if(typeof e!="string")return null;let t=e.split(/\s+/).map(n=>n.trim()).filter(Boolean);for(let n of t)if(n.toLowerCase().startsWith(rn)){let r=n.slice(rn.length).trim();if(r)return r}for(let n of t){let r=n.toLowerCase();if(!(!r||dr.has(r))&&!r.includes(":"))return n}return null},Ct=e=>{if(!(e instanceof Element))return nn;let t=fr(e.getAttribute("rel"));if(t)return`rel:${t}`;let n=[];Qe&&n.push(Qe),n.push("data-mga-gallery");let r=Qe?Qe.toLowerCase():"";for(let s of n){if(!s||s.toLowerCase()==="rel")continue;let i=e.getAttribute(s);if(typeof i!="string")continue;let l=i.trim();if(l)return`${s}:${l}`}if(r==="href"){let s=e.getAttribute("href");if(typeof s=="string"){let i=s.trim();if(i)return`href:${i}`}}return nn},ze=(e=!0)=>{let t=Array.from(he.querySelectorAll("a")).filter(r=>r.querySelector("img")).filter(r=>lt(r)),n=t.reduce((r,s)=>{let i=Ct(s);return r[i]||(r[i]=[]),r[i].push(s),r},{});if(e){let r=Object.keys(n).length,s=`${t.length} (${r} groupe${r>1?"s":""} apr\xE8s filtrage)`;c.updateInfo("mga-debug-trigger-img",s)}return n},pr={resolveLinkGroupId:Ct,isExplicitFallbackAllowed:Xt,sanitizeHighResUrl:Z,sanitizeThumbnailUrl:We,resolveThumbnailUrl:Jt,getImageDataAttributes:St,linkMatchesTriggerScenario:lt};typeof D!="undefined"&&D.exports&&(D.exports.helpers=pr);let F=(()=>{if(!(typeof window!="undefined"&&window.history&&typeof window.history.pushState=="function"&&typeof window.history.replaceState=="function"))return{isSupported:!1,isActive:()=>!1,getGalleryId:()=>null,getLastIndex:()=>0,push:()=>!1,update:()=>{},beginClose:()=>!1,finalizeClose:()=>{},adoptExistingState:()=>{}};let t=!1,n=null,r=0,s=!1,i=null,l=null,p=(f,m)=>{try{let b=new URL(window.location.href),L=encodeURIComponent(f||""),C=Math.max(1,(parseInt(m,10)||0)+1);return b.searchParams.set("mga",`${L}:${C}`),b.toString()}catch(b){return null}},g=(f,m)=>({mgaViewer:{galleryId:f,index:m,returnUrl:i||window.location.href}});return{isSupported:!0,isActive:()=>t,getGalleryId:()=>n,getLastIndex:()=>r,push:(f,m,b={})=>{let L=typeof b.originalUrl=="string"?b.originalUrl:window.location.href,C=Object.prototype.hasOwnProperty.call(b,"originalState")?b.originalState:window.history.state;if(b.replaceOriginal&&L)try{window.history.replaceState(C,"",L)}catch(U){}let $=p(f,m);if(!$)return!1;try{return i=L,l=C,window.history.pushState(g(f,m),"",$),t=!0,s=!1,n=f,r=m,!0}catch(U){return!1}},update:f=>{if(!t)return;let m=p(n,f);if(m){r=f;try{window.history.replaceState(g(n,f),"",m)}catch(b){}}},beginClose:()=>{if(!t)return!1;s=!0;try{return window.history.back(),!0}catch(f){return s=!1,!1}},finalizeClose:()=>{t=!1,n=null,r=0,s=!1,i=null,l=null},adoptExistingState:(f,m,b={})=>{t=!0,n=f,r=m,s=!1,typeof b.originalUrl=="string"?i=b.originalUrl:i||(i=window.location.href),Object.prototype.hasOwnProperty.call(b,"originalState")&&(l=b.originalState)}}})(),{cleanup:gr,active:mr}=(()=>{if(typeof MutationObserver!="function")return{cleanup:M,active:!1};if(!c.enabled)return{cleanup:M,active:!1};let e=new MutationObserver(()=>{ze()});return e.observe(he,{childList:!0,subtree:!0}),{cleanup:()=>e.disconnect(),active:!0}})();ze(),ce&&ce.galleryId&&setTimeout(()=>{let t=ze(!1)[ce.galleryId]||[],n=At(t);n.length&&Pe(ce.galleryId,n,ce.index,{skipFocusCapture:!0,history:{action:"push",replaceOriginal:!0,originalUrl:ce.originalUrl,originalState:ce.originalState}}),ce=null},0),mr&&window.addEventListener("beforeunload",gr),c.onForceOpen(()=>{c.log(o("Clic sur 'Forcer l'ouverture'.","lightbox-jlg"));let e=[{highResUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20600%22%3E%3Crect%20width%3D%22800%22%20height%3D%22600%22%20fill%3D%22%230073aa%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2248%22%20fill%3D%22%23ffffff%22%3EImage%20Test%201%3C%2Ftext%3E%3C%2Fsvg%3E",thumbUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20150%20150%22%3E%3Crect%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22%230073aa%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2218%22%20fill%3D%22%23ffffff%22%3EThumb%201%3C%2Ftext%3E%3C%2Fsvg%3E",caption:o("Ceci est la premi\xE8re image de test.","lightbox-jlg")},{highResUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20600%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22grad%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%22100%25%22%20y2%3D%22100%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23f44336%22%2F%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23ff9800%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%22800%22%20height%3D%22600%22%20fill%3D%22url(%23grad)%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2248%22%20fill%3D%22%23ffffff%22%3EImage%20Test%202%3C%2Ftext%3E%3C%2Fsvg%3E",thumbUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20150%20150%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22gradThumb%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%22100%25%22%20y2%3D%22100%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23f44336%22%2F%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23ff9800%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22url(%23gradThumb)%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2218%22%20fill%3D%22%23ffffff%22%3EThumb%202%3C%2Ftext%3E%3C%2Fsvg%3E",caption:o("Ceci est la seconde image de test.","lightbox-jlg")}],t=document.activeElement instanceof Element?document.activeElement:null;Pe("__debug__",e,0,{focusOrigin:t||null,history:{action:"push"}})||(X=null)}),he.addEventListener("click",function(e){if(e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;let t=Ht(e);if(!t)return;let n=t.closest("a");if(n&&!n.hasAttribute("download")&&n.querySelector("img")){c.log(o("Clic sur un lien contenant une image.","lightbox-jlg"));let r=en(n);if(!r){c.log(o("URL haute r\xE9solution introuvable pour le lien cliqu\xE9.","lightbox-jlg"));return}let s=ze(),i=Ct(n),l=s[i]||[];c.log(u(o("Pr\xE9paration de la galerie pour le groupe %s.","lightbox-jlg"),i));let p=l.indexOf(n);if(p===-1){c.log(o("ERREUR\xA0: Lien d\xE9clencheur introuvable dans la collection actuelle.","lightbox-jlg"),!0);return}let g=At(l);if(c.log(u(o("%d images valides pr\xE9par\xE9es pour la galerie.","lightbox-jlg"),g.length)),c.table(g),!g.length){c.log(o("ERREUR\xA0: Aucune image valide d\xE9tect\xE9e pour cette galerie.","lightbox-jlg"),!0);return}let f=g.findIndex(C=>C.triggerIndex===p);f===-1&&(c.log(o("ERREUR : L'image cliqu\xE9e n'a pas \xE9t\xE9 trouv\xE9e dans la galerie construite.","lightbox-jlg"),!0),c.log(u(o("URL cliqu\xE9e recherch\xE9e\xA0: %s","lightbox-jlg"),r),!0));let m=Rt&&f!==-1?f:0;c&&typeof c.log=="function"&&c.log(u(o("Index initial demand\xE9 via clic\xA0: %1$d (option active\xA0: %2$s, trouv\xE9\xA0: %3$d).","lightbox-jlg"),m,o(Rt?"oui":"non","lightbox-jlg"),f));let b=document.activeElement instanceof Element?document.activeElement:null;Pe(i,g,m,{focusOrigin:b||null,history:{action:"push"}})?e.preventDefault():X=null}});let hr=e=>{if(!F.isSupported)return;let t=e&&typeof e.state=="object"&&e.state!==null?e.state:null,n=t&&typeof t.mgaViewer=="object"?t.mgaViewer:null,r=Ze();if(n&&n.galleryId){let s=n.galleryId,i=Number.isFinite(n.index)?n.index:0,l=typeof n.returnUrl=="string"?n.returnUrl:void 0,g=ze(!1)[s]||[],f=At(g);if(!f.length){r&&r.style.display!=="none"&&je(r,{skipHistory:!0});return}let m={originalUrl:l,originalState:t};if(r&&r.style.display!=="none")if($e!==s)je(r,{skipHistory:!0}),Pe(s,f,i,{skipFocusCapture:!0,history:Object.assign({action:"sync"},m)});else{F.adoptExistingState(s,i,m);let b=Math.max(0,Math.min(i,f.length-1));ie=f,$e=s,d&&!d.destroyed&&xt(d,b,0),Xe(r,f,b)}else Pe(s,f,i,{skipFocusCapture:!0,history:Object.assign({action:"sync"},m)});return}if(F.isActive&&F.isActive()){let s=Ze();s&&s.style.display!=="none"&&je(s,{skipHistory:!0})}};function on(e,t,n={}){c.log(u(o("openViewer appel\xE9 avec %1$d images, index %2$d.","lightbox-jlg"),e.length,t)),c&&typeof c.restartTimer=="function"&&c.restartTimer();let r=Ze();if(!r)return!1;let s=parseInt(t,10),i=Number.isFinite(s)?s:0,l=Math.min(Math.max(i,0),Math.max(e.length-1,0)),p=typeof n.galleryId=="string"?n.galleryId:null,g=n&&typeof n.history=="object"&&n.history!==null?n.history:{},f=typeof g.action=="string"?g.action:"push",m={originalUrl:g.originalUrl,originalState:g.originalState,replaceOriginal:g.replaceOriginal};r.className="mga-viewer mga-viewer--compact",r.classList.toggle("mga-has-caption",!1),O==="left"?r.classList.add("mga-thumbs-left"):O==="hidden"&&r.classList.add("mga-thumbs-hidden"),y.background_style==="blur"&&r.classList.add("mga-has-blur"),y.background_style==="texture"&&r.classList.add("mga-has-texture"),Nn||r.classList.add("mga-hide-thumbs-mobile");try{let U=function(_){d&&!d.destroyed&&xt(d,_),P&&!P.destroyed&&typeof P.slideTo=="function"&&P.slideTo(_),$(_)};d&&d.destroy(!0,!0),P&&P.destroy(!0,!0),d=null,P=null,ft.clear();let b=r.querySelector("#mga-main-wrapper"),L=r.querySelector("#mga-thumbs-wrapper");b.textContent="",L&&(L.textContent="");let C=[],$=_=>{if(!C.length)return;let V=!1;if(C.forEach(N=>{let v=parseInt(N.getAttribute("data-slide-index"),10);Number.isFinite(v)&&v===_?(N.setAttribute("aria-current","true"),N.setAttribute("tabindex","0"),V=!0):(N.removeAttribute("aria-current"),N.setAttribute("tabindex","-1"))}),!V){let N=C[0];N&&N.setAttribute("tabindex","0")}};if(e.forEach((_,V)=>{let N=document.createElement("div");N.className="swiper-slide",N.setAttribute("data-slide-index",V);let v=document.createElement("div");v.className="mga-spinner",v.style.display="none",N.appendChild(v);let A=document.createElement("div");A.className="swiper-zoom-container";let j=document.createElement("img");if(j.setAttribute("loading","lazy"),j.setAttribute("src",_.highResUrl),j.setAttribute("alt",_.caption),A.appendChild(j),N.appendChild(A),b.appendChild(N),L){let B=document.createElement("div");B.className="swiper-slide";let z=document.createElement("button");z.type="button",z.className="mga-thumb-button",z.setAttribute("data-slide-index",String(V)),z.setAttribute("aria-label",Fn(o,u,_,V+1)),z.setAttribute("tabindex",V===l?"0":"-1");let ue=document.createElement("img");ue.setAttribute("loading","lazy"),ue.setAttribute("src",_.thumbUrl),ue.setAttribute("alt",_.caption),z.appendChild(ue);let Je=ye=>{ye&&ye.preventDefault(),U(V)};z.addEventListener("click",Je),z.addEventListener("keydown",ye=>{let{key:be}=ye;if(!["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"].includes(be)||(ye.preventDefault(),!C.length))return;let re=V;be==="Home"?re=0:be==="End"?re=C.length-1:be==="ArrowLeft"||be==="ArrowUp"?re=V-1:(be==="ArrowRight"||be==="ArrowDown")&&(re=V+1),re<0?re=C.length-1:re>=C.length&&(re=0);let dn=C[re];dn&&(dn.focus(),U(re))}),C.push(z),B.appendChild(z),L.appendChild(B)}}),c.log(o("Wrappers HTML remplis avec URLs optimis\xE9es.","lightbox-jlg")),C.length?(pe=$,$(l)):pe=null,wr(r,e,l),!d){let _=o("Visionneuse annul\xE9e\xA0: Swiper n\u2019a pas pu \xEAtre initialis\xE9.","lightbox-jlg");return c&&typeof c.log=="function"?c.log(_,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(_),r.style.display="none",!1}ie=Array.isArray(e)?e:[],$e=p;let R=()=>{!d||d.destroyed||(xt(d,l,0),P&&typeof P.slideTo=="function"&&P.slideTo(l),y.background_style==="echo"&&e[l]&&e[l].highResUrl&&q(r,e[l].highResUrl),Xe(r,e,l))};!!(d&&d.params&&d.params.cssMode)?(r.style.display="flex",(typeof window!="undefined"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):V=>setTimeout(V,0))(()=>{R()})):(R(),r.style.display="flex"),F.isSupported&&(f==="sync"?(F.adoptExistingState(p,l,m),F.isActive&&F.isActive()&&F.update(l)):f==="none"?F.adoptExistingState(p,l,m):(!F.push(p,l,m)&&typeof F.adoptExistingState=="function"&&F.adoptExistingState(p,l,m),F.isActive&&F.isActive()&&F.update(l))),X||(X=document.activeElement),br(r);let T=document.body.style.overflow,G=document.body.style.paddingRight;gt=T,mt=G;let ee=0;if(typeof window!="undefined"&&typeof window.getComputedStyle=="function"){let _=window.getComputedStyle(document.body);ee=parseFloat(_.paddingRight)||0}else if(G){let _=parseFloat(G);ee=Number.isNaN(_)?0:_}let se=typeof window!="undefined"&&typeof window.innerWidth=="number"&&typeof document!="undefined"&&document.documentElement?Math.max(window.innerWidth-document.documentElement.clientWidth,0):0;return se>0?(document.body.style.paddingRight=`${ee+se}px`,He=!0):He=!1,document.body.classList.contains(dt)?qe=!1:(document.body.classList.add(dt),qe=!0),T!=="hidden"?(document.body.style.overflow="hidden",Ve=!0):Ve=!1,c.log(o("Galerie affich\xE9e avec succ\xE8s.","lightbox-jlg")),pt||(window.addEventListener("resize",un),pt=!0),!0}catch(b){return c.log(u(o("ERREUR dans openViewer\xA0: %s","lightbox-jlg"),b.message),!0),console.error(b),r.style.display="none",!1}}function yr(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(n=>{if(n.disabled||n.getAttribute("aria-hidden")==="true")return!1;let r=n.getBoundingClientRect();return!!(r.width||r.height||n.getClientRects().length)})}function br(e){e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1"),fe&&e.removeEventListener("keydown",fe,!0),fe=function(r){if(r.key!=="Tab")return;let s=yr(e);if(!s.length){r.preventDefault(),Ke(e);return}let i=s.indexOf(document.activeElement),l=i;r.shiftKey?i<=0?l=s.length-1:l=i-1:i===-1||i===s.length-1?l=0:l=i+1,r.preventDefault(),Ke(s[l])},e.addEventListener("keydown",fe,!0);let t=e.querySelector("#mga-close"),n=t&&t.offsetParent!==null?t:e;n&&typeof n.focus=="function"&&Ke(n)}function wr(e,t,n=0){typeof le=="function"&&(le(),le=null),Ie=!1;let r=An(y.effect),s=Cn(y.speed),i=jn(y.easing),l=e.querySelector(".mga-main-swiper"),p=O==="hidden"?null:e.querySelector(".mga-thumbs-swiper");if(p){let v={spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,passiveListeners:!0};O==="left"&&(v.direction="vertical",v.breakpoints={0:{direction:"horizontal"},769:{direction:"vertical"}}),P=Zt(p,v),P&&E(P,i)}else P=null;if(!P&&O!=="hidden"){let v=o("Initialisation des miniatures Swiper impossible. La visionneuse fonctionnera sans elles.","lightbox-jlg");c&&typeof c.log=="function"?c.log(v,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(v)}let g={delay:parseInt(y.delay,10)*1e3||4e3,disableOnInteraction:!1,pauseOnMouseEnter:!1},f=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,m=!!(f&&f.matches);c&&typeof c.log=="function"&&(f?c.log(u(o("Pr\xE9f\xE9rence de r\xE9duction des animations d\xE9tect\xE9e\xA0: %s.","lightbox-jlg"),o(m?"oui":"non","lightbox-jlg"))):c.log(o("Impossible de d\xE9terminer la pr\xE9f\xE9rence de r\xE9duction des animations (matchMedia indisponible).","lightbox-jlg")));let b=r,L=s,C=!1;m&&(C=!0,kt(b)&&(c&&typeof c.log=="function"&&c.log(o("Effet 3D d\xE9sactiv\xE9 pour respecter la pr\xE9f\xE9rence de r\xE9duction des animations.","lightbox-jlg")),b=De),L=Math.min(L,300));let $=C&&b==="slide"&&!Re;c&&typeof c.log=="function"&&(c.log(u(o("Effet retenu\xA0: %1$s (vitesse\xA0: %2$ims).","lightbox-jlg"),b,L)),$?c.log(o("Mode CSS activ\xE9 pour limiter les animations.","lightbox-jlg")):C&&b==="slide"&&Re&&c.log(o("Mode CSS non activ\xE9 car incompatible avec le mode boucle.","lightbox-jlg")));let U=Math.min(Math.max(parseInt(n,10)||0,0),Math.max(t.length-1,0));c&&typeof c.log=="function"&&c.log(u(o("Index initial normalis\xE9\xA0: %1$d (boucle\xA0: %2$s, CSS mode\xA0: %3$s).","lightbox-jlg"),U,o(Re?"oui":"non","lightbox-jlg"),o($?"oui":"non","lightbox-jlg")));let R=()=>{c.log(o("Autoplay D\xC9MARR\xC9.","lightbox-jlg")),e.querySelector(".mga-play-icon").style.display="none",e.querySelector(".mga-pause-icon").style.display="inline-block",Le(e,!0)},J=()=>{c.log(o("Autoplay ARR\xCAT\xC9.","lightbox-jlg")),e.querySelector(".mga-play-icon").style.display="inline-block",e.querySelector(".mga-pause-icon").style.display="none";let v=e.querySelector(".mga-timer-progress");v&&(v.style.strokeDashoffset=100),c.updateInfo("mga-debug-autoplay-time",o("Stopp\xE9","lightbox-jlg")),Le(e,!1)},T={zoom:ct,spaceBetween:10,loop:Re,effect:b,speed:L,cssMode:$,initialSlide:U,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(v){sn(t,v.realIndex),typeof pe=="function"&&pe(v.realIndex)},slideChange:function(v){Xe(e,t,v.realIndex),y.background_style==="echo"&&q(e,t[v.realIndex].highResUrl),typeof pe=="function"&&pe(v.realIndex)},slideChangeTransitionEnd:function(){P&&!P.destroyed&&P.update(),sn(t,this.realIndex)},autoplayTimeLeft(v,A,j){let B=e.querySelector(".mga-timer-progress");B&&(B.style.strokeDashoffset=100-j*100),c.updateInfo("mga-debug-autoplay-time",u(o("%ss","lightbox-jlg"),(A/1e3).toFixed(2)))},slideChangeTransitionStart:function(v){let j=(Array.isArray(v.slides)?v.slides:Array.from(v.slides||[]))[v.activeIndex];if(!j){c.log(o("Impossible de r\xE9cup\xE9rer la diapositive active.","lightbox-jlg"));return}let B=j.querySelector("img");if(B&&!B.complete){let z=j.querySelector(".mga-spinner");c.log(u(o("Chargement de l'image %s...","lightbox-jlg"),j.dataset.slideIndex)),z&&(z.style.display="block"),B.onload=()=>{c.log(u(o("Image %s charg\xE9e.","lightbox-jlg"),j.dataset.slideIndex)),z&&(z.style.display="none")}}},autoplayStart:R,autoplayStop:J,touchStart:()=>{c.log(o("Interaction manuelle D\xC9TECT\xC9E (touch).","lightbox-jlg"))},sliderMove:()=>{c.log(o("Interaction manuelle D\xC9TECT\xC9E (drag).","lightbox-jlg"))}}};b==="fade"&&(T.fadeEffect={crossFade:!0}),m||(T.autoplay=Object.assign({},g)),P&&(T.thumbs={swiper:P});let G=T.on.init;T.on.init=function(v){typeof G=="function"&&G.call(this,v),E(v,i)};let ee=T.on.setTransition;if(T.on.setTransition=function(v){typeof ee=="function"&&ee.apply(this,arguments);let A=v&&v.wrapperEl?v:this;E(A,i)},typeof D!="undefined"&&D.exports&&(D.exports.__testExports=D.exports.__testExports||{},D.exports.__testExports.getAutoplayHandlers=()=>({autoplayStart:R,autoplayStop:J})),d=Zt(l,T),!d){let v=o("Initialisation du Swiper principal impossible. Visionneuse indisponible.","lightbox-jlg");c&&typeof c.log=="function"?c.log(v,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(v);return}E(d,i);let se=()=>{let v=d&&d.params&&typeof d.params=="object"?d.params:T;Jn(d,v)};se(),d&&typeof d.on=="function"&&(d.on("resize",se),d.on("breakpoint",se),d.on("slidesLengthChange",se));let _=d.autoplay,V=!!(_&&typeof _.start=="function"&&typeof _.stop=="function"),N=()=>{if(!(!d||d.destroyed)){if(d.params&&typeof d.params=="object"){let v=d.params.autoplay&&typeof d.params.autoplay=="object"?d.params.autoplay:d.params.autoplay={};Object.assign(v,g)}if(d.originalParams&&typeof d.originalParams=="object"){let v=d.originalParams.autoplay&&typeof d.originalParams.autoplay=="object"?d.originalParams.autoplay:d.originalParams.autoplay={};Object.assign(v,g)}}};if(!V)m||c.log(o("L\u2019extension autoplay de Swiper est indisponible.","lightbox-jlg"),!0);else if(m?_.stop():(N(),y.autoplay_start?_.start():_.stop()),f){let v=A=>{if(!d||d.destroyed)return;let j=d.autoplay;if(!j||typeof j.start!="function"||typeof j.stop!="function")return;let B=!!A.matches,z=B&&kt(r)?De:r,ue=B?Math.min(s,300):s,Je=B&&z==="slide";if(B)Ie=!!j.running,j.stop(),z!==r&&c&&typeof c.log=="function"&&c.log(o("Effet de transition r\xE9duit suite au changement de pr\xE9f\xE9rence syst\xE8me.","lightbox-jlg"));else{let ye=Ie||!!y.autoplay_start;Ie=!1,N(),z!==r&&c&&typeof c.log=="function"&&c.log(o("Effet de transition restaur\xE9 apr\xE8s d\xE9sactivation de la r\xE9duction des animations.","lightbox-jlg")),ye?j.start():j.running&&j.stop()}b=z,L=ue,d.params&&typeof d.params=="object"&&(d.params.effect=z,d.params.speed=ue,d.params.cssMode=Je,z==="fade"?d.params.fadeEffect=Object.assign({},d.params.fadeEffect||{},{crossFade:!0}):d.params.fadeEffect&&delete d.params.fadeEffect),d.originalParams&&typeof d.originalParams=="object"&&(d.originalParams.effect=z,d.originalParams.speed=ue,d.originalParams.cssMode=Je,z==="fade"?d.originalParams.fadeEffect=Object.assign({},d.originalParams.fadeEffect||{},{crossFade:!0}):d.originalParams.fadeEffect&&delete d.originalParams.fadeEffect),E(d,i),P&&!P.destroyed&&E(P,i),typeof d.update=="function"&&d.update()};typeof f.addEventListener=="function"?(f.addEventListener("change",v),le=()=>{f.removeEventListener("change",v)}):typeof f.addListener=="function"&&(f.addListener(v),le=()=>{f.removeListener(v)})}}function sn(e,t){let n=(t+1)%e.length,r=(t-1+e.length)%e.length;[n,r].forEach(s=>{var l;let i=(l=e[s])==null?void 0:l.highResUrl;if(i&&!ft.has(i)){c.log(u(o("Pr\xE9chargement de l'image %s","lightbox-jlg"),s));let p=new Image;p.src=i,ft.add(i)}})}function vr(e){if(!e||typeof Be=="undefined")return;let t=Be.get(e);typeof t!="undefined"&&h(t);let n=w(()=>{Be.delete(e);let r=e.querySelector(".mga-header");if(!r)return;let s=r.offsetHeight;s>0&&e.style.setProperty("--mga-header-offset",`${Math.ceil(s)}px`)});Be.set(e,n)}function Xe(e,t,n){if(!e||!t[n])return;let r=e.querySelector(".mga-caption-container"),s=e.querySelector("#mga-caption"),i=e.querySelector("#mga-counter"),l=r?r.querySelector(".mga-caption-live"):null,p=r?r.querySelector(".mga-caption-feedback"):null,g=e.querySelector("[data-mga-cta-container]"),f=t[n],m=f.caption||"";e.classList.toggle("mga-has-caption",!!m);let b=u(o("%1$s / %2$s","lightbox-jlg"),n+1,t.length),L=u(o("Image %1$s sur %2$s","lightbox-jlg"),n+1,t.length),C=m?`${L}. ${m}`:L;Ee.lastBaseAnnouncement=C,s&&(s.textContent=m,s.style.display=m?"":"none"),i&&(i.textContent=b),!Ee.isTemporaryMessageActive&&l&&l.textContent!==C&&(l.textContent=C),!Ee.isTemporaryMessageActive&&p&&!p.hasAttribute("hidden")&&(p.textContent="",p.setAttribute("hidden","hidden"),p.removeAttribute("data-mga-state"));let $=Array.isArray(f.ctas)?f.ctas:Array.isArray(f.ctaButtons)?f.ctaButtons:[],U=xe?$:[];if(g){for(;g.firstChild;)g.removeChild(g.firstChild);U.length?(g.removeAttribute("hidden"),g.setAttribute("role","group"),g.setAttribute("aria-label",o("Actions personnalis\xE9es","lightbox-jlg")),U.forEach((R,J)=>{if(!R||typeof R!="object")return;let T=document.createElement("a");T.className="mga-cta-button";let G=typeof R.variant=="string"&&R.variant.trim()?` mga-cta-button--${R.variant.trim().toLowerCase()}`:" mga-cta-button--primary";T.className+=G,T.textContent=R.label||"",R.url?T.href=R.url:T.href="#",R.target&&R.target!=="_self"&&(T.target=R.target);let ee=R.rel||(R.target==="_blank"?"noopener noreferrer":"");ee&&(T.rel=ee),T.setAttribute("data-mga-cta-index",String(J)),g.appendChild(T)})):(g.setAttribute("hidden","hidden"),g.removeAttribute("role"),g.removeAttribute("aria-label"))}e.classList.toggle("mga-has-cta",xe&&U.length>0),vr(e),F.isSupported&&F.isActive&&F.isActive()&&F.update(n)}function an(e){let t=e||null;if(!t&&typeof document!="undefined"&&(t=document.getElementById("mga-viewer")),!t)return{captionContainer:null,liveRegion:null,feedbackElement:null};let n=t.querySelector(".mga-caption-container");return n?{captionContainer:n,liveRegion:n.querySelector(".mga-caption-live"),feedbackElement:n.querySelector(".mga-caption-feedback")}:{captionContainer:null,liveRegion:null,feedbackElement:null}}function jt({restoreBaseAnnouncement:e=!0}={}){ge&&(clearTimeout(ge),ge=null);let{feedbackElement:t,liveRegion:n}=an();t&&(t.textContent="",t.setAttribute("hidden","hidden"),t.removeAttribute("data-mga-state")),e&&n&&(n.textContent=Ee.lastBaseAnnouncement||""),Ee.isTemporaryMessageActive=!1}function xr(e,{tone:t="info",duration:n=6e3}={}){if(!e){jt();return}let{feedbackElement:r,liveRegion:s}=an();!r&&!s||(ge&&(clearTimeout(ge),ge=null),r&&(r.textContent=e,r.removeAttribute("hidden"),t?r.setAttribute("data-mga-state",t):r.removeAttribute("data-mga-state")),s&&(s.textContent=e),Ee.isTemporaryMessageActive=!0,n>0&&typeof window!="undefined"&&typeof window.setTimeout=="function"&&(ge=window.setTimeout(()=>{jt()},n)))}document.body.addEventListener("click",function(e){let t=document.getElementById("mga-viewer");if(!t||t.style.display==="none")return;let n=Ht(e);if(!n)return;let r=t.contains(n),s=!!n.closest(".mga-share-modal"),i=!!n.closest(".mga-main-swiper"),l=!!n.closest(".mga-header"),p=!!n.closest(".mga-thumbs-swiper");if(s)return;if(n===t||r&&!i&&!l&&!p){Bn&&je(t);return}if(n.closest("#mga-close")){je(t);return}if(n.closest("#mga-play-pause")&&d&&d.autoplay){let f=d.autoplay,m=!f.running;m?f.start():f.stop(),Le(t,m)}if(Q.length)for(let f=0;f<Q.length;f+=1){let m=Q[f];if(n.closest(m.selector)){m.handler(e,t);return}}}),document.addEventListener("keydown",e=>{let t=document.getElementById("mga-viewer");if(!(!t||t.style.display==="none"))switch(e.key){case"Escape":je(t);break;case"ArrowLeft":d&&d.slidePrev();break;case"ArrowRight":d&&d.slideNext();break}}),F.isSupported&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.addEventListener("popstate",hr);let ln=e=>{let t=e&&typeof e.detail=="object"&&e.detail!==null?e.detail:{};Object.prototype.hasOwnProperty.call(t,"show_share")?ve=I(t.show_share,ve):Object.prototype.hasOwnProperty.call(t,"showShare")&&(ve=I(t.showShare,ve)),Object.prototype.hasOwnProperty.call(t,"show_cta")?xe=I(t.show_cta,xe):Object.prototype.hasOwnProperty.call(t,"showCta")&&(xe=I(t.showCta,xe)),Object.prototype.hasOwnProperty.call(t,"share_copy")?ke=I(t.share_copy,ke):Object.prototype.hasOwnProperty.call(t,"shareCopy")&&(ke=I(t.shareCopy,ke)),Object.prototype.hasOwnProperty.call(t,"share_download")?Te=I(t.share_download,Te):Object.prototype.hasOwnProperty.call(t,"shareDownload")&&(Te=I(t.shareDownload,Te)),Object.prototype.hasOwnProperty.call(t,"share_channels")?Ue=tt(t.share_channels):Object.prototype.hasOwnProperty.call(t,"shareChannels")&&(Ue=tt(t.shareChannels)),vt();let n=document.getElementById("mga-viewer");if(n&&ie&&ie.length){let r=d&&!d.destroyed?d.realIndex:0;Xe(n,ie,r)}},cn="mga:share-preferences-change";if(typeof window!="undefined"){let e=window.__mgaSharePreferencesHandler__;e&&typeof window.removeEventListener=="function"&&window.removeEventListener(cn,e),typeof window.addEventListener=="function"&&(window.addEventListener(cn,ln),window.__mgaSharePreferencesHandler__=ln)}typeof D!="undefined"&&D.exports&&(D.exports.__testExports=D.exports.__testExports||{},D.exports.__testExports.openViewer=on,D.exports.__testExports.getViewer=Ze,D.exports.__testExports.getActiveHighResUrl=qt,D.exports.__testExports.triggerImageDownload=bt,D.exports.__testExports.openSharePanel=Wt,D.exports.__testExports.getActiveImageData=yt,D.exports.__testExports.getShareChannels=()=>Ue,D.exports.__testExports.getShareOptions=()=>k&&Array.isArray(k.options)?k.options:[],D.exports.__testExports.syncShareControl=vt);function je(e,t={}){if(!e||!!!(t&&t.skipHistory)&&F.isSupported&&F.isActive&&F.isActive()&&F.beginClose())return;let{exit:r,element:s}=Qt(e);if(s)if(r)try{let i=r();i&&typeof i.catch=="function"&&i.catch(l=>c.log(u(o("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),l.message),!0))}catch(i){c.log(u(o("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),i.message),!0)}else c.log(o("API de fermeture du plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);d&&d.autoplay&&d.autoplay.stop(),Ae({restoreFocus:!1,reason:"viewer-close"}),Gt(),jt({restoreBaseAnnouncement:!1}),typeof le=="function"&&(le(),le=null),pe=null,Ie=!1,window.removeEventListener("resize",un),pt=!1,fe&&(e.removeEventListener("keydown",fe,!0),fe=null),e.style.display="none",He&&(document.body.style.paddingRight=mt),Ve&&(document.body.style.overflow=gt),qe&&document.body.classList.remove(dt),gt=null,mt=null,Ve=!1,He=!1,qe=!1,c.log(o("Galerie ferm\xE9e.","lightbox-jlg")),c.stopTimer(),ie=[],$e=null,F.isSupported&&F.finalizeClose(),X&&typeof X.focus=="function"&&Ke(X),X=null}function un(){clearTimeout(Bt),Bt=setTimeout(()=>{if(d&&d.el&&!d.destroyed){let e=d.autoplay,t=!!(e&&e.running);c.log(o("Redimensionnement d\xE9tect\xE9. Mise \xE0 jour de Swiper.","lightbox-jlg")),d.update(),P&&!P.destroyed&&P.update(),t&&d.autoplay&&typeof d.autoplay.start=="function"&&(d.autoplay.start(),c.log(o("Autoplay relanc\xE9 apr\xE8s redimensionnement.","lightbox-jlg")))}},250)}return!0}let ot=!1,Mt=()=>{if(ot)return!0;let y=zn();return y&&(ot=!0),y},Ft=()=>{let y=Mt();vn(window,{namespace:"frontend"}).catch(O=>{window.console&&typeof window.console.error=="function"&&window.console.error("[MGA] Swiper indisponible, utilisation du mode d\xE9grad\xE9.",O)}).finally(()=>{(!ot||y!==!0)&&Mt()})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ft):Ft(),typeof D!="undefined"&&D.exports&&(D.exports.updateEchoBackground=q,D.exports.updateAutoplayButtonState=Le)})()});Br();})();
//# sourceMappingURL=gallery-slideshow.js.map
