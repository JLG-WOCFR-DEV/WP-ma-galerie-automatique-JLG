(()=>{var De=(c,i)=>()=>(c&&(i=c(c=0)),i);var bn=(c,i)=>()=>(i||c((i={exports:{}}).exports,i),i.exports);var wn,vn,cr,ur,xn,dr,fr=De(()=>{wn=/%(\d+\$)?[sd]/g,vn=()=>(c,...i)=>{let d=0;return String(c).replace(wn,(j,x)=>{let v,G=j.charAt(j.length-1);if(x){let H=parseInt(x.slice(0,-1),10);if(Number.isNaN(H)||H<=0)return"";v=H-1}else v=d,d+=1;let w=v>=0&&v<i.length?i[v]:void 0;if(G==="d"){let H=parseInt(w,10);return Number.isNaN(H)?"":String(H)}return typeof w=="undefined"?"":String(w)})},cr=c=>c&&typeof c.sprintf=="function"?c.sprintf:vn(),ur=c=>c&&typeof c.__=="function"?c.__:i=>i,xn=c=>!c||typeof c!="object"?null:c.wp&&c.wp.i18n?c.wp.i18n:null,dr=()=>xn(typeof window!="undefined"?window:globalThis)});var Lt,je,Sn,pr,gr,mr=De(()=>{Lt={facebook:{viewBox:"0 0 24 24",paths:[{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.99 3.66 9.12 8.44 9.88v-6.99H8.08V12h2.36V9.88c0-2.33 1.38-3.62 3.5-3.62 0.72 0 1.48 0.13 1.48 0.13v1.63h-0.83c-0.82 0-1.08 0.51-1.08 1.04V12h1.84l-0.29 1.89h-1.55v6.99C18.34 21.12 22 16.99 22 12z"}]},twitter:{viewBox:"0 0 24 24",paths:[{d:"M22.46 6c-0.77 0.35-1.6 0.59-2.46 0.69a4.29 4.29 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04 4.28 4.28 0 0 0-7.3 3.9 12.13 12.13 0 0 1-8.82-4.47 4.28 4.28 0 0 0 1.33 5.72 4.25 4.25 0 0 1-1.94-0.54v0.05a4.28 4.28 0 0 0 3.43 4.2 4.3 4.3 0 0 1-1.93 0.07 4.28 4.28 0 0 0 4 2.97 8.58 8.58 0 0 1-5.3 1.83 12.1 12.1 0 0 0 6.56 1.92c7.88 0 12.2-6.53 12.2-12.2 0-0.19-0.01-0.39-0.01-0.58A8.7 8.7 0 0 0 22.46 6z"}]},linkedin:{viewBox:"0 0 24 24",paths:[{d:"M20.45 3H3.55A1.55 1.55 0 0 0 2 4.55v14.9C2 20.3 2.7 21 3.55 21h16.9c0.85 0 1.55-0.7 1.55-1.55V4.55C22 3.7 21.3 3 20.45 3zM8.34 18H5.67V9.67h2.67V18zM7 8.5a1.55 1.55 0 1 1 0-3.1 1.55 1.55 0 0 1 0 3.1zM18.33 18h-2.67v-4.1c0-0.98-0.02-2.24-1.36-2.24-1.36 0-1.56 1.06-1.56 2.16V18h-2.67V9.67h2.56v1.14h0.04c0.36-0.68 1.24-1.4 2.56-1.4 2.74 0 3.25 1.8 3.25 4.13V18z"}]},pinterest:{viewBox:"0 0 24 24",paths:[{d:"M12 2C6.48 2 2 6.31 2 11.42c0 3.89 2.68 7.23 6.44 8.41-0.09-0.71-0.17-1.8 0.03-2.58 0.18-0.77 1.15-4.9 1.15-4.9s-0.29-0.58-0.29-1.45c0-1.36 0.79-2.37 1.78-2.37 0.84 0 1.24 0.63 1.24 1.38 0 0.84-0.53 2.09-0.8 3.25-0.23 1 0.5 1.81 1.48 1.81 1.78 0 3.14-1.87 3.14-4.57 0-2.39-1.72-4.07-4.18-4.07-2.85 0-4.52 2.14-4.52 4.35 0 0.86 0.33 1.79 0.74 2.29 0.08 0.1 0.09 0.19 0.07 0.29-0.07 0.31-0.23 1-0.26 1.13-0.04 0.18-0.14 0.22-0.32 0.13-1.2-0.56-1.95-2.29-1.95-3.68 0-3 2.18-5.76 6.29-5.76 3.3 0 5.87 2.35 5.87 5.5 0 3.28-2.06 5.93-4.92 5.93-0.96 0-1.86-0.5-2.17-1.08l-0.59 2.24c-0.21 0.83-0.78 1.87-1.16 2.5 0.87 0.27 1.78 0.42 2.72 0.42 5.52 0 10-4.31 10-9.42C22 6.31 17.52 2 12 2z"}]},whatsapp:{viewBox:"0 0 24 24",paths:[{d:"M20.52 3.48A10.5 10.5 0 0 0 2.47 13.3l-1.45 5.28 5.4-1.41A10.5 10.5 0 1 0 20.52 3.48zm-8.5 17.54a8.75 8.75 0 0 1-4.46-1.22l-0.32-0.19-3.21 0.84 0.86-3.13-0.2-0.32a8.75 8.75 0 1 1 7.33 3.99zm4.78-6.53c-0.26-0.13-1.53-0.76-1.77-0.84-0.24-0.09-0.41-0.13-0.58 0.13-0.17 0.26-0.66 0.84-0.8 1.02-0.15 0.17-0.29 0.2-0.55 0.07-0.26-0.13-1.09-0.4-2.07-1.3-0.76-0.68-1.27-1.52-1.42-1.78-0.15-0.26-0.02-0.4 0.11-0.53 0.11-0.11 0.26-0.29 0.39-0.43 0.13-0.15 0.17-0.26 0.26-0.43 0.09-0.17 0.04-0.32-0.02-0.45-0.07-0.13-0.58-1.39-0.8-1.91-0.21-0.5-0.43-0.43-0.58-0.43-0.15 0-0.32-0.02-0.49-0.02-0.17 0-0.43 0.06-0.66 0.32-0.24 0.26-0.89 0.87-0.89 2.13s0.91 2.47 1.03 2.64c0.13 0.17 1.79 2.73 4.34 3.83 0.61 0.26 1.08 0.41 1.45 0.53 0.61 0.19 1.16 0.16 1.6 0.1 0.49-0.07 1.53-0.62 1.75-1.22 0.21-0.6 0.21-1.11 0.15-1.22-0.06-0.1-0.24-0.16-0.5-0.29z"}]},telegram:{viewBox:"0 0 24 24",paths:[{d:"M21.5 2.5l-19 7.5c-1.3 0.52-1.29 2.35 0.02 2.85l4.8 1.9 1.9 4.8c0.5 1.31 2.34 1.32 2.85 0.02l7.5-19c0.42-1.06-0.64-2.12-1.67-1.67zM10 14l-1 4-1.5-3.8 8.3-6.2-5.8 6z"}]},email:{viewBox:"0 0 24 24",paths:[{d:"M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}]},link:{viewBox:"0 0 24 24",paths:[{d:"M10.59 13.41a1 1 0 0 1 0-1.41l2-2a1 1 0 1 1 1.41 1.41l-2 2a1 1 0 0 1-1.41 0zm-2.83 2.83a3 3 0 0 1 0-4.24l2-2a3 3 0 0 1 4.24 0 1 1 0 0 1-1.41 1.41 1 1 0 0 0-1.41 0l-2 2a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l1-1a1 1 0 1 1 1.41 1.41l-1 1a3 3 0 0 1-4.24 0zm8.48-8.48a3 3 0 0 0-4.24 0l-1 1a1 1 0 0 1-1.41-1.41l1-1a5 5 0 1 1 7.07 7.07l-2 2a5 5 0 0 1-7.07 0 1 1 0 0 1 1.41-1.41 3 3 0 0 0 4.24 0l2-2a3 3 0 0 0 0-4.24z"}]},generic:{viewBox:"0 0 24 24",paths:[{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"},{d:"M13 17h-2v-2h2zm0-4h-2V7h2z"}]},copy:{viewBox:"0 0 24 24",paths:[{d:"M16 1H4a2 2 0 0 0-2 2v12h2V3h12V1zm3 4H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16H8V7h11v14z"}]},download:{viewBox:"0 0 24 24",paths:[{d:"M5 20h14v-2H5v2zm7-16v9l3.5-3.5 1.42 1.42L12 17l-4.92-4.92L8.5 10.66 12 14.17V4z"}]},native:{viewBox:"0 0 24 24",paths:[{d:"M18 16.08c-0.76 0-1.44 0.3-1.96 0.77L8.91 12.7c0.05-0.23 0.09-0.46 0.09-0.7s-0.04-0.47-0.09-0.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 0.24 0.03 0.47 0.09 0.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c0.79 0 1.5-0.31 2.03-0.82l7.05 4.12c-0.06 0.23-0.08 0.46-0.08 0.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"}]}},je=c=>typeof c!="string"?"":c.trim().toLowerCase().replace(/[^a-z0-9_-]/g,""),Sn=c=>{let i=je(c);return i&&Lt[i]?Lt[i]:Lt.generic},pr=(c,i,d={})=>{if(!c||typeof c.createElementNS!="function")return null;let j=c.createElementNS("http://www.w3.org/2000/svg",i);return Object.keys(d).forEach(x=>{j.setAttribute(x,d[x])}),j},gr=(c,i)=>{let d=Sn(i),j=pr(c,"svg",{viewBox:d.viewBox,fill:"currentColor","aria-hidden":"true",focusable:"false"});return j?(Array.isArray(d.paths)&&d.paths.forEach(x=>{let v=pr(c,"path",x);v&&j.appendChild(v)}),j):null}});var hr=De(()=>{});var En,yr,An,N,Cn,jn,Ln,_n,kn,Tn,In,br,wr=De(()=>{En=c=>c&&c.performance&&typeof c.performance.now=="function"?c.performance.now():Date.now(),yr=c=>c&&c.document||null,An=c=>c?((!c.mgaSwiperMetrics||typeof c.mgaSwiperMetrics!="object")&&(c.mgaSwiperMetrics={events:[]}),Array.isArray(c.mgaSwiperMetrics.events)||(c.mgaSwiperMetrics.events=[]),c.mgaSwiperMetrics):null,N=(c,i,d,j)=>{let x=An(c);if(x&&(x.events.push({namespace:i||"default",event:d,detail:j||{},timestamp:En(c)}),typeof c.dispatchEvent=="function"))try{let v=new c.CustomEvent("mga:swiper-metric",{detail:{namespace:i||"default",event:d,payload:j||{}}});c.dispatchEvent(v)}catch(v){}},Cn=c=>!c||typeof c!="object"?[]:(Array.isArray(c.attempts)?c.attempts:[]).map(d=>{if(!d||typeof d!="object"||d.enabled===!1)return null;let j=typeof d.key=="string"&&d.key?d.key:"fallback",x=d.js&&typeof d.js=="object"?d.js:{},v=d.css&&typeof d.css=="object"?d.css:null,G=d.inject!==!1,w=typeof x.src=="string"&&x.src?x.src:"";return w?{key:j,label:typeof d.label=="string"&&d.label?d.label:j,js:{src:w,integrity:typeof x.integrity=="string"&&x.integrity?x.integrity:null,crossOrigin:typeof x.crossOrigin=="string"&&x.crossOrigin?x.crossOrigin:null,referrerPolicy:typeof x.referrerPolicy=="string"&&x.referrerPolicy?x.referrerPolicy:null},css:v&&typeof v.href=="string"&&v.href?{href:v.href,integrity:typeof v.integrity=="string"&&v.integrity?v.integrity:null,crossOrigin:typeof v.crossOrigin=="string"&&v.crossOrigin?v.crossOrigin:null,referrerPolicy:typeof v.referrerPolicy=="string"&&v.referrerPolicy?v.referrerPolicy:null}:null,timeout:typeof d.timeout=="number"&&d.timeout>0?d.timeout:12e3,inject:G}:null}).filter(Boolean),jn=(c,i,d)=>{if(!i||!i.css)return Promise.resolve();let j=yr(c);if(!j)return Promise.resolve();let x=Array.from(j.querySelectorAll('link[rel="stylesheet"]')).find(v=>v.href===i.css.href);return x?Promise.resolve(x):new Promise((v,G)=>{let w=j.createElement("link");w.rel="stylesheet",w.href=i.css.href,w.dataset.mgaSwiperSource=i.key,i.css.integrity&&(w.integrity=i.css.integrity),i.css.crossOrigin?w.crossOrigin=i.css.crossOrigin:i.css.integrity&&(w.crossOrigin="anonymous"),i.css.referrerPolicy&&(w.referrerPolicy=i.css.referrerPolicy),w.onload=()=>{N(c,d,"css_load_success",{source:i.key}),v(w)},w.onerror=()=>{N(c,d,"css_load_error",{source:i.key}),G(new Error("Stylesheet load error"))},j.head.appendChild(w),N(c,d,"css_load_start",{source:i.key,href:i.css.href})})},Ln=(c,i,d)=>{if(!i||!i.js||!i.js.src)return Promise.reject(new Error("Invalid attempt configuration"));let j=yr(c);if(!j)return Promise.reject(new Error("Document unavailable"));let x=Array.from(j.querySelectorAll("script")).find(v=>v.src===i.js.src&&!v.hasAttribute("data-mga-swiper-failed"));return x?new Promise((v,G)=>{if(typeof c.Swiper=="function"){x.setAttribute("data-mga-swiper-loaded","true"),N(c,d,"js_already_available",{source:i.key}),v(x);return}if(typeof x.hasAttribute=="function"&&x.hasAttribute("data-mga-swiper-loaded")){v(x);return}x.addEventListener("load",()=>{x.setAttribute("data-mga-swiper-loaded","true"),v(x)}),x.addEventListener("error",()=>{x.setAttribute("data-mga-swiper-failed","true"),G(new Error("Existing script failed"))}),N(c,d,"js_existing_observed",{source:i.key})}):new Promise((v,G)=>{let w=j.createElement("script");w.src=i.js.src,w.async=!1,w.dataset.mgaSwiperSource=i.key,i.js.integrity&&(w.integrity=i.js.integrity),i.js.crossOrigin?w.crossOrigin=i.js.crossOrigin:i.js.integrity&&(w.crossOrigin="anonymous"),i.js.referrerPolicy&&(w.referrerPolicy=i.js.referrerPolicy);let H=null,ae=()=>{H&&(c.clearTimeout(H),H=null)};w.onload=()=>{ae(),w.setAttribute("data-mga-swiper-loaded","true"),N(c,d,"js_load_success",{source:i.key}),v(w)},w.onerror=()=>{ae(),w.setAttribute("data-mga-swiper-failed","true"),N(c,d,"js_load_error",{source:i.key}),G(new Error("Script load error"))},H=c.setTimeout(()=>{ae(),w.setAttribute("data-mga-swiper-failed","true"),N(c,d,"js_load_timeout",{source:i.key,timeout:i.timeout}),G(new Error("Script load timeout"))},i.timeout||12e3),j.head.appendChild(w),N(c,d,"js_load_start",{source:i.key,src:i.js.src})})},_n=c=>c?((!c.mgaSwiperLoaderState||typeof c.mgaSwiperLoaderState!="object")&&(c.mgaSwiperLoaderState={promise:null}),c.mgaSwiperLoaderState):{promise:null},kn=(c,i,d)=>!i||!i.inject?Promise.resolve():typeof c.Swiper=="function"?Promise.resolve(c.Swiper):(N(c,d,"attempt_start",{source:i.key}),jn(c,i,d).catch(()=>null).then(()=>Ln(c,i,d)).then(()=>{if(typeof c.Swiper=="function")return N(c,d,"attempt_success",{source:i.key}),c.Swiper;throw N(c,d,"attempt_no_global",{source:i.key}),new Error("Swiper global missing after load")}).catch(j=>{throw N(c,d,"attempt_error",{source:i.key,message:j&&j.message?j.message:String(j)}),j})),Tn=(c,i,d)=>i.reduce((j,x)=>j.catch(()=>kn(c,x,d)),Promise.reject(new Error("initial"))),In=(c,i)=>i&&typeof i=="object"?i:c&&c.mgaSwiperLoaderConfig&&typeof c.mgaSwiperLoaderConfig=="object"?c.mgaSwiperLoaderConfig:c&&c.mgaAdminConfig&&typeof c.mgaAdminConfig=="object"&&c.mgaAdminConfig.swiper?c.mgaAdminConfig.swiper:null,br=(c=window,i={})=>{let d=typeof i.namespace=="string"&&i.namespace?i.namespace:"default";if(!c)return Promise.reject(new Error("Global scope unavailable"));if(typeof c.Swiper=="function")return N(c,d,"already_available",{}),Promise.resolve(c.Swiper);let j=In(c,i.config),x=Cn(j);if(!x.length)return N(c,d,"no_attempts_configured",{}),Promise.reject(new Error("No Swiper attempts configured"));let v=_n(c);return v.promise||(N(c,d,"bootstrap",{version:j&&j.version?j.version:null,attempts:x.map(G=>G.key)}),v.promise=Tn(c,x,d).catch(()=>{if(typeof c.Swiper=="function")return c.Swiper;throw N(c,d,"fatal",{}),new Error("Swiper could not be loaded")}).then(()=>{if(typeof c.Swiper=="function")return N(c,d,"ready",{}),c.Swiper;throw N(c,d,"fatal",{}),new Error("Swiper global unavailable")}).finally(()=>{v.promise=null})),v.promise}});var vr=De(()=>{fr();mr();hr();wr()});var Mn=bn((Gn,D)=>{vr();(function(){"use strict";let c=dr(),i=ur(c),d=cr(c),j=typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):g=>window.setTimeout(g,0),x=typeof window.cancelAnimationFrame=="function"?window.cancelAnimationFrame.bind(window):g=>{typeof window.clearTimeout=="function"&&window.clearTimeout(g)},v=g=>typeof g!="string"||g.trim()===""?"":g.trim().split(/[-_\s]+/).filter(Boolean).map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" "),G=g=>{let E=document.createElement("span");E.className="mga-share-option__icon";let T=gr(document,je(g));return T&&E.appendChild(T),E},w=(g,E={})=>{if(!document||typeof document.createElementNS!="function")return null;let T=document.createElementNS("http://www.w3.org/2000/svg",g);return Object.keys(E||{}).forEach(C=>{T.setAttribute(C,E[C])}),T};function H(g){let E=[];Array.isArray(g)?g.forEach(C=>{E.push(C)}):g&&typeof g=="object"&&Object.keys(g).forEach(C=>{let A=g[C];A&&typeof A=="object"&&E.push(Object.assign({key:C},A))});let T=new Set;return E.reduce((C,A)=>{if(!A||typeof A!="object")return C;let ie="";typeof A.key=="string"?ie=A.key:typeof A.slug=="string"&&(ie=A.slug);let K=je(ie);if(!K&&typeof A.label=="string"&&(K=je(A.label.replace(/\s+/g,"-"))),!K||T.has(K))return C;T.add(K);let q=typeof A.label=="string"&&A.label.trim()?A.label.trim():v(K),_e=typeof A.template=="string"?A.template.trim():"",Re=je(A.icon||K)||K,ot=A.enabled===!0||A.enabled==="1"||A.enabled===1||A.enabled==="true"||A.enabled==="on";return C.push({key:K,label:q,template:_e,icon:Re,enabled:ot}),C},[])}let ae="slide",xr=600,_t="ease-out",Sr=["slide","fade","cube","coverflow","flip"],kt=new Set(["cube","coverflow","flip"]),Er=["ease","ease-in","ease-out","ease-in-out","linear"],Tt="bottom",Ar=["bottom","left","hidden"],Cr=g=>{if(typeof g!="string")return ae;let E=g.trim().toLowerCase();return Sr.includes(E)?E:ae},jr=g=>{let E=parseInt(g,10);return Number.isNaN(E)?xr:Math.min(Math.max(E,100),5e3)},Lr=g=>{if(typeof g!="string")return _t;let E=g.trim().toLowerCase();return Er.includes(E)?E:_t},_r=g=>{if(typeof g!="string")return Tt;let E=g.trim().toLowerCase();return Ar.includes(E)?E:Tt},be=(g,E)=>{!g||!g.wrapperEl||(g.wrapperEl.style.transitionTimingFunction=E)};function tt(g,E){if(!g)return;let T=g.querySelector(".mga-echo-bg");if(!T)return;let C=typeof E=="string"?E.trim():"";if(!C){let q=T.querySelector(".mga-visible");q&&(q.classList.remove("mga-visible"),setTimeout(()=>{q.parentElement&&q.parentElement.removeChild(q)},400)),g.classList.remove("mga-has-texture");return}let A=document.createElement("img");A.className="mga-echo-bg__image",A.alt="",A.setAttribute("aria-hidden","true"),A.setAttribute("role","presentation"),A.decoding="async";let ie=!1,K=()=>{if(ie)return;ie=!0;let q=T.querySelector(".mga-visible");q&&(q.classList.remove("mga-visible"),setTimeout(()=>{q.parentElement&&q.parentElement.removeChild(q)},400)),T.appendChild(A),setTimeout(()=>A.classList.add("mga-visible"),10),g.classList.remove("mga-has-texture")};A.onload=K,A.onerror=()=>{g.classList.remove("mga-has-texture")},A.src=C,A.complete&&setTimeout(()=>K())}let rt=!1,kr=()=>{if(rt||typeof Swiper!="function")return;if(typeof Swiper.use!="function"){rt=!0;return}let E=["Navigation","Autoplay","Thumbs","Zoom","Keyboard","A11y","EffectFade","EffectCube","EffectCoverflow","EffectFlip"].reduce((T,C)=>(Swiper[C]&&T.push(Swiper[C]),T),[]);E.length&&Swiper.use(E),rt=!0};function Le(g,E){if(!g)return;let T=g.querySelector("#mga-play-pause");if(!T)return;T.setAttribute("aria-pressed",E?"true":"false");let C=i(E?"Mettre le diaporama en pause":"Lancer le diaporama","lightbox-jlg");T.setAttribute("aria-label",C),T.setAttribute("title",C)}function Tr(){let g=window.mga_settings||{},E=_r(g.thumbs_layout),T=()=>{},C=(e,t=!0)=>{if(typeof e=="undefined")return t;if(typeof e=="string"){let r=e.trim().toLowerCase();if(["false","0","no","off"].includes(r))return!1;if(["true","1","yes","on"].includes(r))return!0}return typeof e=="number"?e!==0:!!e},A=C(g.include_svg,!0),ie="jpe?g|png|gif|bmp|webp|avif",K=A?`${ie}|svg`:ie,q=new RegExp(`.(${K})(?:\\?.*)?(?:#.*)?$`,"i"),_e="linked-media",Re="self-linked-media",ot=new Set([_e,Re]),it=typeof g.trigger_scenario=="string"?g.trigger_scenario.trim().toLowerCase():_e;ot.has(it)||(it=_e);let le=e=>typeof e=="string"&&/\.svg(?:\?.*)?(?:#.*)?$/i.test(e),l=window.mgaDebug||{enabled:!1,init:T,log:T,updateInfo:T,updateVisibleSlides:T,onForceOpen:T,stopTimer:T,restartTimer:T,table:T,shareAction:T},st=e=>{let t=X(e);if(!t)return[];let r=new Set,n=s=>{if(typeof s=="string"){let o=s.trim();o&&r.add(o)}};n(t);try{let s=decodeURIComponent(t);n(s)}catch(s){}try{let s=typeof window!="undefined"&&window.location?window.location.href:void 0,o=new URL(t,s);o.pathname&&n(o.pathname),o.hostname&&o.pathname&&n(`${o.hostname.toLowerCase()}${o.pathname}`)}catch(s){n(t.replace(/^\.\/+/,""))}return Array.from(r)},Ue=e=>typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(t=>t.length>0).map(t=>t.split(/\s+/)[0]).map(t=>X(t)).filter(t=>!!t),Ir=e=>{let t=new Set;if(!e)return t;let r=["src","data-mga-highres","data-full-url","data-large-file","data-orig-file","data-src","data-lazy-src"],n=s=>{let o=X(s);o&&t.add(o)};return r.forEach(s=>{e.hasAttribute&&e.hasAttribute(s)&&n(e.getAttribute(s))}),e.dataset&&["mgaHighres","fullUrl","largeFile","origFile","src","lazySrc"].forEach(s=>{e.dataset[s]&&n(e.dataset[s])}),Ue(e.srcset).forEach(s=>t.add(s)),e.dataset&&e.dataset.srcset&&Ue(e.dataset.srcset).forEach(s=>t.add(s)),t},Mr=e=>{let t=new Set;return e&&(["srcset","data-srcset","src","data-src","data-lazy-src"].forEach(r=>{if(!e.hasAttribute||!e.hasAttribute(r))return;if(r==="srcset"||r==="data-srcset"){Ue(e.getAttribute(r)).forEach(s=>t.add(s));return}let n=X(e.getAttribute(r));n&&t.add(n)}),e.dataset&&["src","lazySrc","srcset"].forEach(r=>{if(!e.dataset[r])return;if(r.toLowerCase().includes("srcset")){Ue(e.dataset[r]).forEach(s=>t.add(s));return}let n=X(e.dataset[r]);n&&t.add(n)})),t},Fr=e=>{let t=new Set;return e instanceof Element?(e.querySelectorAll("img").forEach(r=>{Ir(r).forEach(n=>{st(n).forEach(s=>t.add(s))})}),e.querySelectorAll("source").forEach(r=>{Mr(r).forEach(n=>{st(n).forEach(s=>t.add(s))})}),Array.from(t)):[]},at=e=>{if(it!==Re)return!0;if(!(e instanceof Element))return!1;let t=e.getAttribute("href"),r=X(t);if(!r||!q.test(r))return!1;let n=st(r);if(!n.length)return!1;let s=Fr(e);return s.length?n.some(o=>s.includes(o)):!1},lt=C(g.show_zoom,!0),Ft=C(g.show_download,!0),we=C(g.show_share,!0),Pt=C(g.show_fullscreen,!0),Pr=C(g.show_thumbs_mobile,!0),ve=C(g.show_cta,!0),zr=C(g.close_on_backdrop,!0),Ne=C(g.loop,!0),Or=Object.prototype.hasOwnProperty.call(g,"start_on_clicked_image")?g.start_on_clicked_image:g.startOnClickedImage,zt=C(Or,!1),ke=C(g.share_copy,!0),Te=C(g.share_download,!0),Be=H(g.share_channels),ct={copy:i("Copier le lien","lightbox-jlg"),download:i("T\xE9l\xE9chargement rapide","lightbox-jlg"),native:i("Partager via l'appareil","lightbox-jlg")},Ot=()=>{let e=[];return Be.forEach(t=>{if(!t||typeof t!="object")return;let{enabled:r,template:n}=t,s=typeof n=="string"&&n.trim()!=="";!r||!s||e.push({type:"social",key:t.key,label:t.label||v(t.key)||t.key,template:n.trim(),icon:t.icon||t.key})}),ke&&e.push({type:"copy",key:"copy",label:ct.copy,icon:"copy"}),Te&&e.push({type:"download",key:"download",label:ct.download,icon:"download"}),qt()&&e.push({type:"native",key:"native",label:ct.native,icon:"native"}),e},Dt=()=>Ot().length>0,Ve=()=>we&&Dt(),J=[],ut="mga-scroll-locked",u=null,z=null,ce=null,Ie=!1,dt=new Set,qe=new WeakMap,Rt,ft=!1,pt=null,gt=null,He=!1,$e=!1,Ge=!1,ee=null,de=null,se=[],Ke=null,I=null,xe=!1,Me=null,Fe=null,fe=null,pe=null,Se={lastBaseAnnouncement:"",isTemporaryMessageActive:!1};l.init();let mt={selector:"#mga-share",handler:e=>{e.preventDefault();let t=ht();return!t||!t.image?(l.log(i("Impossible de partager l\u2019image active.","lightbox-jlg"),!0),!0):(Gt(t.image)||l.log(i("Aucune option de partage disponible pour l\u2019image active.","lightbox-jlg"),!0),!0)}},Ut=()=>{J.includes(mt)||(J.push(mt),We())},Dr=()=>{let e=J.indexOf(mt);e!==-1&&(J.splice(e,1),We())};lt&&J.push({selector:"#mga-zoom",handler:()=>u&&u.zoom?(u.zoom.toggle(),!0):!1}),Ft&&J.push({selector:"#mga-download",handler:e=>{e.preventDefault();let t=Bt();return t?yt(t)||l.log(i("Impossible de lancer le t\xE9l\xE9chargement de l\u2019image active.","lightbox-jlg"),!0):l.log(i("URL haute r\xE9solution introuvable pour l\u2019image active.","lightbox-jlg"),!0),!0}}),Ve()&&Ut(),Pt&&J.push({selector:"#mga-fullscreen",handler:(e,t)=>{if(!t)return!1;let{request:r,exit:n,element:s}=Zt(t);if(s)if(n)try{let o=n();o&&typeof o.catch=="function"&&o.catch(a=>l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),a.message),!0))}catch(o){l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),o.message),!0)}else l.log(i("API de fermeture du plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);else if(r)try{let o=r();o&&typeof o.catch=="function"&&o.catch(a=>l.log(d(i("Erreur plein \xE9cran\xA0: %s","lightbox-jlg"),a.message),!0))}catch(o){l.log(d(i("Erreur plein \xE9cran\xA0: %s","lightbox-jlg"),o.message),!0)}else l.log(i("API plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);return!0}});function Nt(e){if(!e||!e.target)return null;let t=e.target;if(t instanceof Element)return t;if(t&&typeof t=="object"){if(t.parentElement instanceof Element)return t.parentElement;if(t.parentNode instanceof Element)return t.parentNode}return null}function ht(){if(!Array.isArray(se)||!se.length)return null;let e=u&&typeof u.activeIndex=="number"?u.activeIndex:0,t=u&&typeof u.realIndex=="number"?u.realIndex:e,r=se[t];return r?{image:r,index:t}:null}function Bt(){let e=ht();if(!e)return null;let{image:t}=e;return t&&typeof t.highResUrl=="string"&&t.highResUrl?t.highResUrl:null}function yt(e){if(typeof e!="string"||!e)return!1;if(!document.body||typeof document.body.appendChild!="function")return l.log(i("T\xE9l\xE9chargement impossible\xA0: document.body indisponible.","lightbox-jlg"),!0),!1;let t=null;try{t=document.createElement("a"),t.href=e,t.rel="noopener noreferrer";let r="image";try{let n=new URL(e,window.location.href),s=n&&typeof n.pathname=="string"?n.pathname:"";if(s){let a=s.split("/").filter(Boolean).pop();a&&(r=a)}}catch(n){}return t.download=r,document.body.appendChild(t),t.click(),!0}catch(r){return l.log(d(i("\xC9chec du t\xE9l\xE9chargement\xA0: %s","lightbox-jlg"),r.message),!0),!1}finally{t&&t.parentNode===document.body&&document.body.removeChild(t)}}function We(e){let r=e||null;if(!r){let n=document.getElementById("mga-viewer");n&&(r=n.querySelector(".mga-toolbar"))}r&&r.setAttribute("data-mga-optional-buttons",String(J.length))}function Vt(){let e=document.createElement("button");e.type="button",e.id="mga-share",e.className="mga-toolbar-button",e.setAttribute("aria-label",i("Partager l\u2019image","lightbox-jlg")),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","mga-share-modal");let t=w("svg",{class:"mga-icon mga-share-icon",viewBox:"0 0 24 24",fill:"currentColor"}),r=w("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.03.47.09.7L8.07 9.7A2.99 2.99 0 0 0 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.03-.82l7.05 4.12c-.06.23-.08.46-.08.7 0 1.65 1.34 2.99 3 2.99s3-1.34 3-2.99-1.34-3-3-3z"});return t.appendChild(r),e.appendChild(t),e}function qt(){return typeof navigator!="undefined"&&navigator&&typeof navigator.share=="function"}function bt(e){if(!we||!Dt())return null;if(I&&I.container&&I.container.parentElement===e)return I;let t=document.createElement("div");t.id="mga-share-modal",t.className="mga-share-modal",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-hidden","true"),t.setAttribute("hidden","hidden");let r=document.createElement("div");r.className="mga-share-modal__overlay",r.setAttribute("aria-hidden","true"),t.appendChild(r);let n=document.createElement("div");n.className="mga-share-modal__dialog",n.setAttribute("role","document"),n.setAttribute("tabindex","-1"),t.appendChild(n);let s=document.createElement("div");s.className="mga-share-modal__header",n.appendChild(s);let o=document.createElement("h2");o.id="mga-share-title",o.className="mga-share-modal__title",o.textContent=i("Partager cette image","lightbox-jlg"),s.appendChild(o);let a=document.createElement("button");a.type="button",a.className="mga-share-modal__close",a.setAttribute("aria-label",i("Fermer la fen\xEAtre de partage","lightbox-jlg")),a.innerHTML="&times;",s.appendChild(a);let p=document.createElement("div");p.className="mga-share-modal__body",n.appendChild(p);let m=document.createElement("p");m.id="mga-share-description",m.className="mga-share-modal__description",m.textContent=i("Choisissez une option de partage\xA0:","lightbox-jlg"),p.appendChild(m),t.setAttribute("aria-labelledby",o.id),t.setAttribute("aria-describedby",m.id);let f=document.createElement("ul");f.className="mga-share-modal__list",f.setAttribute("data-mga-share-list","true"),p.appendChild(f);let h=document.createElement("p");h.className="mga-share-modal__feedback",h.setAttribute("role","status"),h.setAttribute("aria-live","polite"),h.setAttribute("aria-atomic","true"),h.setAttribute("hidden","hidden"),p.appendChild(h),e.appendChild(t);let b=L=>{L&&typeof L.stopPropagation=="function"&&L.stopPropagation(),Ee({reason:"overlay"})},k=()=>Ee({reason:"close-button"});return r.addEventListener("click",b),a.addEventListener("click",k),f.addEventListener("click",Hr),I={container:t,dialog:n,list:f,closeButton:a,overlay:r,feedback:h,description:m,payload:null,options:[]},I}function Ht(){!I||!I.feedback||(I.feedback.textContent="",I.feedback.removeAttribute("data-mga-state"),I.feedback.setAttribute("hidden","hidden"))}function re(e,t=!1,r){if(!I||!I.feedback)return;I.feedback.textContent=e||"";let n=r||(t?"error":e?"info":"");e?I.feedback.removeAttribute("hidden"):I.feedback.setAttribute("hidden","hidden"),n?I.feedback.setAttribute("data-mga-state",n):I.feedback.removeAttribute("data-mga-state"),e&&yn(e,{tone:n||(t?"error":"info")})}function Rr(e,t,r){if(!(!e||!e.list)){for(Ht();e.list.firstChild;)e.list.removeChild(e.list.firstChild);e.options=Array.isArray(t)?t:[],e.payload=r||{},e.list.setAttribute("data-mga-share-count",String(e.options.length)),e.options.forEach(n=>{let s=document.createElement("li");s.className="mga-share-modal__item";let o=document.createElement("button");o.type="button",o.className="mga-share-option",o.setAttribute("data-share-type",n.type),o.setAttribute("data-share-key",n.key),o.setAttribute("data-share-label",n.label),n.template&&o.setAttribute("data-share-template",n.template),n.icon&&o.setAttribute("data-share-icon",n.icon);let a=document.createElement("span");a.className="mga-share-option__content";let p=G(n.icon);p&&a.appendChild(p);let m=document.createElement("span");m.className="mga-share-option__label",m.textContent=n.label,a.appendChild(m),o.appendChild(a);let f=document.createElement("span");f.className="mga-share-option__chevron",f.setAttribute("aria-hidden","true"),f.textContent="\u203A",o.appendChild(f),s.appendChild(o),e.list.appendChild(s)})}}function Ur(e){return Ot().map(t=>({...t}))}function $t(e){if(!e||!e.dialog)return[];let t=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.dialog.querySelectorAll(t.join(","))).filter(r=>!r.hasAttribute("disabled"))}function Nr(e){if(!xe||!I)return;if(e.key==="Escape"){e.preventDefault(),Ee({reason:"escape"});return}if(e.key!=="Tab")return;let t=$t(I);if(!t.length)return;let r=t[0],n=t[t.length-1],s=document.activeElement;e.shiftKey?(s===r||!I.dialog.contains(s))&&(e.preventDefault(),n.focus()):s===n&&(e.preventDefault(),r.focus())}function Br(e,t){if(!e||!e.container)return!1;e.container.removeAttribute("hidden"),e.container.setAttribute("aria-hidden","false"),e.container.classList.add("is-visible"),xe=!0,Me=t||(document.activeElement instanceof HTMLElement?document.activeElement:null),Fe=Nr,document.addEventListener("keydown",Fe,!0),t&&t.setAttribute("aria-expanded","true");let r=$t(e);return r.length?r[0].focus():e.closeButton&&e.closeButton.focus(),l.shareAction("open",{options:e.options.map(n=>n.key)}),!0}function Ee({restoreFocus:e=!0,reason:t="manual"}={}){if(!I||!I.container||!xe)return;I.container.classList.remove("is-visible"),I.container.setAttribute("aria-hidden","true"),I.container.setAttribute("hidden","hidden"),Fe&&(document.removeEventListener("keydown",Fe,!0),Fe=null);let r=document.getElementById("mga-share");r&&r.setAttribute("aria-expanded","false"),xe=!1,e&&Me&&typeof Me.focus=="function"&&Me.focus(),Me=null,l.shareAction("close",{reason:t})}function Vr(e,t){if(typeof e!="string"||!e)return"";let r=t||{},n={url:r.url||"",text:r.text||r.title||"",title:r.title||r.text||""};return e.replace(/%([a-z]+)%/gi,(s,o)=>{let a=o.toLowerCase();return Object.prototype.hasOwnProperty.call(n,a)?encodeURIComponent(n[a]):""})}function qr(e){return typeof e!="string"?Promise.reject(new Error("invalid-text")):navigator.clipboard&&typeof navigator.clipboard.writeText=="function"?navigator.clipboard.writeText(e):new Promise((t,r)=>{try{let n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select();let s=document.execCommand("copy");document.body.removeChild(n),s?t():r(new Error("execCommand-failed"))}catch(n){r(n)}})}function Hr(e){if(!I||!I.list||!xe)return;let t=e.target instanceof Element?e.target.closest("button[data-share-type]"):null;if(!t)return;e.preventDefault();let r=t.getAttribute("data-share-type"),n=t.getAttribute("data-share-key")||"",s=t.getAttribute("data-share-label")||n,o=I.payload||{};if(r==="social"){let a=t.getAttribute("data-share-template")||"",p=Vr(a,o);if(!p){re(i("Impossible de g\xE9n\xE9rer le lien de partage.","lightbox-jlg"),!0,"error"),l.shareAction("social",{target:n,success:!1,reason:"invalid-url"});return}let m=null;if(typeof window!="undefined"&&window&&typeof window.open=="function"&&(m=window.open(p,"_blank","noopener,noreferrer"),m&&typeof m=="object"&&"opener"in m))try{m.opener=null}catch(f){}m?(re(d(i("Ouverture de %s dans un nouvel onglet.","lightbox-jlg"),s),!1,"info"),l.shareAction("social",{target:n,success:!0,url:p})):(re(d(i("Impossible d\u2019ouvrir %s. V\xE9rifiez votre bloqueur de fen\xEAtres.","lightbox-jlg"),s),!0,"error"),l.shareAction("social",{target:n,success:!1,url:p}));return}if(r==="copy"){if(!o.url){re(i("Aucun lien \xE0 copier pour cette image.","lightbox-jlg"),!0,"error"),l.shareAction("copy",{success:!1,reason:"missing-url"});return}qr(o.url).then(()=>{re(i("Lien copi\xE9 dans le presse-papiers.","lightbox-jlg"),!1,"success"),l.shareAction("copy",{success:!0})}).catch(a=>{re(i("Impossible de copier le lien. Essayez le raccourci clavier.","lightbox-jlg"),!0,"error"),l.shareAction("copy",{success:!1,reason:a&&a.message?a.message:"copy-error"})});return}if(r==="download"){if(!o.url){re(i("Aucun fichier \xE0 t\xE9l\xE9charger pour cette image.","lightbox-jlg"),!0,"error"),l.shareAction("download",{success:!1,reason:"missing-url"});return}yt(o.url)?(re(i("T\xE9l\xE9chargement de l\u2019image lanc\xE9.","lightbox-jlg"),!1,"success"),l.shareAction("download",{success:!0})):(re(i("Impossible de lancer le t\xE9l\xE9chargement.","lightbox-jlg"),!0,"error"),l.shareAction("download",{success:!1}));return}if(r==="native"){if(!qt()){re(i("Le partage natif n\u2019est pas pris en charge sur ce navigateur.","lightbox-jlg"),!0,"error"),l.shareAction("native",{success:!1,reason:"unsupported"});return}try{let a=navigator.share(o);l.shareAction("native",{success:!0}),Ee({restoreFocus:!1,reason:"native-share"}),a&&typeof a.catch=="function"&&a.catch(p=>{let m=p&&p.message?p.message:i("Partage annul\xE9.","lightbox-jlg");l.shareAction("native",{success:!1,reason:m})})}catch(a){re(d(i("Partage natif impossible\xA0: %s","lightbox-jlg"),a&&a.message?a.message:"unknown"),!0,"error"),l.shareAction("native",{success:!1,reason:a&&a.message?a.message:"error"})}return}l.shareAction("unknown",{type:r})}function Gt(e){if(!e||typeof e.highResUrl!="string"||!e.highResUrl)return!1;let t=document.getElementById("mga-viewer");if(!t)return!1;let r=bt(t);if(!r)return!1;let n=typeof e.caption=="string"?e.caption.trim():"",s=typeof document!="undefined"&&document&&typeof document.title=="string"?document.title:"",o={url:e.highResUrl};n&&(o.text=n),(n||s)&&(o.title=n||s);let a=Ur(o);if(!a.length)return l.shareAction("no-options",{url:e.highResUrl}),wt(),!1;Rr(r,a,o);let p=t.querySelector("#mga-share");return!!Br(r,p||null)}function wt(){let e=Ve();e?Ut():Dr();let t=document.getElementById("mga-viewer");if(!t)return;let r=t.querySelector(".mga-toolbar"),n=t.querySelector("#mga-share");if(!e){xe&&Ee({restoreFocus:!1,reason:"share-options-removed"}),n&&n.remove(),We(r);return}if(!n&&r){let o=Vt(),a=r.querySelector("#mga-fullscreen"),p=r.querySelector("#mga-close");a&&a.parentElement===r?r.insertBefore(o,a):p&&p.parentElement===r?r.insertBefore(o,p):r.appendChild(o)}if(bt(t)){let o=t.querySelector("#mga-share");o&&(o.setAttribute("aria-controls","mga-share-modal"),o.setAttribute("aria-expanded","false"))}We(r)}function Kt(e,t){if(kr(),typeof Swiper!="function"){let U=i("ERREUR\xA0: La d\xE9pendance Swiper est introuvable. Initialisation annul\xE9e.","lightbox-jlg");return l&&typeof l.log=="function"?l.log(U,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(U),null}if(!t||!t.loop)return new Swiper(e,t);let r=e?e.querySelectorAll(".swiper-slide").length:0,s=(U=>{let R=[],W=F=>{typeof F=="number"&&!Number.isNaN(F)&&R.push(Math.ceil(F))};return W(U.slidesPerView),U.breakpoints&&typeof U.breakpoints=="object"&&Object.values(U.breakpoints).forEach(F=>{F&&typeof F=="object"&&W(F.slidesPerView)}),R.length?Math.max(...R):1})(t),o=typeof t.loopedSlides=="number"?Math.max(0,Math.floor(t.loopedSlides)):s,a=typeof t.loopAdditionalSlides=="number"?Math.max(0,Math.floor(t.loopAdditionalSlides)):0,p=typeof t.slidesPerGroup=="number"?Math.max(1,Math.floor(t.slidesPerGroup)):1,m=t.centeredSlides?1:0,f=o+a,h=Math.max(f+1,p+m+1,2);if(r>=h)return new Swiper(e,t);let b=Object.assign({},t),k=o,L=a;if(r>1){k=Math.min(o,Math.max(r-1,1));let U=Math.max(r-1-k,0);L=Math.min(a,U)}else b.loop=!1;b.loopedSlides=k,b.loopAdditionalSlides=L;let V=b.loop?`Loop ajust\xE9e (instance locale) : ${r} slide(s), boucle recalibr\xE9e \xE0 ${k} + ${L} slide(s) additionnelles.`:`Loop d\xE9sactiv\xE9e (instance locale) : ${r} slide disponible, boucle inutilisable.`;return l&&typeof l.log=="function"?l.log(V):typeof console!="undefined"&&typeof console.info=="function"&&console.info(V),new Swiper(e,b)}let $r=[{key:"ultrawide",label:i("\xC9cran ultralarge","lightbox-jlg"),minWidth:1600},{key:"desktop",label:i("Bureau","lightbox-jlg"),minWidth:1200},{key:"tablet",label:i("Tablette","lightbox-jlg"),minWidth:768},{key:"portrait",label:i("Portrait","lightbox-jlg"),minWidth:0}],Wt=e=>typeof e=="number"&&Number.isFinite(e)&&!Number.isNaN(e),Gr=(e,t)=>{if(!e||typeof e!="object")return 1;let r=e.slidesPerView,{breakpoints:n}=e;return n&&typeof n=="object"&&Object.entries(n).map(([o,a])=>({width:parseFloat(o),config:a})).filter(({width:o,config:a})=>!Number.isNaN(o)&&t>=o&&a&&typeof a=="object").sort((o,a)=>o.width-a.width).forEach(({config:o})=>{Object.prototype.hasOwnProperty.call(o,"slidesPerView")&&(r=o.slidesPerView)}),Wt(r)?Math.max(1,Math.ceil(r)):r==="auto"?"auto":1},Kr=e=>$r.map(t=>({key:t.key,label:t.label,value:Gr(e,t.minWidth)})),Wr=(e,t)=>{if(!l||typeof l.updateVisibleSlides!="function")return;let r=Kr(t),n=e&&typeof e.slidesPerViewDynamic=="function"?e.slidesPerViewDynamic():null,s=r.map(({label:o,value:a})=>a==="auto"?Wt(n)?d(i("%1$s\xA0: auto (~%2$s)","lightbox-jlg"),o,Math.max(1,Math.round(n))):d(i("%s\xA0: auto","lightbox-jlg"),o):d(i("%1$s\xA0: %2$s","lightbox-jlg"),o,a)).join(" | ");l.updateVisibleSlides(s)};function vt(e,t,r){if(!e||e.destroyed)return;let n=[t];if(typeof r!="undefined"&&n.push(r),e.params&&e.params.loop&&typeof e.slideToLoop=="function"){e.slideToLoop.apply(e,n);return}typeof e.slideTo=="function"&&e.slideTo.apply(e,n)}let ge=null;function Zr(){if(ge!==null||(ge=!1,typeof window=="undefined"||typeof document=="undefined"||typeof document.createElement!="function"||typeof HTMLElement=="undefined"||!HTMLElement.prototype||typeof HTMLElement.prototype.focus!="function"))return ge;let e=document.createElement("button"),t=document.body||document.documentElement;try{e.type="button",t&&typeof t.appendChild=="function"&&t.appendChild(e),HTMLElement.prototype.focus.call(e,{get preventScroll(){return ge=!0,!0}})}catch(r){ge=!1}finally{e.parentNode&&typeof e.parentNode.removeChild=="function"&&e.parentNode.removeChild(e)}return ge}function Ze(e,t={preventScroll:!0}){if(!e||typeof e.focus!="function")return;if(t&&Zr())try{e.focus(t);return}catch(n){}e.focus()}function Zt(e){let t=document,r=[{request:"requestFullscreen",exit:"exitFullscreen",element:"fullscreenElement"},{request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",element:"webkitFullscreenElement"},{request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",element:"webkitCurrentFullScreenElement"},{request:"mozRequestFullScreen",exit:"mozCancelFullScreen",element:"mozFullScreenElement"},{request:"msRequestFullscreen",exit:"msExitFullscreen",element:"msFullscreenElement"}],n={request:null,exit:null,element:null},s=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"];for(let o of s)if(typeof t[o]!="undefined"&&t[o]){n.element=t[o];break}for(let o of r)if(!n.request&&e&&typeof e[o.request]=="function"&&(n.request=e[o.request].bind(e)),!n.exit&&typeof t[o.exit]=="function"&&(n.exit=t[o.exit].bind(t)),n.request&&n.exit&&n.element)break;return n}function Yt(e){if(!e)return!1;if(e.hasAttribute("data-mga-allow-fallback"))return!0;if(e.dataset){let s=e.dataset.mgaAllowFallback;if(typeof s!="undefined"&&s!=="0"&&s!=="false"||e.dataset.mgaHighres)return!0;let o=e.dataset.type||e.dataset.wpType;if(typeof o=="string"&&o.toLowerCase()==="attachment")return!0}let t=e.getAttribute("rel");if(t&&t.split(/\s+/).includes("mga-allow-fallback"))return!0;let r=e.getAttribute("data-type");if(typeof r=="string"&&r.toLowerCase()==="attachment")return!0;let n=e.getAttribute("href");if(typeof n=="string"){if(/[?&]attachment_id=\d+/i.test(n)||/\/attachment\//i.test(n))return!0;try{let s=typeof window!="undefined"&&window.location?window.location.href:void 0,o=new URL(n,s);if(o.searchParams&&o.searchParams.has("attachment_id"))return!0}catch(s){}}return!1}function xt(e,t={}){if(!e)return null;let{excludeLarge:r=!1}=t,n=["data-mga-highres","data-full-url","data-large-file","data-orig-file","data-src","data-lazy-src"],s={mgaHighres:"data-mga-highres",fullUrl:"data-full-url",largeFile:"data-large-file",origFile:"data-orig-file",src:"data-src",lazySrc:"data-lazy-src"},o=[];for(let p of n){let m=e.getAttribute(p);m&&o.push({key:p,value:m.trim()})}if(e.dataset)for(let[p,m]of Object.entries(s)){let f=e.dataset[p];f&&!o.some(h=>h.key===m)&&o.push({key:m,value:f.trim()})}if(!o.length)return null;if(r){let p=new Set(["data-full-url","data-large-file","data-orig-file"]),m=["data-src","data-lazy-src","data-mga-highres"];if(o.some(h=>!p.has(h.key))){for(let b of m){let k=o.find(L=>L.key===b&&L.value);if(k)return k.value}let h=o.find(b=>!p.has(b.key)&&b.value);if(h)return h.value}}let a=o.find(p=>p.value);return a?a.value:null}function Ye(e){if(typeof e!="string")return"";let t=e.trim();return!t||/^(?:about:|javascript:)/i.test(t)||/^(?:data:|blob:)/i.test(t)?"":t}function X(e){if(typeof e!="string")return"";let t=e.trim();if(!t)return"";if(/^\/\//.test(t)){let r=typeof window!="undefined"?window.location:null,n=r&&typeof r.protocol=="string"?r.protocol.toLowerCase():"";return n==="http:"||n==="https:"?`${n}${t}`:`https:${t}`}return/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(t)?/^https?:/i.test(t)?t:"":t}function Qt(e){if(!e)return"";let t=[typeof e.currentSrc=="string"?e.currentSrc:"",typeof e.src=="string"?e.src:""];for(let n of t){let s=Ye(n);if(s)return s}let r=xt(e,{excludeLarge:!0});return Ye(r)}function Yr(e){if(!e||!e.srcset)return null;let t=e.srcset.split(",").map(r=>r.trim()).filter(r=>r.length>0).map(r=>{let n=r.split(/\s+/),s=n[0],o=0;if(n[1]){let a=n[1].trim();/^[0-9]+w$/i.test(a)?o=parseInt(a,10):/^[0-9]*\.?[0-9]+x$/i.test(a)&&(o=parseFloat(a)*1e3)}return{url:s,score:o}}).filter(r=>r.url);return t.length?(t.sort((r,n)=>n.score-r.score),t[0].url):null}function Xt(e){if(!e)return null;let t=e.getAttribute("href")||"";if(!A&&le(t))return null;let r=q.test(t),n=r||Yt(e),s=r?X(t):null;if(n&&e.dataset&&e.dataset.mgaHighres){let f=X(e.dataset.mgaHighres);if(f&&(A||!le(f)))return f}let o=e.querySelector("img");if(!o)return null;if(n){let f=xt(o),h=X(f);if(h&&(A||!le(h)))return h}if(!n)return null;let a=X(Yr(o));if(a&&(A||!le(a)))return a;if(s&&(A||!le(s)))return s;let p=X(o.currentSrc);if(p&&(A||!le(p)))return p;let m=X(o.src);return m&&(A||!le(m))?m:null}let Qr=new Set(["primary","secondary","outline"]),Xr=e=>{if(typeof e!="string")return"primary";let t=e.trim().toLowerCase();return Qr.has(t)?t:"primary"},Jr=e=>{if(typeof e!="string")return"_self";let t=e.trim().toLowerCase();switch(t){case"_blank":case"_self":case"_parent":case"_top":return t;default:return"_self"}},en=(e,t)=>typeof e=="string"&&e.trim()?e.trim():t==="_blank"?"noopener noreferrer":"",St=e=>{if(!e||typeof e!="object")return null;let t=typeof e.label=="string"?e.label.trim():"",r=typeof e.url=="string"?e.url.trim():"";if(!t||!r)return null;let n=Jr(e.target),s=en(e.rel,n),o=Xr(e.variant);return{label:t,url:r,target:n,rel:s,variant:o}},tn=e=>{if(typeof e!="string"||!e.trim())return[];try{let t=JSON.parse(e);if(Array.isArray(t))return t.map(St).filter(Boolean);let r=St(t);return r?[r]:[]}catch(t){l&&typeof l.log=="function"&&l.log(d(i("Impossible de parser les CTA personnalis\xE9s\xA0: %s","lightbox-jlg"),t.message),!0)}return[]},Ae=(e,t)=>{if(!e)return"";let r=e.getAttribute(t);return typeof r=="string"?r.trim():""},Jt=(e,t,r)=>{if(!e)return null;let n=Ae(e,`${t}-label`),s=Ae(e,`${t}-url`);if(!n||!s)return null;let o=Ae(e,`${t}-target`)||void 0,a=Ae(e,`${t}-rel`)||void 0,p=Ae(e,`${t}-variant`)||r;return St({label:n,url:s,target:o,rel:a,variant:p||r})},rn=(e,t)=>{let r=[];e instanceof Element&&r.push(e),t instanceof Element&&r.push(t);let n=[],s=new Set,o=a=>{if(!a)return;let p=`${a.label}::${a.url}`;s.has(p)||(s.add(p),n.push(a))};return r.forEach(a=>{if(!a)return;tn(Ae(a,"data-mga-cta")).forEach(o),o(Jt(a,"data-mga-cta","primary")),o(Jt(a,"data-mga-cta-secondary","secondary"))}),n},Et=e=>!Array.isArray(e)||!e.length?[]:e.reduce((t,r,n)=>{let s=r.querySelector("img");if(!s||!at(r))return t;let o=Xt(r);if(!o||!A&&le(o))return t;let a=Qt(s);if(!a){let h=Ye(o);h&&(a=h)}if(!a)return t;let p="",m=r.closest("figure");if(m){let h=m.querySelector("figcaption");h&&(p=h.textContent.trim())}p||(p=s.alt||"");let f=rn(r,s);return t.push({highResUrl:o,thumbUrl:a,caption:p,triggerIndex:n,ctas:f}),t},[]),Pe=(e,t,r,n={})=>{if(!Array.isArray(t)||!t.length)return!1;let s=Math.max(0,Math.min(parseInt(r,10)||0,t.length-1)),o=n.focusOrigin instanceof Element?n.focusOrigin:n.focusOrigin===null?null:void 0,a=null;if(o)a=o,ee=o;else if(!n.skipFocusCapture){let f=document&&document.activeElement instanceof Element?document.activeElement:null;f&&(a=f,ee=f)}let p=n.history||{},m=rr(t,s,{galleryId:e,history:p});return!m&&a&&a===ee&&(ee=null),m},ue=(()=>{if(typeof window=="undefined"||typeof window.location=="undefined")return null;try{let e=new URL(window.location.href),t=e.searchParams.get("mga");if(!t)return null;let r=t.lastIndexOf(":");if(r===-1)return null;let n=t.slice(0,r),s=t.slice(r+1);if(!n)return null;let o=decodeURIComponent(n);if(!o)return null;let a=parseInt(s,10),p=Number.isNaN(a)?0:Math.max(a-1,0),m=new URL(e.toString());return m.searchParams.delete("mga"),{galleryId:o,index:p,originalUrl:m.toString(),originalState:window.history.state}}catch(e){return l&&typeof l.log=="function"&&l.log(d(i("Lien profond invalide d\xE9tect\xE9\xA0: %s","lightbox-jlg"),e.message),!0),null}})();function Qe(){let e=document.getElementById("mga-viewer");if(!e){l.log(i("Viewer non trouv\xE9. Cr\xE9ation \xE0 la vol\xE9e...","lightbox-jlg")),e=document.createElement("div"),e.id="mga-viewer",e.className="mga-viewer mga-viewer--compact",e.classList.toggle("mga-has-caption",!1),e.style.display="none",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby","mga-viewer-title"),e.setAttribute("tabindex","-1");let t=document.createElement("span");t.id="mga-viewer-title",t.className="mga-screen-reader-text",t.textContent=i("Visionneuse d\u2019images","lightbox-jlg"),e.appendChild(t);let r=document.createElement("div");r.className="mga-echo-bg",e.appendChild(r);let n=document.createElement("div");n.className="mga-header",e.appendChild(n);let s=document.createElement("div");s.id="mga-counter",s.className="mga-counter",n.appendChild(s);let o=document.createElement("div");o.className="mga-caption-container",o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),n.appendChild(o);let a=document.createElement("p");a.id="mga-caption",a.className="mga-caption",o.appendChild(a);let p=document.createElement("span");p.className="mga-screen-reader-text mga-caption-live",o.appendChild(p);let m=document.createElement("p");m.className="mga-caption-feedback",m.setAttribute("hidden","hidden"),o.appendChild(m);let f=document.createElement("div");f.className="mga-cta-container",f.setAttribute("data-mga-cta-container","true"),f.setAttribute("hidden","hidden"),n.appendChild(f);let h=document.createElement("div");h.className="mga-toolbar",n.appendChild(h);let b=document.createElement("button");b.type="button",b.id="mga-play-pause",b.className="mga-toolbar-button",b.setAttribute("aria-pressed","false"),b.setAttribute("aria-label",i("Lancer le diaporama","lightbox-jlg")),h.appendChild(b);let k=w("svg",{class:"mga-timer-svg",viewBox:"0 0 36 36"}),L=w("path",{class:"mga-timer-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),V=w("path",{class:"mga-timer-progress",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"});k.appendChild(L),k.appendChild(V),b.appendChild(k);let U=w("svg",{class:"mga-icon mga-play-icon",viewBox:"0 0 24 24",fill:"currentColor"}),R=w("path",{d:"M8 5v14l11-7z"});U.appendChild(R),b.appendChild(U);let W=w("svg",{class:"mga-icon mga-pause-icon",viewBox:"0 0 24 24",fill:"currentColor"});W.style.display="none";let F=w("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"});if(W.appendChild(F),b.appendChild(W),Le(e,!1),lt){let S=document.createElement("button");S.type="button",S.id="mga-zoom",S.className="mga-toolbar-button",S.setAttribute("aria-label",i("Zoom","lightbox-jlg")),h.appendChild(S);let _=w("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=w("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Y=w("path",{d:"M10 9h-1v-1H8v1H7v1h1v1h1v-1h1V9z"});_.appendChild(B),_.appendChild(Y),S.appendChild(_)}if(Ft){let S=document.createElement("button");S.type="button",S.id="mga-download",S.className="mga-toolbar-button",S.setAttribute("aria-label",i("T\xE9l\xE9charger l\u2019image","lightbox-jlg")),h.appendChild(S);let _=w("svg",{class:"mga-icon mga-download-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=w("path",{d:"M5 20h14v-2H5v2zm7-16l-5 5h3v4h4v-4h3l-5-5z"});_.appendChild(B),S.appendChild(_)}if(Ve()){let S=Vt();h.appendChild(S)}if(Pt){let S=document.createElement("button");S.type="button",S.id="mga-fullscreen",S.className="mga-toolbar-button",S.setAttribute("aria-label",i("Plein \xE9cran","lightbox-jlg")),h.appendChild(S);let _=w("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),B=w("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5V14h-2v3zM14 5v2h3v3h2V5h-5z"});_.appendChild(B),S.appendChild(_)}h.setAttribute("data-mga-optional-buttons",String(J.length));let Z=document.createElement("button");Z.type="button",Z.id="mga-close",Z.className="mga-toolbar-button",Z.setAttribute("aria-label",i("Fermer","lightbox-jlg")),h.appendChild(Z);let te=w("svg",{class:"mga-icon",viewBox:"0 0 24 24",fill:"currentColor"}),ne=w("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"});te.appendChild(ne),Z.appendChild(te);let $=document.createElement("div");$.className="swiper mga-main-swiper",e.appendChild($);let M=document.createElement("div");M.className="swiper-wrapper",M.id="mga-main-wrapper",$.appendChild(M);let O=document.createElement("button");O.type="button",O.className="swiper-button-next mga-nav-button",O.id="mga-next",O.setAttribute("aria-label",i("Image suivante","lightbox-jlg")),O.setAttribute("title",i("Image suivante","lightbox-jlg")),$.appendChild(O);let y=document.createElement("button");if(y.type="button",y.className="swiper-button-prev mga-nav-button",y.id="mga-prev",y.setAttribute("aria-label",i("Image pr\xE9c\xE9dente","lightbox-jlg")),y.setAttribute("title",i("Image pr\xE9c\xE9dente","lightbox-jlg")),$.appendChild(y),E!=="hidden"){let S=document.createElement("div");S.className="swiper mga-thumbs-swiper",e.appendChild(S);let _=document.createElement("div");_.className="swiper-wrapper",_.id="mga-thumbs-wrapper",S.appendChild(_)}if(Ve()&&bt(e)){let _=e.querySelector("#mga-share");_&&_.setAttribute("aria-controls","mga-share-modal")}document.body&&typeof document.body.appendChild=="function"&&document.body.appendChild(e),e&&e.parentNode?l.log(i("Viewer cr\xE9\xE9 et ajout\xE9 au body avec succ\xE8s.","lightbox-jlg")):l.log(i("ERREUR CRITIQUE\xA0: \xC9chec de la cr\xE9ation du viewer\xA0!","lightbox-jlg"),!0)}return e}l.log(i("Script initialis\xE9 et pr\xEAt.","lightbox-jlg")),l.updateInfo("mga-debug-status",i("Pr\xEAt","lightbox-jlg"),"#4CAF50");let nn=[".wp-block-post-content",".entry-content",".post-content",".site-main",".content-area","main",".hentry","#primary","#main"],on=Array.isArray(g.contentSelectors)?g.contentSelectors:[],sn=Array.from(new Set(on.concat(nn).filter(Boolean))),me=null,Xe=i("Aucune zone d\xE9tect\xE9e","lightbox-jlg");for(let e of sn){let t=null;try{t=document.querySelector(e)}catch(r){let n=d(i("S\xE9lecteur CSS invalide ignor\xE9\xA0: %s","lightbox-jlg"),e),s=r&&r.message?` (${r.message})`:"",o=`${n}${s}`;l&&typeof l.log=="function"?l.log(o,!0):typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(o);continue}if(t){me=t,Xe=e;break}}if(!me&&g.allowBodyFallback===!0&&document.body&&(me=document.body,Xe=i("<body> (opt-in fallback)","lightbox-jlg")),!me)return l.updateInfo("mga-debug-content-area",Xe,"#F44336"),l.log(i("Aucune zone de contenu valide d\xE9tect\xE9e. Initialisation du diaporama interrompue.","lightbox-jlg"),!0),!1;l.updateInfo("mga-debug-content-area",Xe,"#4CAF50");let er="__mga-default-group__",Je=typeof g.groupAttribute=="string"?g.groupAttribute.trim():"",tr="mga-group:",an=new Set(["nofollow","noreferrer","noopener","opener","external"]),ln=e=>{if(typeof e!="string")return null;let t=e.split(/\s+/).map(r=>r.trim()).filter(Boolean);for(let r of t)if(r.toLowerCase().startsWith(tr)){let n=r.slice(tr.length).trim();if(n)return n}for(let r of t){let n=r.toLowerCase();if(!(!n||an.has(n))&&!n.includes(":"))return r}return null},At=e=>{if(!(e instanceof Element))return er;let t=ln(e.getAttribute("rel"));if(t)return`rel:${t}`;let r=[];Je&&r.push(Je),r.push("data-mga-gallery");let n=Je?Je.toLowerCase():"";for(let s of r){if(!s||s.toLowerCase()==="rel")continue;let o=e.getAttribute(s);if(typeof o!="string")continue;let a=o.trim();if(a)return`${s}:${a}`}if(n==="href"){let s=e.getAttribute("href");if(typeof s=="string"){let o=s.trim();if(o)return`href:${o}`}}return er},ze=(e=!0)=>{let t=Array.from(me.querySelectorAll("a")).filter(n=>n.querySelector("img")).filter(n=>at(n)),r=t.reduce((n,s)=>{let o=At(s);return n[o]||(n[o]=[]),n[o].push(s),n},{});if(e){let n=Object.keys(r).length,s=`${t.length} (${n} groupe${n>1?"s":""} apr\xE8s filtrage)`;l.updateInfo("mga-debug-trigger-img",s)}return r},cn={resolveLinkGroupId:At,isExplicitFallbackAllowed:Yt,sanitizeHighResUrl:X,sanitizeThumbnailUrl:Ye,resolveThumbnailUrl:Qt,getImageDataAttributes:xt,linkMatchesTriggerScenario:at};typeof D!="undefined"&&D.exports&&(D.exports.helpers=cn);let P=(()=>{if(!(typeof window!="undefined"&&window.history&&typeof window.history.pushState=="function"&&typeof window.history.replaceState=="function"))return{isSupported:!1,isActive:()=>!1,getGalleryId:()=>null,getLastIndex:()=>0,push:()=>!1,update:()=>{},beginClose:()=>!1,finalizeClose:()=>{},adoptExistingState:()=>{}};let t=!1,r=null,n=0,s=!1,o=null,a=null,p=(f,h)=>{try{let b=new URL(window.location.href),k=encodeURIComponent(f||""),L=Math.max(1,(parseInt(h,10)||0)+1);return b.searchParams.set("mga",`${k}:${L}`),b.toString()}catch(b){return null}},m=(f,h)=>({mgaViewer:{galleryId:f,index:h,returnUrl:o||window.location.href}});return{isSupported:!0,isActive:()=>t,getGalleryId:()=>r,getLastIndex:()=>n,push:(f,h,b={})=>{let k=typeof b.originalUrl=="string"?b.originalUrl:window.location.href,L=Object.prototype.hasOwnProperty.call(b,"originalState")?b.originalState:window.history.state;if(b.replaceOriginal&&k)try{window.history.replaceState(L,"",k)}catch(U){}let V=p(f,h);if(!V)return!1;try{return o=k,a=L,window.history.pushState(m(f,h),"",V),t=!0,s=!1,r=f,n=h,!0}catch(U){return!1}},update:f=>{if(!t)return;let h=p(r,f);if(h){n=f;try{window.history.replaceState(m(r,f),"",h)}catch(b){}}},beginClose:()=>{if(!t)return!1;s=!0;try{return window.history.back(),!0}catch(f){return s=!1,!1}},finalizeClose:()=>{t=!1,r=null,n=0,s=!1,o=null,a=null},adoptExistingState:(f,h,b={})=>{t=!0,r=f,n=h,s=!1,typeof b.originalUrl=="string"?o=b.originalUrl:o||(o=window.location.href),Object.prototype.hasOwnProperty.call(b,"originalState")&&(a=b.originalState)}}})(),{cleanup:un,active:dn}=(()=>{if(typeof MutationObserver!="function")return{cleanup:T,active:!1};if(!l.enabled)return{cleanup:T,active:!1};let e=new MutationObserver(()=>{ze()});return e.observe(me,{childList:!0,subtree:!0}),{cleanup:()=>e.disconnect(),active:!0}})();ze(),ue&&ue.galleryId&&setTimeout(()=>{let t=ze(!1)[ue.galleryId]||[],r=Et(t);r.length&&Pe(ue.galleryId,r,ue.index,{skipFocusCapture:!0,history:{action:"push",replaceOriginal:!0,originalUrl:ue.originalUrl,originalState:ue.originalState}}),ue=null},0),dn&&window.addEventListener("beforeunload",un),l.onForceOpen(()=>{l.log(i("Clic sur 'Forcer l'ouverture'.","lightbox-jlg"));let e=[{highResUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20600%22%3E%3Crect%20width%3D%22800%22%20height%3D%22600%22%20fill%3D%22%230073aa%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2248%22%20fill%3D%22%23ffffff%22%3EImage%20Test%201%3C%2Ftext%3E%3C%2Fsvg%3E",thumbUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20150%20150%22%3E%3Crect%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22%230073aa%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2218%22%20fill%3D%22%23ffffff%22%3EThumb%201%3C%2Ftext%3E%3C%2Fsvg%3E",caption:i("Ceci est la premi\xE8re image de test.","lightbox-jlg")},{highResUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20600%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22grad%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%22100%25%22%20y2%3D%22100%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23f44336%22%2F%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23ff9800%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%22800%22%20height%3D%22600%22%20fill%3D%22url(%23grad)%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2248%22%20fill%3D%22%23ffffff%22%3EImage%20Test%202%3C%2Ftext%3E%3C%2Fsvg%3E",thumbUrl:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20150%20150%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22gradThumb%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%22100%25%22%20y2%3D%22100%25%22%3E%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23f44336%22%2F%3E%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23ff9800%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect%20width%3D%22150%22%20height%3D%22150%22%20fill%3D%22url(%23gradThumb)%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-size%3D%2218%22%20fill%3D%22%23ffffff%22%3EThumb%202%3C%2Ftext%3E%3C%2Fsvg%3E",caption:i("Ceci est la seconde image de test.","lightbox-jlg")}],t=document.activeElement instanceof Element?document.activeElement:null;Pe("__debug__",e,0,{focusOrigin:t||null,history:{action:"push"}})||(ee=null)}),me.addEventListener("click",function(e){if(e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;let t=Nt(e);if(!t)return;let r=t.closest("a");if(r&&!r.hasAttribute("download")&&r.querySelector("img")){l.log(i("Clic sur un lien contenant une image.","lightbox-jlg"));let n=Xt(r);if(!n){l.log(i("URL haute r\xE9solution introuvable pour le lien cliqu\xE9.","lightbox-jlg"));return}let s=ze(),o=At(r),a=s[o]||[];l.log(d(i("Pr\xE9paration de la galerie pour le groupe %s.","lightbox-jlg"),o));let p=a.indexOf(r);if(p===-1){l.log(i("ERREUR\xA0: Lien d\xE9clencheur introuvable dans la collection actuelle.","lightbox-jlg"),!0);return}let m=Et(a);if(l.log(d(i("%d images valides pr\xE9par\xE9es pour la galerie.","lightbox-jlg"),m.length)),l.table(m),!m.length){l.log(i("ERREUR\xA0: Aucune image valide d\xE9tect\xE9e pour cette galerie.","lightbox-jlg"),!0);return}let f=m.findIndex(L=>L.triggerIndex===p);f===-1&&(l.log(i("ERREUR : L'image cliqu\xE9e n'a pas \xE9t\xE9 trouv\xE9e dans la galerie construite.","lightbox-jlg"),!0),l.log(d(i("URL cliqu\xE9e recherch\xE9e\xA0: %s","lightbox-jlg"),n),!0));let h=zt&&f!==-1?f:0;l&&typeof l.log=="function"&&l.log(d(i("Index initial demand\xE9 via clic\xA0: %1$d (option active\xA0: %2$s, trouv\xE9\xA0: %3$d).","lightbox-jlg"),h,i(zt?"oui":"non","lightbox-jlg"),f));let b=document.activeElement instanceof Element?document.activeElement:null;Pe(o,m,h,{focusOrigin:b||null,history:{action:"push"}})?e.preventDefault():ee=null}});let fn=e=>{if(!P.isSupported)return;let t=e&&typeof e.state=="object"&&e.state!==null?e.state:null,r=t&&typeof t.mgaViewer=="object"?t.mgaViewer:null,n=Qe();if(r&&r.galleryId){let s=r.galleryId,o=Number.isFinite(r.index)?r.index:0,a=typeof r.returnUrl=="string"?r.returnUrl:void 0,m=ze(!1)[s]||[],f=Et(m);if(!f.length){n&&n.style.display!=="none"&&Ce(n,{skipHistory:!0});return}let h={originalUrl:a,originalState:t};if(n&&n.style.display!=="none")if(Ke!==s)Ce(n,{skipHistory:!0}),Pe(s,f,o,{skipFocusCapture:!0,history:Object.assign({action:"sync"},h)});else{P.adoptExistingState(s,o,h);let b=Math.max(0,Math.min(o,f.length-1));se=f,Ke=s,u&&!u.destroyed&&vt(u,b,0),et(n,f,b)}else Pe(s,f,o,{skipFocusCapture:!0,history:Object.assign({action:"sync"},h)});return}if(P.isActive&&P.isActive()){let s=Qe();s&&s.style.display!=="none"&&Ce(s,{skipHistory:!0})}};function rr(e,t,r={}){l.log(d(i("openViewer appel\xE9 avec %1$d images, index %2$d.","lightbox-jlg"),e.length,t)),l&&typeof l.restartTimer=="function"&&l.restartTimer();let n=Qe();if(!n)return!1;let s=parseInt(t,10),o=Number.isFinite(s)?s:0,a=Math.min(Math.max(o,0),Math.max(e.length-1,0)),p=typeof r.galleryId=="string"?r.galleryId:null,m=r&&typeof r.history=="object"&&r.history!==null?r.history:{},f=typeof m.action=="string"?m.action:"push",h={originalUrl:m.originalUrl,originalState:m.originalState,replaceOriginal:m.replaceOriginal};n.className="mga-viewer mga-viewer--compact",n.classList.toggle("mga-has-caption",!1),E==="left"?n.classList.add("mga-thumbs-left"):E==="hidden"&&n.classList.add("mga-thumbs-hidden"),g.background_style==="blur"&&n.classList.add("mga-has-blur"),g.background_style==="texture"&&n.classList.add("mga-has-texture"),Pr||n.classList.add("mga-hide-thumbs-mobile");try{let R=function(M){u&&!u.destroyed&&vt(u,M),z&&!z.destroyed&&typeof z.slideTo=="function"&&z.slideTo(M),V(M)};u&&u.destroy(!0,!0),z&&z.destroy(!0,!0),u=null,z=null,dt.clear();let b=n.querySelector("#mga-main-wrapper"),k=n.querySelector("#mga-thumbs-wrapper");b.textContent="",k&&(k.textContent="");let L=[],V=M=>{if(!L.length)return;let O=!1;if(L.forEach(y=>{let S=parseInt(y.getAttribute("data-slide-index"),10);Number.isFinite(S)&&S===M?(y.setAttribute("aria-current","true"),y.setAttribute("tabindex","0"),O=!0):(y.removeAttribute("aria-current"),y.setAttribute("tabindex","-1"))}),!O){let y=L[0];y&&y.setAttribute("tabindex","0")}},U=(M,O)=>M&&M.caption?d(i("Afficher la diapositive %s\xA0: %s","lightbox-jlg"),String(O),M.caption):d(i("Afficher la diapositive %s","lightbox-jlg"),String(O));if(e.forEach((M,O)=>{let y=document.createElement("div");y.className="swiper-slide",y.setAttribute("data-slide-index",O);let S=document.createElement("div");S.className="mga-spinner",S.style.display="none",y.appendChild(S);let _=document.createElement("div");_.className="swiper-zoom-container";let B=document.createElement("img");if(B.setAttribute("loading","lazy"),B.setAttribute("src",M.highResUrl),B.setAttribute("alt",M.caption),_.appendChild(B),y.appendChild(_),b.appendChild(y),k){let Y=document.createElement("div");Y.className="swiper-slide";let Q=document.createElement("button");Q.type="button",Q.className="mga-thumb-button",Q.setAttribute("data-slide-index",String(O)),Q.setAttribute("aria-label",U(M,O+1)),Q.setAttribute("tabindex",O===a?"0":"-1");let he=document.createElement("img");he.setAttribute("loading","lazy"),he.setAttribute("src",M.thumbUrl),he.setAttribute("alt",M.caption),Q.appendChild(he);let jt=Oe=>{Oe&&Oe.preventDefault(),R(O)};Q.addEventListener("click",jt),Q.addEventListener("keydown",Oe=>{let{key:ye}=Oe;if(!["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"].includes(ye)||(Oe.preventDefault(),!L.length))return;let oe=O;ye==="Home"?oe=0:ye==="End"?oe=L.length-1:ye==="ArrowLeft"||ye==="ArrowUp"?oe=O-1:(ye==="ArrowRight"||ye==="ArrowDown")&&(oe=O+1),oe<0?oe=L.length-1:oe>=L.length&&(oe=0);let lr=L[oe];lr&&(lr.focus(),R(oe))}),L.push(Q),Y.appendChild(Q),k.appendChild(Y)}}),l.log(i("Wrappers HTML remplis avec URLs optimis\xE9es.","lightbox-jlg")),L.length?(fe=V,V(a)):fe=null,mn(n,e,a),!u){let M=i("Visionneuse annul\xE9e\xA0: Swiper n\u2019a pas pu \xEAtre initialis\xE9.","lightbox-jlg");return l&&typeof l.log=="function"?l.log(M,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(M),n.style.display="none",!1}se=Array.isArray(e)?e:[],Ke=p;let W=()=>{!u||u.destroyed||(vt(u,a,0),z&&typeof z.slideTo=="function"&&z.slideTo(a),g.background_style==="echo"&&e[a]&&e[a].highResUrl&&tt(n,e[a].highResUrl),et(n,e,a))};!!(u&&u.params&&u.params.cssMode)?(n.style.display="flex",(typeof window!="undefined"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):O=>setTimeout(O,0))(()=>{W()})):(W(),n.style.display="flex"),P.isSupported&&(f==="sync"?(P.adoptExistingState(p,a,h),P.isActive&&P.isActive()&&P.update(a)):f==="none"?P.adoptExistingState(p,a,h):(!P.push(p,a,h)&&typeof P.adoptExistingState=="function"&&P.adoptExistingState(p,a,h),P.isActive&&P.isActive()&&P.update(a))),ee||(ee=document.activeElement),gn(n);let Z=document.body.style.overflow,te=document.body.style.paddingRight;pt=Z,gt=te;let ne=0;if(typeof window!="undefined"&&typeof window.getComputedStyle=="function"){let M=window.getComputedStyle(document.body);ne=parseFloat(M.paddingRight)||0}else if(te){let M=parseFloat(te);ne=Number.isNaN(M)?0:M}let $=typeof window!="undefined"&&typeof window.innerWidth=="number"&&typeof document!="undefined"&&document.documentElement?Math.max(window.innerWidth-document.documentElement.clientWidth,0):0;return $>0?(document.body.style.paddingRight=`${ne+$}px`,$e=!0):$e=!1,document.body.classList.contains(ut)?Ge=!1:(document.body.classList.add(ut),Ge=!0),Z!=="hidden"?(document.body.style.overflow="hidden",He=!0):He=!1,l.log(i("Galerie affich\xE9e avec succ\xE8s.","lightbox-jlg")),ft||(window.addEventListener("resize",ar),ft=!0),!0}catch(b){return l.log(d(i("ERREUR dans openViewer\xA0: %s","lightbox-jlg"),b.message),!0),console.error(b),n.style.display="none",!1}}function pn(e){return Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(r=>{if(r.disabled||r.getAttribute("aria-hidden")==="true")return!1;let n=r.getBoundingClientRect();return!!(n.width||n.height||r.getClientRects().length)})}function gn(e){e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1"),de&&e.removeEventListener("keydown",de,!0),de=function(n){if(n.key!=="Tab")return;let s=pn(e);if(!s.length){n.preventDefault(),Ze(e);return}let o=s.indexOf(document.activeElement),a=o;n.shiftKey?o<=0?a=s.length-1:a=o-1:o===-1||o===s.length-1?a=0:a=o+1,n.preventDefault(),Ze(s[a])},e.addEventListener("keydown",de,!0);let t=e.querySelector("#mga-close"),r=t&&t.offsetParent!==null?t:e;r&&typeof r.focus=="function"&&Ze(r)}function mn(e,t,r=0){typeof ce=="function"&&(ce(),ce=null),Ie=!1;let n=Cr(g.effect),s=jr(g.speed),o=Lr(g.easing),a=e.querySelector(".mga-main-swiper"),p=E==="hidden"?null:e.querySelector(".mga-thumbs-swiper");if(p){let y={spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,passiveListeners:!0};E==="left"&&(y.direction="vertical",y.breakpoints={0:{direction:"horizontal"},769:{direction:"vertical"}}),z=Kt(p,y),z&&be(z,o)}else z=null;if(!z&&E!=="hidden"){let y=i("Initialisation des miniatures Swiper impossible. La visionneuse fonctionnera sans elles.","lightbox-jlg");l&&typeof l.log=="function"?l.log(y,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(y)}let m={delay:parseInt(g.delay,10)*1e3||4e3,disableOnInteraction:!1,pauseOnMouseEnter:!1},f=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,h=!!(f&&f.matches);l&&typeof l.log=="function"&&(f?l.log(d(i("Pr\xE9f\xE9rence de r\xE9duction des animations d\xE9tect\xE9e\xA0: %s.","lightbox-jlg"),i(h?"oui":"non","lightbox-jlg"))):l.log(i("Impossible de d\xE9terminer la pr\xE9f\xE9rence de r\xE9duction des animations (matchMedia indisponible).","lightbox-jlg")));let b=n,k=s,L=!1;h&&(L=!0,kt.has(b)&&(l&&typeof l.log=="function"&&l.log(i("Effet 3D d\xE9sactiv\xE9 pour respecter la pr\xE9f\xE9rence de r\xE9duction des animations.","lightbox-jlg")),b=ae),k=Math.min(k,300));let V=L&&b==="slide"&&!Ne;l&&typeof l.log=="function"&&(l.log(d(i("Effet retenu\xA0: %1$s (vitesse\xA0: %2$ims).","lightbox-jlg"),b,k)),V?l.log(i("Mode CSS activ\xE9 pour limiter les animations.","lightbox-jlg")):L&&b==="slide"&&Ne&&l.log(i("Mode CSS non activ\xE9 car incompatible avec le mode boucle.","lightbox-jlg")));let U=Math.min(Math.max(parseInt(r,10)||0,0),Math.max(t.length-1,0));l&&typeof l.log=="function"&&l.log(d(i("Index initial normalis\xE9\xA0: %1$d (boucle\xA0: %2$s, CSS mode\xA0: %3$s).","lightbox-jlg"),U,i(Ne?"oui":"non","lightbox-jlg"),i(V?"oui":"non","lightbox-jlg")));let R=()=>{l.log(i("Autoplay D\xC9MARR\xC9.","lightbox-jlg")),e.querySelector(".mga-play-icon").style.display="none",e.querySelector(".mga-pause-icon").style.display="inline-block",Le(e,!0)},W=()=>{l.log(i("Autoplay ARR\xCAT\xC9.","lightbox-jlg")),e.querySelector(".mga-play-icon").style.display="inline-block",e.querySelector(".mga-pause-icon").style.display="none";let y=e.querySelector(".mga-timer-progress");y&&(y.style.strokeDashoffset=100),l.updateInfo("mga-debug-autoplay-time",i("Stopp\xE9","lightbox-jlg")),Le(e,!1)},F={zoom:lt,spaceBetween:10,loop:Ne,effect:b,speed:k,cssMode:V,initialSlide:U,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(y){nr(t,y.realIndex),typeof fe=="function"&&fe(y.realIndex)},slideChange:function(y){et(e,t,y.realIndex),g.background_style==="echo"&&tt(e,t[y.realIndex].highResUrl),typeof fe=="function"&&fe(y.realIndex)},slideChangeTransitionEnd:function(){z&&!z.destroyed&&z.update(),nr(t,this.realIndex)},autoplayTimeLeft(y,S,_){let B=e.querySelector(".mga-timer-progress");B&&(B.style.strokeDashoffset=100-_*100),l.updateInfo("mga-debug-autoplay-time",d(i("%ss","lightbox-jlg"),(S/1e3).toFixed(2)))},slideChangeTransitionStart:function(y){let S=y.slides[y.activeIndex],_=S.querySelector("img");_&&!_.complete&&(l.log(d(i("Chargement de l'image %s...","lightbox-jlg"),S.dataset.slideIndex)),S.querySelector(".mga-spinner").style.display="block",_.onload=()=>{l.log(d(i("Image %s charg\xE9e.","lightbox-jlg"),S.dataset.slideIndex)),S.querySelector(".mga-spinner").style.display="none"})},autoplayStart:R,autoplayStop:W,touchStart:()=>{l.log(i("Interaction manuelle D\xC9TECT\xC9E (touch).","lightbox-jlg"))},sliderMove:()=>{l.log(i("Interaction manuelle D\xC9TECT\xC9E (drag).","lightbox-jlg"))}}};b==="fade"&&(F.fadeEffect={crossFade:!0}),h||(F.autoplay=Object.assign({},m)),z&&(F.thumbs={swiper:z});let Z=F.on.init;F.on.init=function(y){typeof Z=="function"&&Z.call(this,y),be(y,o)};let te=F.on.setTransition;if(F.on.setTransition=function(y){typeof te=="function"&&te.apply(this,arguments);let S=y&&y.wrapperEl?y:this;be(S,o)},typeof D!="undefined"&&D.exports&&(D.exports.__testExports=D.exports.__testExports||{},D.exports.__testExports.getAutoplayHandlers=()=>({autoplayStart:R,autoplayStop:W})),u=Kt(a,F),!u){let y=i("Initialisation du Swiper principal impossible. Visionneuse indisponible.","lightbox-jlg");l&&typeof l.log=="function"?l.log(y,!0):typeof console!="undefined"&&typeof console.error=="function"&&console.error(y);return}be(u,o);let ne=()=>{let y=u&&u.params&&typeof u.params=="object"?u.params:F;Wr(u,y)};ne(),u&&typeof u.on=="function"&&(u.on("resize",ne),u.on("breakpoint",ne),u.on("slidesLengthChange",ne));let $=u.autoplay,M=!!($&&typeof $.start=="function"&&typeof $.stop=="function"),O=()=>{if(!(!u||u.destroyed)){if(u.params&&typeof u.params=="object"){let y=u.params.autoplay&&typeof u.params.autoplay=="object"?u.params.autoplay:u.params.autoplay={};Object.assign(y,m)}if(u.originalParams&&typeof u.originalParams=="object"){let y=u.originalParams.autoplay&&typeof u.originalParams.autoplay=="object"?u.originalParams.autoplay:u.originalParams.autoplay={};Object.assign(y,m)}}};if(!M)h||l.log(i("L\u2019extension autoplay de Swiper est indisponible.","lightbox-jlg"),!0);else if(h?$.stop():(O(),g.autoplay_start?$.start():$.stop()),f){let y=S=>{if(!u||u.destroyed)return;let _=u.autoplay;if(!_||typeof _.start!="function"||typeof _.stop!="function")return;let B=!!S.matches,Y=B&&kt.has(n)?ae:n,Q=B?Math.min(s,300):s,he=B&&Y==="slide";if(B)Ie=!!_.running,_.stop(),Y!==n&&l&&typeof l.log=="function"&&l.log(i("Effet de transition r\xE9duit suite au changement de pr\xE9f\xE9rence syst\xE8me.","lightbox-jlg"));else{let jt=Ie||!!g.autoplay_start;Ie=!1,O(),Y!==n&&l&&typeof l.log=="function"&&l.log(i("Effet de transition restaur\xE9 apr\xE8s d\xE9sactivation de la r\xE9duction des animations.","lightbox-jlg")),jt?_.start():_.running&&_.stop()}b=Y,k=Q,u.params&&typeof u.params=="object"&&(u.params.effect=Y,u.params.speed=Q,u.params.cssMode=he,Y==="fade"?u.params.fadeEffect=Object.assign({},u.params.fadeEffect||{},{crossFade:!0}):u.params.fadeEffect&&delete u.params.fadeEffect),u.originalParams&&typeof u.originalParams=="object"&&(u.originalParams.effect=Y,u.originalParams.speed=Q,u.originalParams.cssMode=he,Y==="fade"?u.originalParams.fadeEffect=Object.assign({},u.originalParams.fadeEffect||{},{crossFade:!0}):u.originalParams.fadeEffect&&delete u.originalParams.fadeEffect),be(u,o),z&&!z.destroyed&&be(z,o),typeof u.update=="function"&&u.update()};typeof f.addEventListener=="function"?(f.addEventListener("change",y),ce=()=>{f.removeEventListener("change",y)}):typeof f.addListener=="function"&&(f.addListener(y),ce=()=>{f.removeListener(y)})}}function nr(e,t){let r=(t+1)%e.length,n=(t-1+e.length)%e.length;[r,n].forEach(s=>{var a;let o=(a=e[s])==null?void 0:a.highResUrl;if(o&&!dt.has(o)){l.log(d(i("Pr\xE9chargement de l'image %s","lightbox-jlg"),s));let p=new Image;p.src=o,dt.add(o)}})}function hn(e){if(!e||typeof qe=="undefined")return;let t=qe.get(e);typeof t!="undefined"&&x(t);let r=j(()=>{qe.delete(e);let n=e.querySelector(".mga-header");if(!n)return;let s=n.offsetHeight;s>0&&e.style.setProperty("--mga-header-offset",`${Math.ceil(s)}px`)});qe.set(e,r)}function et(e,t,r){if(!e||!t[r])return;let n=e.querySelector(".mga-caption-container"),s=e.querySelector("#mga-caption"),o=e.querySelector("#mga-counter"),a=n?n.querySelector(".mga-caption-live"):null,p=n?n.querySelector(".mga-caption-feedback"):null,m=e.querySelector("[data-mga-cta-container]"),f=t[r],h=f.caption||"";e.classList.toggle("mga-has-caption",!!h);let b=d(i("%1$s / %2$s","lightbox-jlg"),r+1,t.length),k=d(i("Image %1$s sur %2$s","lightbox-jlg"),r+1,t.length),L=h?`${k}. ${h}`:k;Se.lastBaseAnnouncement=L,s&&(s.textContent=h,s.style.display=h?"":"none"),o&&(o.textContent=b),!Se.isTemporaryMessageActive&&a&&a.textContent!==L&&(a.textContent=L),!Se.isTemporaryMessageActive&&p&&!p.hasAttribute("hidden")&&(p.textContent="",p.setAttribute("hidden","hidden"),p.removeAttribute("data-mga-state"));let V=Array.isArray(f.ctas)?f.ctas:Array.isArray(f.ctaButtons)?f.ctaButtons:[],U=ve?V:[];if(m){for(;m.firstChild;)m.removeChild(m.firstChild);U.length?(m.removeAttribute("hidden"),m.setAttribute("role","group"),m.setAttribute("aria-label",i("Actions personnalis\xE9es","lightbox-jlg")),U.forEach((R,W)=>{if(!R||typeof R!="object")return;let F=document.createElement("a");F.className="mga-cta-button";let Z=typeof R.variant=="string"&&R.variant.trim()?` mga-cta-button--${R.variant.trim().toLowerCase()}`:" mga-cta-button--primary";F.className+=Z,F.textContent=R.label||"",R.url?F.href=R.url:F.href="#",R.target&&R.target!=="_self"&&(F.target=R.target);let te=R.rel||(R.target==="_blank"?"noopener noreferrer":"");te&&(F.rel=te),F.setAttribute("data-mga-cta-index",String(W)),m.appendChild(F)})):(m.setAttribute("hidden","hidden"),m.removeAttribute("role"),m.removeAttribute("aria-label"))}e.classList.toggle("mga-has-cta",ve&&U.length>0),hn(e),P.isSupported&&P.isActive&&P.isActive()&&P.update(r)}function or(e){let t=e||null;if(!t&&typeof document!="undefined"&&(t=document.getElementById("mga-viewer")),!t)return{captionContainer:null,liveRegion:null,feedbackElement:null};let r=t.querySelector(".mga-caption-container");return r?{captionContainer:r,liveRegion:r.querySelector(".mga-caption-live"),feedbackElement:r.querySelector(".mga-caption-feedback")}:{captionContainer:null,liveRegion:null,feedbackElement:null}}function Ct({restoreBaseAnnouncement:e=!0}={}){pe&&(clearTimeout(pe),pe=null);let{feedbackElement:t,liveRegion:r}=or();t&&(t.textContent="",t.setAttribute("hidden","hidden"),t.removeAttribute("data-mga-state")),e&&r&&(r.textContent=Se.lastBaseAnnouncement||""),Se.isTemporaryMessageActive=!1}function yn(e,{tone:t="info",duration:r=6e3}={}){if(!e){Ct();return}let{feedbackElement:n,liveRegion:s}=or();!n&&!s||(pe&&(clearTimeout(pe),pe=null),n&&(n.textContent=e,n.removeAttribute("hidden"),t?n.setAttribute("data-mga-state",t):n.removeAttribute("data-mga-state")),s&&(s.textContent=e),Se.isTemporaryMessageActive=!0,r>0&&typeof window!="undefined"&&typeof window.setTimeout=="function"&&(pe=window.setTimeout(()=>{Ct()},r)))}document.body.addEventListener("click",function(e){let t=document.getElementById("mga-viewer");if(!t||t.style.display==="none")return;let r=Nt(e);if(!r)return;let n=t.contains(r),s=!!r.closest(".mga-share-modal"),o=!!r.closest(".mga-main-swiper"),a=!!r.closest(".mga-header"),p=!!r.closest(".mga-thumbs-swiper");if(s)return;if(r===t||n&&!o&&!a&&!p){zr&&Ce(t);return}if(r.closest("#mga-close")){Ce(t);return}if(r.closest("#mga-play-pause")&&u&&u.autoplay){let f=u.autoplay,h=!f.running;h?f.start():f.stop(),Le(t,h)}if(J.length)for(let f=0;f<J.length;f+=1){let h=J[f];if(r.closest(h.selector)){h.handler(e,t);return}}}),document.addEventListener("keydown",e=>{let t=document.getElementById("mga-viewer");if(!(!t||t.style.display==="none"))switch(e.key){case"Escape":Ce(t);break;case"ArrowLeft":u&&u.slidePrev();break;case"ArrowRight":u&&u.slideNext();break}}),P.isSupported&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.addEventListener("popstate",fn);let ir=e=>{let t=e&&typeof e.detail=="object"&&e.detail!==null?e.detail:{};Object.prototype.hasOwnProperty.call(t,"show_share")?we=C(t.show_share,we):Object.prototype.hasOwnProperty.call(t,"showShare")&&(we=C(t.showShare,we)),Object.prototype.hasOwnProperty.call(t,"show_cta")?ve=C(t.show_cta,ve):Object.prototype.hasOwnProperty.call(t,"showCta")&&(ve=C(t.showCta,ve)),Object.prototype.hasOwnProperty.call(t,"share_copy")?ke=C(t.share_copy,ke):Object.prototype.hasOwnProperty.call(t,"shareCopy")&&(ke=C(t.shareCopy,ke)),Object.prototype.hasOwnProperty.call(t,"share_download")?Te=C(t.share_download,Te):Object.prototype.hasOwnProperty.call(t,"shareDownload")&&(Te=C(t.shareDownload,Te)),Object.prototype.hasOwnProperty.call(t,"share_channels")?Be=H(t.share_channels):Object.prototype.hasOwnProperty.call(t,"shareChannels")&&(Be=H(t.shareChannels)),wt();let r=document.getElementById("mga-viewer");if(r&&se&&se.length){let n=u&&!u.destroyed?u.realIndex:0;et(r,se,n)}},sr="mga:share-preferences-change";if(typeof window!="undefined"){let e=window.__mgaSharePreferencesHandler__;e&&typeof window.removeEventListener=="function"&&window.removeEventListener(sr,e),typeof window.addEventListener=="function"&&(window.addEventListener(sr,ir),window.__mgaSharePreferencesHandler__=ir)}typeof D!="undefined"&&D.exports&&(D.exports.__testExports=D.exports.__testExports||{},D.exports.__testExports.openViewer=rr,D.exports.__testExports.getViewer=Qe,D.exports.__testExports.getActiveHighResUrl=Bt,D.exports.__testExports.triggerImageDownload=yt,D.exports.__testExports.openSharePanel=Gt,D.exports.__testExports.getActiveImageData=ht,D.exports.__testExports.getShareChannels=()=>Be,D.exports.__testExports.getShareOptions=()=>I&&Array.isArray(I.options)?I.options:[],D.exports.__testExports.syncShareControl=wt);function Ce(e,t={}){if(!e||!!!(t&&t.skipHistory)&&P.isSupported&&P.isActive&&P.isActive()&&P.beginClose())return;let{exit:n,element:s}=Zt(e);if(s)if(n)try{let o=n();o&&typeof o.catch=="function"&&o.catch(a=>l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),a.message),!0))}catch(o){l.log(d(i("Erreur de sortie du plein \xE9cran\xA0: %s","lightbox-jlg"),o.message),!0)}else l.log(i("API de fermeture du plein \xE9cran indisponible sur ce navigateur.","lightbox-jlg"),!0);u&&u.autoplay&&u.autoplay.stop(),Ee({restoreFocus:!1,reason:"viewer-close"}),Ht(),Ct({restoreBaseAnnouncement:!1}),typeof ce=="function"&&(ce(),ce=null),fe=null,Ie=!1,window.removeEventListener("resize",ar),ft=!1,de&&(e.removeEventListener("keydown",de,!0),de=null),e.style.display="none",$e&&(document.body.style.paddingRight=gt),He&&(document.body.style.overflow=pt),Ge&&document.body.classList.remove(ut),pt=null,gt=null,He=!1,$e=!1,Ge=!1,l.log(i("Galerie ferm\xE9e.","lightbox-jlg")),l.stopTimer(),se=[],Ke=null,P.isSupported&&P.finalizeClose(),ee&&typeof ee.focus=="function"&&Ze(ee),ee=null}function ar(){clearTimeout(Rt),Rt=setTimeout(()=>{if(u&&u.el&&!u.destroyed){let e=u.autoplay,t=!!(e&&e.running);l.log(i("Redimensionnement d\xE9tect\xE9. Mise \xE0 jour de Swiper.","lightbox-jlg")),u.update(),z&&!z.destroyed&&z.update(),t&&u.autoplay&&typeof u.autoplay.start=="function"&&(u.autoplay.start(),l.log(i("Autoplay relanc\xE9 apr\xE8s redimensionnement.","lightbox-jlg")))}},250)}return!0}let nt=!1,It=()=>{if(nt)return!0;let g=Tr();return g&&(nt=!0),g},Mt=()=>{let g=It();br(window,{namespace:"frontend"}).catch(E=>{window.console&&typeof window.console.error=="function"&&window.console.error("[MGA] Swiper indisponible, utilisation du mode d\xE9grad\xE9.",E)}).finally(()=>{(!nt||g!==!0)&&It()})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Mt):Mt(),typeof D!="undefined"&&D.exports&&(D.exports.updateEchoBackground=tt,D.exports.updateAutoplayButtonState=Le)})()});Mn();})();
//# sourceMappingURL=gallery-slideshow.js.map
