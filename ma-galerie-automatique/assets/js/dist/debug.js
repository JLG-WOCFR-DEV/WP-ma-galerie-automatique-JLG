(()=>{var K=/%(\d+\$)?[sd]/g,J=()=>(o,...f)=>{let r=0;return String(o).replace(K,(l,t)=>{let c,m=l.charAt(l.length-1);if(t){let u=parseInt(t.slice(0,-1),10);if(Number.isNaN(u)||u<=0)return"";c=u-1}else c=r,r+=1;let g=c>=0&&c<f.length?f[c]:void 0;if(m==="d"){let u=parseInt(g,10);return Number.isNaN(u)?"":String(u)}return typeof g=="undefined"?"":String(g)})},N=o=>o&&typeof o.sprintf=="function"?o.sprintf:J(),H=o=>o&&typeof o.__=="function"?o.__:f=>f,U=o=>!o||typeof o!="object"?null:o.wp&&o.wp.i18n?o.wp.i18n:null;(function(o){"use strict";let f=U(o),r=H(f),l=N(f),t={panel:null,logContainer:null,timerInterval:null,startTime:0,active:!1,forceOpenAttached:!1};function c(){if(t.panel)return t.panel;let e=document.getElementById("mga-debug-panel");if(e)return t.panel=e,t.logContainer=e.querySelector("#mga-debug-log"),t.panel;let n=document.createElement("div");n.id="mga-debug-panel",n.style.cssText="position: fixed; bottom: 10px; right: 10px; background: #23282d; color: #fff; border: 2px solid #0073aa; padding: 15px; font-family: monospace; font-size: 12px; z-index: 999999; max-width: 450px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);";let s=document.createElement("h4");s.style.cssText="margin: 0 0 10px; padding: 0 0 10px; border-bottom: 1px solid #444; font-size: 14px;",s.textContent=r("Debug MGA Performance","lightbox-jlg"),n.appendChild(s);let i=document.createElement("div");i.style.cssText="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; margin-bottom: 10px;";let d=document.createElement("div");d.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px; grid-column: 1 / -1;";let a=document.createElement("strong");a.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",a.textContent=r("Statut\xA0:","lightbox-jlg");let p=document.createElement("div");p.id="mga-debug-status",p.style.cssText="font-size: 14px; color: #4CAF50;",p.textContent=r("Inconnu","lightbox-jlg"),d.appendChild(a),d.appendChild(p),i.appendChild(d);let x=document.createElement("div");x.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let z=document.createElement("strong");z.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",z.textContent=r("Chronom\xE8tre r\xE9el\xA0:","lightbox-jlg");let h=document.createElement("div");h.id="mga-debug-realtime",h.style.cssText="font-size: 16px; color: #4CAF50;",h.textContent=l(r("%ss","lightbox-jlg"),"0.00"),x.appendChild(z),x.appendChild(h),i.appendChild(x);let w=document.createElement("div");w.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let _=document.createElement("strong");_.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",_.textContent=r("Timer Autoplay\xA0:","lightbox-jlg");let v=document.createElement("div");v.id="mga-debug-autoplay-time",v.style.cssText="font-size: 16px; color: #FFC107;",v.textContent=r("N/A","lightbox-jlg"),w.appendChild(_),w.appendChild(v),i.appendChild(w);let C=document.createElement("div");C.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let M=document.createElement("strong");M.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",M.textContent=r("Zone de contenu\xA0:","lightbox-jlg");let S=document.createElement("div");S.id="mga-debug-content-area",S.style.cssText="font-size: 13px; color: #03A9F4; word-break: break-all;",S.textContent=r("N/A","lightbox-jlg"),C.appendChild(M),C.appendChild(S),i.appendChild(C);let E=document.createElement("div");E.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let L=document.createElement("strong");L.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",L.textContent=r("Images d\xE9clencheuses\xA0:","lightbox-jlg");let b=document.createElement("div");b.id="mga-debug-trigger-img",b.style.cssText="font-size: 14px; color: #FFC107;",b.textContent=r("0","lightbox-jlg"),E.appendChild(L),E.appendChild(b),i.appendChild(E);let j=document.createElement("div");j.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px; grid-column: 1 / -1;";let P=document.createElement("strong");P.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",P.textContent=r("M\xE9dias visibles\xA0:","lightbox-jlg");let A=document.createElement("div");A.id="mga-debug-visible-slides",A.style.cssText="font-size: 13px; color: #FFEB3B;",A.textContent=r("N/A","lightbox-jlg"),j.appendChild(P),j.appendChild(A),i.appendChild(j),n.appendChild(i);let T=document.createElement("button");T.id="mga-force-open",T.style.cssText="background: #0073aa; color: white; border: none; padding: 8px 12px; cursor: pointer; margin-top: 10px; width: 100%;",T.textContent=r("Forcer l'ouverture (Test)","lightbox-jlg"),n.appendChild(T);let y=document.createElement("div");y.id="mga-log-container",y.style.cssText="margin-top: 15px; max-height: 200px; overflow-y: auto; background: #111; padding: 5px;";let I=document.createElement("h5");I.style.cssText="margin:0 0 5px; padding:0; color: #ccc;",I.textContent=r("Journal d'\xE9v\xE9nements\xA0:","lightbox-jlg"),y.appendChild(I);let F=document.createElement("div");return F.id="mga-debug-log",y.appendChild(F),n.appendChild(y),document.body.appendChild(n),t.panel=n,t.logContainer=F,t.forceOpenAttached=!1,n}function m(){return t.active?(t.panel||c(),!!t.panel):!1}function g(){m()&&(O(),t.startTime=performance.now(),t.timerInterval=setInterval(()=>{k("mga-debug-realtime",l(r("%ss","lightbox-jlg"),((performance.now()-t.startTime)/1e3).toFixed(2)),"#4CAF50")},100))}function u(){g()}function O(){t.timerInterval&&(clearInterval(t.timerInterval),t.timerInterval=null)}function D(){t.active?t.panel||c():(c(),t.active=!0),g()}function V(e){if(typeof e=="string")return e;if(e instanceof Error&&e.message)return e.message;if(typeof e=="object"&&e!==null)try{return JSON.stringify(e)}catch(n){return String(e)}return typeof e=="undefined"||e===null?"":String(e)}function B(e,n=!1){let s=(performance.now()/1e3).toFixed(3),i=n?"error":"log",d=V(e);if(typeof console!="undefined"&&typeof console[i]=="function"&&console[i](l(r("MGA [%1$ss]\xA0: %2$s","lightbox-jlg"),s,d)),!m()||!t.logContainer)return;let a=document.createElement("p");a.style.cssText=`margin: 2px 5px; padding: 0; color: ${n?"#F44336":"#4CAF50"}; font-size: 11px; word-break: break-all;`;let p=document.createElement("span");p.style.color="#888",p.textContent=l(r("[%ss]","lightbox-jlg"),s),a.appendChild(p),a.appendChild(document.createTextNode(" > ")),a.appendChild(document.createTextNode(d)),t.logContainer.appendChild(a),t.logContainer.scrollTop=t.logContainer.scrollHeight}function $(e,n={}){let s=typeof e=="string"&&e?e:"unknown",i=n&&typeof n=="object"&&Object.keys(n).length>0,d=i?l(r("Partage [%1$s]\xA0: %2$s","lightbox-jlg"),s,V(n)):l(r("Partage [%s]","lightbox-jlg"),s);if(B(d),i&&typeof console!="undefined"&&typeof console.table=="function")try{console.table(n)}catch(a){console.debug(n)}}function k(e,n,s="#fff"){if(!m())return;let i=document.getElementById(e);i&&(i.textContent=n,i.style.color=s)}function q(e){k("mga-debug-visible-slides",e,"#FFEB3B")}function G(e){if(!m()||typeof e!="function")return;let s=c().querySelector("#mga-force-open");s&&!t.forceOpenAttached&&(s.addEventListener("click",e),t.forceOpenAttached=!0)}function R(e){typeof console!="undefined"&&typeof console.table=="function"&&console.table(e)}o.mgaDebug={enabled:!0,init:D,log:B,updateInfo:k,updateVisibleSlides:q,onForceOpen:G,stopTimer:O,restartTimer:u,table:R,shareAction:$}})(window);})();
//# sourceMappingURL=debug.js.map
