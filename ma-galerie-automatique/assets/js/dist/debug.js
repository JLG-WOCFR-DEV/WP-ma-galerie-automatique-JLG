(()=>{var q=/%(\d+\$)?[sd]/g,J=()=>(r,...f)=>{let n=0;return String(r).replace(q,(s,t)=>{let i,m=s.charAt(s.length-1);if(t){let p=parseInt(t.slice(0,-1),10);if(Number.isNaN(p)||p<=0)return"";i=p-1}else i=n,n+=1;let g=i>=0&&i<f.length?f[i]:void 0;if(m==="d"){let p=parseInt(g,10);return Number.isNaN(p)?"":String(p)}return typeof g=="undefined"?"":String(g)})},_=r=>r&&typeof r.sprintf=="function"?r.sprintf:J(),U=r=>r&&typeof r.__=="function"?r.__:f=>f,$=r=>!r||typeof r!="object"?null:r.wp&&r.wp.i18n?r.wp.i18n:null;(function(r){"use strict";let f=$(r),n=U(f),s=_(f),t={panel:null,logContainer:null,timerInterval:null,startTime:0,active:!1,forceOpenAttached:!1};function i(){if(t.panel)return t.panel;let e=document.getElementById("mga-debug-panel");if(e)return t.panel=e,t.logContainer=e.querySelector("#mga-debug-log"),t.panel;let o=document.createElement("div");o.id="mga-debug-panel",o.style.cssText="position: fixed; bottom: 10px; right: 10px; background: #23282d; color: #fff; border: 2px solid #0073aa; padding: 15px; font-family: monospace; font-size: 12px; z-index: 999999; max-width: 450px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);";let l=document.createElement("h4");l.style.cssText="margin: 0 0 10px; padding: 0 0 10px; border-bottom: 1px solid #444; font-size: 14px;",l.textContent=n("Debug MGA Performance","lightbox-jlg"),o.appendChild(l);let c=document.createElement("div");c.style.cssText="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; margin-bottom: 10px;";let d=document.createElement("div");d.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px; grid-column: 1 / -1;";let a=document.createElement("strong");a.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",a.textContent=n("Statut\xA0:","lightbox-jlg");let u=document.createElement("div");u.id="mga-debug-status",u.style.cssText="font-size: 14px; color: #4CAF50;",u.textContent=n("Inconnu","lightbox-jlg"),d.appendChild(a),d.appendChild(u),c.appendChild(d);let h=document.createElement("div");h.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let I=document.createElement("strong");I.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",I.textContent=n("Chronom\xE8tre r\xE9el\xA0:","lightbox-jlg");let b=document.createElement("div");b.id="mga-debug-realtime",b.style.cssText="font-size: 16px; color: #4CAF50;",b.textContent=s(n("%ss","lightbox-jlg"),"0.00"),h.appendChild(I),h.appendChild(b),c.appendChild(h);let y=document.createElement("div");y.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let k=document.createElement("strong");k.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",k.textContent=n("Timer Autoplay\xA0:","lightbox-jlg");let C=document.createElement("div");C.id="mga-debug-autoplay-time",C.style.cssText="font-size: 16px; color: #FFC107;",C.textContent=n("N/A","lightbox-jlg"),y.appendChild(k),y.appendChild(C),c.appendChild(y);let v=document.createElement("div");v.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let M=document.createElement("strong");M.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",M.textContent=n("Zone de contenu\xA0:","lightbox-jlg");let w=document.createElement("div");w.id="mga-debug-content-area",w.style.cssText="font-size: 13px; color: #03A9F4; word-break: break-all;",w.textContent=n("N/A","lightbox-jlg"),v.appendChild(M),v.appendChild(w),c.appendChild(v);let E=document.createElement("div");E.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let V=document.createElement("strong");V.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",V.textContent=n("Images d\xE9clencheuses\xA0:","lightbox-jlg");let T=document.createElement("div");T.id="mga-debug-trigger-img",T.style.cssText="font-size: 14px; color: #FFC107;",T.textContent=n("0","lightbox-jlg"),E.appendChild(V),E.appendChild(T),c.appendChild(E);let z=document.createElement("div");z.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px; grid-column: 1 / -1;";let j=document.createElement("strong");j.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",j.textContent=n("M\xE9dias visibles\xA0:","lightbox-jlg");let A=document.createElement("div");A.id="mga-debug-visible-slides",A.style.cssText="font-size: 13px; color: #FFEB3B;",A.textContent=n("N/A","lightbox-jlg"),z.appendChild(j),z.appendChild(A),c.appendChild(z),o.appendChild(c);let S=document.createElement("button");S.id="mga-force-open",S.style.cssText="background: #0073aa; color: white; border: none; padding: 8px 12px; cursor: pointer; margin-top: 10px; width: 100%;",S.textContent=n("Forcer l'ouverture (Test)","lightbox-jlg"),o.appendChild(S);let x=document.createElement("div");x.id="mga-log-container",x.style.cssText="margin-top: 15px; max-height: 200px; overflow-y: auto; background: #111; padding: 5px;";let B=document.createElement("h5");B.style.cssText="margin:0 0 5px; padding:0; color: #ccc;",B.textContent=n("Journal d'\xE9v\xE9nements\xA0:","lightbox-jlg"),x.appendChild(B);let N=document.createElement("div");return N.id="mga-debug-log",x.appendChild(N),o.appendChild(x),document.body.appendChild(o),t.panel=o,t.logContainer=N,t.forceOpenAttached=!1,o}function m(){return t.active?(t.panel||i(),!!t.panel):!1}function g(){m()&&(L(),t.startTime=performance.now(),t.timerInterval=setInterval(()=>{F("mga-debug-realtime",s(n("%ss","lightbox-jlg"),((performance.now()-t.startTime)/1e3).toFixed(2)),"#4CAF50")},100))}function p(){g()}function L(){t.timerInterval&&(clearInterval(t.timerInterval),t.timerInterval=null)}function P(){t.active?t.panel||i():(i(),t.active=!0),g()}function H(e){if(typeof e=="string")return e;if(e instanceof Error&&e.message)return e.message;if(typeof e=="object"&&e!==null)try{return JSON.stringify(e)}catch(o){return String(e)}return typeof e=="undefined"||e===null?"":String(e)}function O(e,o=!1){let l=(performance.now()/1e3).toFixed(3),c=o?"error":"log",d=H(e);if(typeof console!="undefined"&&typeof console[c]=="function"&&console[c](s(n("MGA [%1$ss]\xA0: %2$s","lightbox-jlg"),l,d)),!m()||!t.logContainer)return;let a=document.createElement("p");a.style.cssText=`margin: 2px 5px; padding: 0; color: ${o?"#F44336":"#4CAF50"}; font-size: 11px; word-break: break-all;`;let u=document.createElement("span");u.style.color="#888",u.textContent=s(n("[%ss]","lightbox-jlg"),l),a.appendChild(u),a.appendChild(document.createTextNode(" > ")),a.appendChild(document.createTextNode(d)),t.logContainer.appendChild(a),t.logContainer.scrollTop=t.logContainer.scrollHeight}function D(e,o={}){let l=typeof e=="string"&&e?e:"unknown",c=o&&typeof o=="object"&&Object.keys(o).length>0,d=c?s(n("Partage [%1$s]\xA0: %2$s","lightbox-jlg"),l,H(o)):s(n("Partage [%s]","lightbox-jlg"),l);if(O(d),c&&typeof console!="undefined"&&typeof console.table=="function")try{console.table(o)}catch(a){console.debug(o)}}function F(e,o,l="#fff"){if(!m())return;let c=document.getElementById(e);c&&(c.textContent=o,c.style.color=l)}function G(e){F("mga-debug-visible-slides",e,"#FFEB3B")}function R(e){if(!m()||typeof e!="function")return;let l=i().querySelector("#mga-force-open");l&&!t.forceOpenAttached&&(l.addEventListener("click",e),t.forceOpenAttached=!0)}function K(e){typeof console!="undefined"&&typeof console.table=="function"&&console.table(e)}r.mgaDebug={enabled:!0,init:P,log:O,updateInfo:F,updateVisibleSlides:G,onForceOpen:R,stopTimer:L,restartTimer:p,table:K,shareAction:D}})(window);})();
//# sourceMappingURL=debug.js.map
