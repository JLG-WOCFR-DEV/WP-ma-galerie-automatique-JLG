(()=>{var J=/%(\d+\$)?[sd]/g,W=()=>(o,...f)=>{let n=0;return String(o).replace(J,(c,e)=>{let a,m=c.charAt(c.length-1);if(e){let u=parseInt(e.slice(0,-1),10);if(Number.isNaN(u)||u<=0)return"";a=u-1}else a=n,n+=1;let g=a>=0&&a<f.length?f[a]:void 0;if(m==="d"){let u=parseInt(g,10);return Number.isNaN(u)?"":String(u)}return typeof g=="undefined"?"":String(g)})},N=o=>o&&typeof o.sprintf=="function"?o.sprintf:W(),H=o=>o&&typeof o.__=="function"?o.__:f=>f,U=o=>!o||typeof o!="object"?null:o.wp&&o.wp.i18n?o.wp.i18n:null;(function(o){"use strict";let f=U(o),n=H(f),c=N(f),e={panel:null,logContainer:null,timerInterval:null,startTime:0,active:!1,forceOpenAttached:!1};function a(){if(e.panel)return e.panel;let t=document.getElementById("mga-debug-panel");if(t)return e.panel=t,e.logContainer=t.querySelector("#mga-debug-log"),e.panel;let r=document.createElement("div");r.id="mga-debug-panel",r.style.cssText="position: fixed; bottom: 10px; right: 10px; background: #23282d; color: #fff; border: 2px solid #0073aa; padding: 15px; font-family: monospace; font-size: 12px; z-index: 999999; max-width: 450px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);";let s=document.createElement("h4");s.style.cssText="margin: 0 0 10px; padding: 0 0 10px; border-bottom: 1px solid #444; font-size: 14px;",s.textContent=n("Debug MGA Performance","lightbox-jlg"),r.appendChild(s);let i=document.createElement("div");i.style.cssText="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; margin-bottom: 10px;";let d=document.createElement("div");d.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px; grid-column: 1 / -1;";let l=document.createElement("strong");l.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",l.textContent=n("Statut\xA0:","lightbox-jlg");let p=document.createElement("div");p.id="mga-debug-status",p.style.cssText="font-size: 14px; color: #4CAF50;",p.textContent=n("Inconnu","lightbox-jlg"),d.appendChild(l),d.appendChild(p),i.appendChild(d);let x=document.createElement("div");x.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let _=document.createElement("strong");_.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",_.textContent=n("Chronom\xE8tre r\xE9el\xA0:","lightbox-jlg");let h=document.createElement("div");h.id="mga-debug-realtime",h.style.cssText="font-size: 16px; color: #4CAF50;",h.textContent=c(n("%ss","lightbox-jlg"),"0.00"),x.appendChild(_),x.appendChild(h),i.appendChild(x);let w=document.createElement("div");w.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let M=document.createElement("strong");M.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",M.textContent=n("Timer Autoplay\xA0:","lightbox-jlg");let v=document.createElement("div");v.id="mga-debug-autoplay-time",v.style.cssText="font-size: 16px; color: #FFC107;",v.textContent=n("N/A","lightbox-jlg"),w.appendChild(M),w.appendChild(v),i.appendChild(w);let C=document.createElement("div");C.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let L=document.createElement("strong");L.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",L.textContent=n("Zone de contenu\xA0:","lightbox-jlg");let S=document.createElement("div");S.id="mga-debug-content-area",S.style.cssText="font-size: 13px; color: #03A9F4; word-break: break-all;",S.textContent=n("N/A","lightbox-jlg"),C.appendChild(L),C.appendChild(S),i.appendChild(C);let E=document.createElement("div");E.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px;";let P=document.createElement("strong");P.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",P.textContent=n("Images d\xE9clencheuses\xA0:","lightbox-jlg");let b=document.createElement("div");b.id="mga-debug-trigger-img",b.style.cssText="font-size: 14px; color: #FFC107;",b.textContent=n("0","lightbox-jlg"),E.appendChild(P),E.appendChild(b),i.appendChild(E);let j=document.createElement("div");j.style.cssText="background: #1c1f23; padding: 6px 8px; border-radius: 4px; grid-column: 1 / -1;";let I=document.createElement("strong");I.style.cssText="display: block; margin-bottom: 4px; color: #ccc;",I.textContent=n("M\xE9dias visibles\xA0:","lightbox-jlg");let A=document.createElement("div");A.id="mga-debug-visible-slides",A.style.cssText="font-size: 13px; color: #FFEB3B;",A.textContent=n("N/A","lightbox-jlg"),j.appendChild(I),j.appendChild(A),i.appendChild(j),r.appendChild(i);let T=document.createElement("button");T.id="mga-force-open",T.style.cssText="background: #0073aa; color: white; border: none; padding: 8px 12px; cursor: pointer; margin-top: 10px; width: 100%;",T.textContent=n("Forcer l'ouverture (Test)","lightbox-jlg"),r.appendChild(T);let y=document.createElement("div");y.id="mga-log-container",y.style.cssText="margin-top: 15px; max-height: 200px; overflow-y: auto; background: #111; padding: 5px;";let O=document.createElement("h5");O.style.cssText="margin:0 0 5px; padding:0; color: #ccc;",O.textContent=n("Journal d'\xE9v\xE9nements\xA0:","lightbox-jlg"),y.appendChild(O);let F=document.createElement("div");return F.id="mga-debug-log",y.appendChild(F),r.appendChild(y),document.body.appendChild(r),e.panel=r,e.logContainer=F,e.forceOpenAttached=!1,r}function m(){return e.active?(e.panel||a(),!!e.panel):!1}function g(){m()&&(k(),e.startTime=performance.now(),e.timerInterval=setInterval(()=>{z("mga-debug-realtime",c(n("%ss","lightbox-jlg"),((performance.now()-e.startTime)/1e3).toFixed(2)),"#4CAF50")},100))}function u(){g()}function k(){e.timerInterval&&(clearInterval(e.timerInterval),e.timerInterval=null)}function D(t={}){let r=typeof t=="string"?t:t&&typeof t.reason=="string"?t.reason:"manual";if(k(),e.panel&&e.panel.parentNode&&e.panel.parentNode.removeChild(e.panel),e.panel=null,e.logContainer=null,e.forceOpenAttached=!1,e.active=!1,typeof console!="undefined"&&typeof console.info=="function"){let s=r&&typeof r=="string"&&r.trim()?r.trim():"manual";console.info(c(n("Debug MGA d\xE9sactiv\xE9 (%s).","lightbox-jlg"),s))}}function G(){e.active?e.panel||a():(a(),e.active=!0),g()}function V(t){if(typeof t=="string")return t;if(t instanceof Error&&t.message)return t.message;if(typeof t=="object"&&t!==null)try{return JSON.stringify(t)}catch(r){return String(t)}return typeof t=="undefined"||t===null?"":String(t)}function B(t,r=!1){let s=(performance.now()/1e3).toFixed(3),i=r?"error":"log",d=V(t);if(typeof console!="undefined"&&typeof console[i]=="function"&&console[i](c(n("MGA [%1$ss]\xA0: %2$s","lightbox-jlg"),s,d)),!m()||!e.logContainer)return;let l=document.createElement("p");l.style.cssText=`margin: 2px 5px; padding: 0; color: ${r?"#F44336":"#4CAF50"}; font-size: 11px; word-break: break-all;`;let p=document.createElement("span");p.style.color="#888",p.textContent=c(n("[%ss]","lightbox-jlg"),s),l.appendChild(p),l.appendChild(document.createTextNode(" > ")),l.appendChild(document.createTextNode(d)),e.logContainer.appendChild(l),e.logContainer.scrollTop=e.logContainer.scrollHeight}function $(t,r={}){let s=typeof t=="string"&&t?t:"unknown",i=r&&typeof r=="object"&&Object.keys(r).length>0,d=i?c(n("Partage [%1$s]\xA0: %2$s","lightbox-jlg"),s,V(r)):c(n("Partage [%s]","lightbox-jlg"),s);if(B(d),i&&typeof console!="undefined"&&typeof console.table=="function")try{console.table(r)}catch(l){console.debug(r)}}function z(t,r,s="#fff"){if(!m())return;let i=document.getElementById(t);i&&(i.textContent=r,i.style.color=s)}function q(t){z("mga-debug-visible-slides",t,"#FFEB3B")}function R(t){if(!m()||typeof t!="function")return;let s=a().querySelector("#mga-force-open");s&&!e.forceOpenAttached&&(s.addEventListener("click",t),e.forceOpenAttached=!0)}function K(t){typeof console!="undefined"&&typeof console.table=="function"&&console.table(t)}o.mgaDebug={enabled:!0,init:G,log:B,updateInfo:z,updateVisibleSlides:q,onForceOpen:R,stopTimer:k,restartTimer:u,table:K,shareAction:$,destroy:D}})(window);})();
//# sourceMappingURL=debug.js.map
