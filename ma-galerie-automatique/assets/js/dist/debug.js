(()=>{var ce=/%(\d+\$)?[sd]/g,le=()=>(o,...m)=>{let r=0;return String(o).replace(ce,(u,e)=>{let g,d=u.charAt(u.length-1);if(e){let f=parseInt(e.slice(0,-1),10);if(Number.isNaN(f)||f<=0)return"";g=f-1}else g=r,r+=1;let E=g>=0&&g<m.length?m[g]:void 0;if(d==="d"){let f=parseInt(E,10);return Number.isNaN(f)?"":String(f)}return typeof E=="undefined"?"":String(E)})},J=o=>o&&typeof o.sprintf=="function"?o.sprintf:le(),Y=o=>o&&typeof o.__=="function"?o.__:m=>m,X=o=>!o||typeof o!="object"?null:o.wp&&o.wp.i18n?o.wp.i18n:null;(function(o){"use strict";let m=X(o),r=Y(m),u=J(m),e={panel:null,logContainer:null,contentWrapper:null,toggleButton:null,timerInterval:null,startTime:0,active:!1,forceOpenAttached:!1,announcer:null,collapsed:!1},g="mgaDebugCollapsed",d={default:"mga-debug-value--default",success:"mga-debug-value--success",warning:"mga-debug-value--warning",error:"mga-debug-value--error",info:"mga-debug-value--info",accent:"mga-debug-value--accent"},E=Object.values(d);function f(){if(e.announcer&&document.body.contains(e.announcer))return e.announcer;let t=document.getElementById("mga-debug-announcer");return t||(t=document.createElement("div"),t.id="mga-debug-announcer",t.className="mga-debug-announcer",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),document.body.appendChild(t)),e.announcer=t,t}function N(t){let n=f();n&&(n.textContent=r(t?"Panneau de debug MGA affich\xE9":"Panneau de debug MGA masqu\xE9","lightbox-jlg"))}function Z(){try{if(typeof o.localStorage=="undefined")return null;let t=o.localStorage.getItem(g);if(t==="1")return!0;if(t==="0")return!1}catch(t){}return null}function Q(t){try{if(typeof o.localStorage=="undefined")return;t?o.localStorage.setItem(g,"1"):o.localStorage.setItem(g,"0")}catch(n){}}function L(t,n={}){let{announce:i=!0,persist:s=!0}=n;if(e.collapsed=!!t,e.panel&&(e.collapsed?e.panel.classList.add("mga-debug-panel--collapsed"):e.panel.classList.remove("mga-debug-panel--collapsed"),e.panel.setAttribute("aria-expanded",e.collapsed?"false":"true")),e.contentWrapper&&(e.contentWrapper.hidden=e.collapsed),e.toggleButton){let a=e.collapsed?r("Afficher le debug","lightbox-jlg"):r("Masquer le debug","lightbox-jlg"),c=e.collapsed?r("Afficher","lightbox-jlg"):r("Masquer","lightbox-jlg");e.toggleButton.textContent=c,e.toggleButton.setAttribute("aria-label",a),e.toggleButton.setAttribute("title",a),e.toggleButton.setAttribute("aria-pressed",e.collapsed?"true":"false")}s&&Q(e.collapsed),i&&N(!e.collapsed)}function ee(){L(!e.collapsed)}function _(){if(e.panel)return e.panel;let t=document.getElementById("mga-debug-panel");if(t){e.panel=t,e.logContainer=t.querySelector("#mga-debug-log"),e.contentWrapper=t.querySelector(".mga-debug-content"),e.toggleButton=t.querySelector("#mga-debug-toggle"),e.collapsed=t.classList.contains("mga-debug-panel--collapsed");let K=f();return K&&(K.textContent=""),L(e.collapsed,{announce:!1,persist:!1}),N(!e.collapsed),e.panel}let n=document.createElement("div");n.id="mga-debug-panel",n.className="mga-debug-panel",n.setAttribute("role","region"),n.setAttribute("aria-label",r("Panneau de diagnostic MGA","lightbox-jlg")),n.setAttribute("aria-live","polite");let i=document.createElement("div");i.className="mga-debug-header",n.appendChild(i);let s=document.createElement("h4");s.className="mga-debug-title",s.textContent=r("Debug MGA Performance","lightbox-jlg"),i.appendChild(s);let a=document.createElement("button");a.id="mga-debug-toggle",a.type="button",a.className="mga-debug-toggle",a.addEventListener("click",ee),i.appendChild(a);let c=document.createElement("div");c.className="mga-debug-content",n.appendChild(c);let l=document.createElement("div");l.className="mga-debug-grid";let p=document.createElement("div");p.className="mga-debug-card mga-debug-card--full";let h=document.createElement("strong");h.className="mga-debug-label",h.textContent=r("Statut\xA0:","lightbox-jlg");let y=document.createElement("div");y.id="mga-debug-status",y.className="mga-debug-value mga-debug-status "+d.default,y.setAttribute("role","status"),y.setAttribute("aria-live","polite"),y.setAttribute("aria-atomic","true"),y.textContent=r("Inconnu","lightbox-jlg"),p.appendChild(h),p.appendChild(y),l.appendChild(p);let P=document.createElement("div");P.className="mga-debug-card";let V=document.createElement("strong");V.className="mga-debug-label",V.textContent=r("Chronom\xE8tre r\xE9el\xA0:","lightbox-jlg");let v=document.createElement("div");v.id="mga-debug-realtime",v.className="mga-debug-value "+d.success,v.setAttribute("aria-live","polite"),v.setAttribute("aria-atomic","true"),v.textContent=u(r("%ss","lightbox-jlg"),"0.00"),P.appendChild(V),P.appendChild(v),l.appendChild(P);let I=document.createElement("div");I.className="mga-debug-card";let F=document.createElement("strong");F.className="mga-debug-label",F.textContent=r("Timer Autoplay\xA0:","lightbox-jlg");let C=document.createElement("div");C.id="mga-debug-autoplay-time",C.className="mga-debug-value "+d.warning,C.setAttribute("aria-live","polite"),C.setAttribute("aria-atomic","true"),C.textContent=r("N/A","lightbox-jlg"),I.appendChild(F),I.appendChild(C),l.appendChild(I);let O=document.createElement("div");O.className="mga-debug-card";let H=document.createElement("strong");H.className="mga-debug-label",H.textContent=r("Zone de contenu\xA0:","lightbox-jlg");let x=document.createElement("div");x.id="mga-debug-content-area",x.className="mga-debug-value mga-debug-value--info mga-debug-value--wrap",x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true"),x.textContent=r("N/A","lightbox-jlg"),O.appendChild(H),O.appendChild(x),l.appendChild(O);let T=document.createElement("div");T.className="mga-debug-card";let U=document.createElement("strong");U.className="mga-debug-label",U.textContent=r("Images d\xE9clencheuses\xA0:","lightbox-jlg");let A=document.createElement("div");A.id="mga-debug-trigger-img",A.className="mga-debug-value "+d.warning,A.setAttribute("aria-live","polite"),A.setAttribute("aria-atomic","true"),A.textContent=r("0","lightbox-jlg"),T.appendChild(U),T.appendChild(A),l.appendChild(T);let z=document.createElement("div");z.className="mga-debug-card mga-debug-card--full";let D=document.createElement("strong");D.className="mga-debug-label",D.textContent=r("M\xE9dias visibles\xA0:","lightbox-jlg");let S=document.createElement("div");S.id="mga-debug-visible-slides",S.className="mga-debug-value "+d.accent,S.setAttribute("aria-live","polite"),S.setAttribute("aria-atomic","true"),S.textContent=r("N/A","lightbox-jlg"),z.appendChild(D),z.appendChild(S),l.appendChild(z),c.appendChild(l);let j=document.createElement("button");j.id="mga-force-open",j.type="button",j.className="mga-debug-button",j.textContent=r("Forcer l'ouverture (Test)","lightbox-jlg"),c.appendChild(j);let b=document.createElement("div");b.id="mga-log-container",b.className="mga-debug-log-container",b.setAttribute("role","region"),b.setAttribute("aria-label",r("Journal d'\xE9v\xE9nements","lightbox-jlg"));let q=document.createElement("h5");q.className="mga-debug-log-title",q.textContent=r("Journal d'\xE9v\xE9nements\xA0:","lightbox-jlg"),b.appendChild(q);let w=document.createElement("div");w.id="mga-debug-log",w.className="mga-debug-log",w.setAttribute("role","log"),w.setAttribute("aria-live","polite"),w.setAttribute("aria-relevant","additions"),b.appendChild(w),c.appendChild(b),document.body.appendChild(n),e.panel=n,e.logContainer=w,e.contentWrapper=c,e.toggleButton=a,e.forceOpenAttached=!1,Z()===!0?L(!0,{announce:!1,persist:!1}):L(!1,{announce:!1,persist:!1});let $=f();return $&&($.textContent=""),N(!e.collapsed),n}function M(){return e.active?(e.panel||_(),!!e.panel):!1}function G(){M()&&(k(),e.startTime=performance.now(),e.timerInterval=setInterval(()=>{B("mga-debug-realtime",u(r("%ss","lightbox-jlg"),((performance.now()-e.startTime)/1e3).toFixed(2)),"success")},100))}function te(){G()}function k(){e.timerInterval&&(clearInterval(e.timerInterval),e.timerInterval=null)}function ne(t={}){let n=typeof t=="string"?t:t&&typeof t.reason=="string"?t.reason:"manual";if(k(),e.panel&&e.panel.setAttribute("aria-expanded","false"),N(!1),e.panel&&e.panel.parentNode&&e.panel.parentNode.removeChild(e.panel),e.panel=null,e.logContainer=null,e.contentWrapper=null,e.toggleButton=null,e.forceOpenAttached=!1,e.collapsed=!1,e.active=!1,typeof console!="undefined"&&typeof console.info=="function"){let i=n&&typeof n=="string"&&n.trim()?n.trim():"manual";console.info(u(r("Debug MGA d\xE9sactiv\xE9 (%s).","lightbox-jlg"),i))}}function re(){e.active?e.panel||_():(_(),e.active=!0),G()}function W(t){if(typeof t=="string")return t;if(t instanceof Error&&t.message)return t.message;if(typeof t=="object"&&t!==null)try{return JSON.stringify(t)}catch(n){return String(t)}return typeof t=="undefined"||t===null?"":String(t)}function R(t,n=!1){let i=(performance.now()/1e3).toFixed(3),s=n?"error":"log",a=W(t);if(typeof console!="undefined"&&typeof console[s]=="function"&&console[s](u(r("MGA [%1$ss]\xA0: %2$s","lightbox-jlg"),i,a)),!M()||!e.logContainer)return;let c=document.createElement("p");c.className="mga-debug-log-entry "+(n?"mga-debug-log-entry--error":"mga-debug-log-entry--info");let l=document.createElement("span");l.className="mga-debug-log-timestamp",l.textContent=u(r("[%ss]","lightbox-jlg"),i),c.appendChild(l);let p=document.createElement("span");p.className="mga-debug-log-separator",p.setAttribute("aria-hidden","true"),p.textContent=" \u203A ",c.appendChild(p);let h=document.createElement("span");h.className="mga-debug-log-message",h.textContent=a,c.appendChild(h),e.logContainer.appendChild(c),e.logContainer.scrollTop=e.logContainer.scrollHeight}function oe(t,n={}){let i=typeof t=="string"&&t?t:"unknown",s=n&&typeof n=="object"&&Object.keys(n).length>0,a=s?u(r("Partage [%1$s]\xA0: %2$s","lightbox-jlg"),i,W(n)):u(r("Partage [%s]","lightbox-jlg"),i);if(R(a),s&&typeof console!="undefined"&&typeof console.table=="function")try{console.table(n)}catch(c){console.debug(n)}}function B(t,n,i="default"){if(!M())return;let s=document.getElementById(t);if(s&&(s.textContent=n,s.classList)){s.classList.add("mga-debug-value"),s.classList.remove(...E);let a=d[i]||d.default;s.classList.add(a)}}function ie(t){B("mga-debug-visible-slides",t,"accent")}function se(t){if(!M()||typeof t!="function")return;let i=_().querySelector("#mga-force-open");i&&!e.forceOpenAttached&&(i.addEventListener("click",t),e.forceOpenAttached=!0)}function ae(t){typeof console!="undefined"&&typeof console.table=="function"&&console.table(t)}o.mgaDebug={enabled:!0,init:re,log:R,updateInfo:B,updateVisibleSlides:ie,onForceOpen:se,stopTimer:k,restartTimer:te,table:ae,shareAction:oe,destroy:ne}})(window);})();
//# sourceMappingURL=debug.js.map
