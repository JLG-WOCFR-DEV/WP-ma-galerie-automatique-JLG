(()=>{var Q=/%(\d+\$)?[sd]/g,ee=()=>(o,...p)=>{let n=0;return String(o).replace(Q,(l,t)=>{let a,P=l.charAt(l.length-1);if(t){let d=parseInt(t.slice(0,-1),10);if(Number.isNaN(d)||d<=0)return"";a=d-1}else a=n,n+=1;let m=a>=0&&a<p.length?p[a]:void 0;if(P==="d"){let d=parseInt(m,10);return Number.isNaN(d)?"":String(d)}return typeof m=="undefined"?"":String(m)})},G=o=>o&&typeof o.sprintf=="function"?o.sprintf:ee(),q=o=>o&&typeof o.__=="function"?o.__:p=>p,$=o=>!o||typeof o!="object"?null:o.wp&&o.wp.i18n?o.wp.i18n:null;(function(o){"use strict";let p=$(o),n=q(p),l=G(p),t={panel:null,logContainer:null,timerInterval:null,startTime:0,active:!1,forceOpenAttached:!1,announcer:null},a={default:"mga-debug-value--default",success:"mga-debug-value--success",warning:"mga-debug-value--warning",error:"mga-debug-value--error",info:"mga-debug-value--info",accent:"mga-debug-value--accent"},P=Object.values(a);function m(){if(t.announcer&&document.body.contains(t.announcer))return t.announcer;let e=document.getElementById("mga-debug-announcer");return e||(e=document.createElement("div"),e.id="mga-debug-announcer",e.className="mga-debug-announcer",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),document.body.appendChild(e)),t.announcer=e,e}function d(e){let r=m();r&&(r.textContent=n(e?"Panneau de debug MGA affich\xE9":"Panneau de debug MGA masqu\xE9","lightbox-jlg"))}function E(){if(t.panel)return t.panel;let e=document.getElementById("mga-debug-panel");if(e){t.panel=e,t.logContainer=e.querySelector("#mga-debug-log"),t.panel.setAttribute("aria-expanded","true");let D=m();return D&&(D.textContent=""),d(!0),t.panel}let r=document.createElement("div");r.id="mga-debug-panel",r.className="mga-debug-panel",r.setAttribute("role","region"),r.setAttribute("aria-label",n("Panneau de diagnostic MGA","lightbox-jlg")),r.setAttribute("aria-live","polite"),r.setAttribute("aria-expanded","true");let s=document.createElement("h4");s.className="mga-debug-title",s.textContent=n("Debug MGA Performance","lightbox-jlg"),r.appendChild(s);let i=document.createElement("div");i.className="mga-debug-grid";let c=document.createElement("div");c.className="mga-debug-card mga-debug-card--full";let f=document.createElement("strong");f.className="mga-debug-label",f.textContent=n("Statut\xA0:","lightbox-jlg");let u=document.createElement("div");u.id="mga-debug-status",u.className="mga-debug-value mga-debug-status "+a.default,u.setAttribute("role","status"),u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.textContent=n("Inconnu","lightbox-jlg"),c.appendChild(f),c.appendChild(u),i.appendChild(c);let g=document.createElement("div");g.className="mga-debug-card";let y=document.createElement("strong");y.className="mga-debug-label",y.textContent=n("Chronom\xE8tre r\xE9el\xA0:","lightbox-jlg");let v=document.createElement("div");v.id="mga-debug-realtime",v.className="mga-debug-value "+a.success,v.setAttribute("aria-live","polite"),v.setAttribute("aria-atomic","true"),v.textContent=l(n("%ss","lightbox-jlg"),"0.00"),g.appendChild(y),g.appendChild(v),i.appendChild(g);let N=document.createElement("div");N.className="mga-debug-card";let I=document.createElement("strong");I.className="mga-debug-label",I.textContent=n("Timer Autoplay\xA0:","lightbox-jlg");let b=document.createElement("div");b.id="mga-debug-autoplay-time",b.className="mga-debug-value "+a.warning,b.setAttribute("aria-live","polite"),b.setAttribute("aria-atomic","true"),b.textContent=n("N/A","lightbox-jlg"),N.appendChild(I),N.appendChild(b),i.appendChild(N);let _=document.createElement("div");_.className="mga-debug-card";let T=document.createElement("strong");T.className="mga-debug-label",T.textContent=n("Zone de contenu\xA0:","lightbox-jlg");let C=document.createElement("div");C.id="mga-debug-content-area",C.className="mga-debug-value mga-debug-value--info mga-debug-value--wrap",C.setAttribute("aria-live","polite"),C.setAttribute("aria-atomic","true"),C.textContent=n("N/A","lightbox-jlg"),_.appendChild(T),_.appendChild(C),i.appendChild(_);let M=document.createElement("div");M.className="mga-debug-card";let k=document.createElement("strong");k.className="mga-debug-label",k.textContent=n("Images d\xE9clencheuses\xA0:","lightbox-jlg");let x=document.createElement("div");x.id="mga-debug-trigger-img",x.className="mga-debug-value "+a.warning,x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true"),x.textContent=n("0","lightbox-jlg"),M.appendChild(k),M.appendChild(x),i.appendChild(M);let L=document.createElement("div");L.className="mga-debug-card mga-debug-card--full";let V=document.createElement("strong");V.className="mga-debug-label",V.textContent=n("M\xE9dias visibles\xA0:","lightbox-jlg");let A=document.createElement("div");A.id="mga-debug-visible-slides",A.className="mga-debug-value "+a.accent,A.setAttribute("aria-live","polite"),A.setAttribute("aria-atomic","true"),A.textContent=n("N/A","lightbox-jlg"),L.appendChild(V),L.appendChild(A),i.appendChild(L),r.appendChild(i);let S=document.createElement("button");S.id="mga-force-open",S.type="button",S.className="mga-debug-button",S.textContent=n("Forcer l'ouverture (Test)","lightbox-jlg"),r.appendChild(S);let h=document.createElement("div");h.id="mga-log-container",h.className="mga-debug-log-container",h.setAttribute("role","region"),h.setAttribute("aria-label",n("Journal d'\xE9v\xE9nements","lightbox-jlg"));let B=document.createElement("h5");B.className="mga-debug-log-title",B.textContent=n("Journal d'\xE9v\xE9nements\xA0:","lightbox-jlg"),h.appendChild(B);let w=document.createElement("div");return w.id="mga-debug-log",w.className="mga-debug-log",w.setAttribute("role","log"),w.setAttribute("aria-live","polite"),w.setAttribute("aria-relevant","additions"),h.appendChild(w),r.appendChild(h),m(),document.body.appendChild(r),t.panel=r,t.logContainer=w,t.forceOpenAttached=!1,d(!0),r}function j(){return t.active?(t.panel||E(),!!t.panel):!1}function F(){j()&&(O(),t.startTime=performance.now(),t.timerInterval=setInterval(()=>{z("mga-debug-realtime",l(n("%ss","lightbox-jlg"),((performance.now()-t.startTime)/1e3).toFixed(2)),"success")},100))}function R(){F()}function O(){t.timerInterval&&(clearInterval(t.timerInterval),t.timerInterval=null)}function J(e={}){let r=typeof e=="string"?e:e&&typeof e.reason=="string"?e.reason:"manual";if(O(),t.panel&&t.panel.setAttribute("aria-expanded","false"),d(!1),t.panel&&t.panel.parentNode&&t.panel.parentNode.removeChild(t.panel),t.panel=null,t.logContainer=null,t.forceOpenAttached=!1,t.active=!1,typeof console!="undefined"&&typeof console.info=="function"){let s=r&&typeof r=="string"&&r.trim()?r.trim():"manual";console.info(l(n("Debug MGA d\xE9sactiv\xE9 (%s).","lightbox-jlg"),s))}}function K(){t.active?t.panel||E():(E(),t.active=!0),F()}function H(e){if(typeof e=="string")return e;if(e instanceof Error&&e.message)return e.message;if(typeof e=="object"&&e!==null)try{return JSON.stringify(e)}catch(r){return String(e)}return typeof e=="undefined"||e===null?"":String(e)}function U(e,r=!1){let s=(performance.now()/1e3).toFixed(3),i=r?"error":"log",c=H(e);if(typeof console!="undefined"&&typeof console[i]=="function"&&console[i](l(n("MGA [%1$ss]\xA0: %2$s","lightbox-jlg"),s,c)),!j()||!t.logContainer)return;let f=document.createElement("p");f.className="mga-debug-log-entry "+(r?"mga-debug-log-entry--error":"mga-debug-log-entry--info");let u=document.createElement("span");u.className="mga-debug-log-timestamp",u.textContent=l(n("[%ss]","lightbox-jlg"),s),f.appendChild(u);let g=document.createElement("span");g.className="mga-debug-log-separator",g.setAttribute("aria-hidden","true"),g.textContent=" \u203A ",f.appendChild(g);let y=document.createElement("span");y.className="mga-debug-log-message",y.textContent=c,f.appendChild(y),t.logContainer.appendChild(f),t.logContainer.scrollTop=t.logContainer.scrollHeight}function W(e,r={}){let s=typeof e=="string"&&e?e:"unknown",i=r&&typeof r=="object"&&Object.keys(r).length>0,c=i?l(n("Partage [%1$s]\xA0: %2$s","lightbox-jlg"),s,H(r)):l(n("Partage [%s]","lightbox-jlg"),s);if(U(c),i&&typeof console!="undefined"&&typeof console.table=="function")try{console.table(r)}catch(f){console.debug(r)}}function z(e,r,s="default"){if(!j())return;let i=document.getElementById(e);if(i&&(i.textContent=r,i.classList)){i.classList.add("mga-debug-value"),i.classList.remove(...P);let c=a[s]||a.default;i.classList.add(c)}}function X(e){z("mga-debug-visible-slides",e,"accent")}function Y(e){if(!j()||typeof e!="function")return;let s=E().querySelector("#mga-force-open");s&&!t.forceOpenAttached&&(s.addEventListener("click",e),t.forceOpenAttached=!0)}function Z(e){typeof console!="undefined"&&typeof console.table=="function"&&console.table(e)}o.mgaDebug={enabled:!0,init:K,log:U,updateInfo:z,updateVisibleSlides:X,onForceOpen:Y,stopTimer:O,restartTimer:R,table:Z,shareAction:W,destroy:J}})(window);})();
//# sourceMappingURL=debug.js.map
